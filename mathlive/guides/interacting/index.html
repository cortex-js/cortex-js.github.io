<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">




<title>
    CortexJS - Scientific Computing and Math for the Web
</title>
<meta name="description" content="CortexJS: Enhancing scientific computing with user-friendly MathLive for easy math input, MathJSON for web-native formats, and a versatile Compute Engine for symbolic and numerical math evaluations" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ECEC8YT7XS"></script>
<script async>
  if(/cortexjs\.io/.test(window.location.hostname)) {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ECEC8YT7XS');
  }
</script>


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="CortexJS - Scientific Computing and Math for the Web Feed">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="strict-origin" />


<link rel="icon" href="data:," />

<script>
  document.documentElement.classList.remove("no-js");
  document.documentElement.classList.add("js");
</script>


<script>
  window.moduleMap = {
"mathlive": "//unpkg.com/mathlive?module",
// "mathlive": "/js/mathlive.mjs",
"html-to-image": "///assets/js/html-to-image.js",
"compute-engine": "//unpkg.com/@cortex-js/compute-engine?module"
};

</script>




  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/codemirror.min.js" crossorigin="anonymous"></script>
  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/mode/javascript/javascript.min.js" crossorigin="anonymous"></script>
  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/mode/xml/xml.min.js" crossorigin="anonymous"></script>
  



  
    
      
    
    <script defer type="module" src="/assets/js/code-playground.min.js" crossorigin="anonymous"></script>
  
    
      
    
    <script defer type="module" src="//unpkg.com/mathlive?module" crossorigin="anonymous"></script>
  



<link rel="stylesheet" href="/assets/css/main.css" crossorigin>

  
    
      
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/codemirror.min.css" crossorigin>
  









    <link rel="preconnect" href="https://kit.fontawesome.com" crossorigin>
<script defer src="https://kit.fontawesome.com/523e3eb8bb.js" crossorigin="anonymous"></script>

<!-- <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> -->


<!-- <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Source+Sans+Pro:ital,wght@0,200;0,400;0,600;0,700;0,900;1,200;1,400;1,600;1,700&subset=latin" rel="stylesheet" crossorigin> -->
 

<link rel="preconnect" href="https://rsms.me/">
<link rel="stylesheet" href="https://rsms.me/inter/inter.css">


<!-- 
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;400;600;700;900&family=JetBrains+Mono:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=swap" rel="stylesheet" crossorigin> -->
  </head>

  <body class="layout--single">
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
      <defs>
          <symbol id="svg-chevron" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill="currentColor" d="m4.81347656 13.1269531c.22558594 0 .41015625-.0820312.56738282-.2324219l5.31835942-5.19531245c.1845703-.19140625.2802734-.38964844.2802734-.63574219 0-.23925781-.0888672-.45117187-.2802734-.62890625l-5.31835942-5.20214843c-.15722657-.15039063-.34179688-.23242188-.56738282-.23242188-.45800781 0-.81347656.35546875-.81347656.80664062 0 .21875.09570312.43066407.24609375.58789063l4.79199219 4.67578125-4.79199219 4.6621094c-.15722656.1640625-.24609375.3623047-.24609375.5878906 0 .4511719.35546875.8066406.81347656.8066406z"></path></symbol>
      </defs>
    </svg>
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    
  




<div class="masthead ">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <input id="site-toc" name="site-toc" type="checkbox" />
        <label for="site-toc"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></label>
        
        <a class="site-title" href="/">
          Cortex<em>JS</em>
          
        </a>
        <ul class="visible-links">
              
              <li class="masthead__menu-item active">
                <a href="/mathlive/" >MathLive</a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="/compute-engine/" >Compute Engine</a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="/cortex/" >Cortex</a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="/forum/" ><svg class="icon1quarterem" role="img"><title>Gitter Forum</title><use xlink:href="/assets/icons.svg#gitter"></use></svg></a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="https://discord.gg/yhmvVeJ4Hd" ><svg class="icon1quarterem" role="img"><title>Discord</title><use xlink:href="/assets/icons.svg#discord"></use></svg></a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="https://chat.openai.com/g/g-8YgEfR7ig-cortexjs-assistant" ><svg class="icon1quarterem" role="img"><title>ChatGPT Assistant</title><use xlink:href="/assets/icons.svg#openai"></use></svg></a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="https://github.com/cortex-js" ><svg class="icon1quarterem" role="img"><title>GitHub</title><use xlink:href="/assets/icons.svg#github"></use></svg></a>
              </li></ul>
        
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">




<div id="main" role="main">
  
  <div class="sidebar sticky">
    
      
      
      

      <nav class="nav__list">
  
  <input
    id="ac-toc"
    name="accordion-toc"
    type="checkbox" />
  <label for="ac-toc">Table of Content<svg
      aria-hidden="true"
      focusable="false"
      role="img"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 448 512"><path fill="currentColor" d="M432.6 209.3l-191.1 183.1C235.1 397.8 229.1 400 224 400s-11.97-2.219-16.59-6.688L15.41 209.3C5.814 200.2 5.502 184.1 14.69 175.4c9.125-9.625 24.38-9.938 33.91-.7187L224 342.8l175.4-168c9.5-9.219 24.78-8.906 33.91 .7187C442.5 184.1 442.2 200.2 432.6 209.3z" /></svg>
  </label>

  <ul class="nav__items">
    
      <li class="nav__section">
        
          <button class="nav__sub-title nav__sub-title_toggle">MathLive
            
              <span class="nav__sub-title_expand"><svg class="icon1em"><use xlink:href="/assets/icons.svg#plus"></use></svg></span>
              <span class="nav__sub-title_collapse"><svg class="icon1em"><use xlink:href="/assets/icons.svg#minus"></use></svg></span>
            
          </button>
        


        
          <ul>
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Introduction
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/demo/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#flask"></use>
                      </svg>
                    
                    Demo
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/virtual-keyboard/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Using the Virtual Keyboard
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/matrix/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Using the Matrix Editor
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/reference/commands/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    LaTeX Commands
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/reference/keybindings/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Keyboard Shortcuts
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/changelog/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#log"></use>
                      </svg>
                    
                    Changelog
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/getting-started/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#checklist"></use>
                      </svg>
                    
                    Getting Started
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/integration/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Add MathLive to your Project
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/react/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Using MathLive with React
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/interacting/"
                    data-url="/mathlive/guides/interacting/"
                    class="active">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Interact
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/fill-in-the-blank/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Fill-in-the-Blank
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/customizing/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Customize the Mathfield
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/commands/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Commands
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/macros/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Macros
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/shortcuts/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Shortcuts
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/speech/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Speech
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/static/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Display Static Math
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/menus/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Menus
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/virtual-keyboards/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Customize the Virtual Keyboard
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/lifecycle/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Lifecycle
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/mathlive/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#sdk"></use>
                      </svg>
                    
                    SDK Reference
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/editor"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#flask"></use>
                      </svg>
                    
                    Editor
                  </a>
                </li>
              
            
          </ul>
        
      </li>
    
      <li class="nav__section">
        
          <button class="nav__sub-title nav__sub-title_toggle">Compute Engine
            
              <span class="nav__sub-title_expand"><svg class="icon1em"><use xlink:href="/assets/icons.svg#plus"></use></svg></span>
              <span class="nav__sub-title_collapse"><svg class="icon1em"><use xlink:href="/assets/icons.svg#minus"></use></svg></span>
            
          </button>
        


        
          <ul>
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Introduction
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/demo/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#flask"></use>
                      </svg>
                    
                    Demo
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/changelog/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#log"></use>
                      </svg>
                    
                    Changelog
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/expressions/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Expressions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/symbols/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Symbols
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/canonical-form/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Canonical Form
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/augmenting/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Adding New Definitions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/latex-syntax/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    LaTeX Syntax
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/domains/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Domains
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/symbolic-computing/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Symbolic Computing
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/evaluate/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Evaluation
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/simplify/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Simplify
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/numeric-evaluation/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Numeric Evaluation
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/compiling/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Compiling
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/assumptions/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Assumptions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/patterns-and-rules/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Patterns and Rules
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/compute-engine/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#sdk"></use>
                      </svg>
                    
                    SDK Reference
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/math-json/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    The MathJSON Format
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/standard-library/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    MathJSON Standard Library
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/arithmetic/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Arithmetic
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/calculus/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Calculus
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/collections/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Collections
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/complex/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Complex
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/control-structures/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Control Structures
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/core/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Core
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/domains/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Domains
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/functions/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Functions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/linear-algebra/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Linear Algebra
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/logic/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Logic
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/sets/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Sets
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/special-functions/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Special Functions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/statistics/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Statistics
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/styling/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Styling
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/trigonometry/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Trigonometry
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/contributing/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#seedling"></use>
                      </svg>
                    
                    Contributing
                  </a>
                </li>
              
            
          </ul>
        
      </li>
    
      <li class="nav__section">
        
          <button class="nav__sub-title nav__sub-title_toggle">Cortex
            
              <span class="nav__sub-title_expand"><svg class="icon1em"><use xlink:href="/assets/icons.svg#plus"></use></svg></span>
              <span class="nav__sub-title_collapse"><svg class="icon1em"><use xlink:href="/assets/icons.svg#minus"></use></svg></span>
            
          </button>
        


        
          <ul>
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Introduction
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/goals/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Goals
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/principles/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Principles
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/source-code/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Source Code
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/comments/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Comments
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/literals/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Literals
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/naming/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Naming
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/operators/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Operators
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/pragmas/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Pragmas
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/syntax/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Syntax
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/implementation/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Implementation
                  </a>
                </li>
              
            
          </ul>
        
      </li>
    
      <li class="nav__section">
        
          <button class="nav__sub-title nav__sub-title_toggle">Additional Resources
            
              <span class="nav__sub-title_expand"><svg class="icon1em"><use xlink:href="/assets/icons.svg#plus"></use></svg></span>
              <span class="nav__sub-title_collapse"><svg class="icon1em"><use xlink:href="/assets/icons.svg#minus"></use></svg></span>
            
          </button>
        


        
          <ul>
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/about/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#person"></use>
                      </svg>
                    
                    About Us
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="https://github.com/arnog/mathlive"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#github"></use>
                      </svg>
                    
                    GitHub Repo (MathLive)
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="https://github.com/cortex-js/compute-engine"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#github"></use>
                      </svg>
                    
                    GitHub Repo (Compute Engine)
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/forum/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#gitter"></use>
                      </svg>
                    
                    Gitter Forum
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="https://discord.gg/yhmvVeJ4Hd"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#discord"></use>
                      </svg>
                    
                    Discord
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="https://chat.openai.com/g/g-8YgEfR7ig-cortexjs-assistant"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#openai"></use>
                      </svg>
                    
                    ChatGPT Assistant
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/reporting-issues/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#bug"></use>
                      </svg>
                    
                    Reporting Issues
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/contributing-code/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#code-branch"></use>
                      </svg>
                    
                    Contributing Code
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/support/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#seedling"></use>
                      </svg>
                    
                    Support the Project
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/code-of-conduct/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#handshake"></use>
                      </svg>
                    
                    Code of Conduct
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/license/"
                    data-url="/mathlive/guides/interacting/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#handshake"></use>
                      </svg>
                    
                    License
                  </a>
                </li>
              
            
          </ul>
        
      </li>
    
  </ul>
</nav>

<script>
  (function() {
    function findSection(el) {
      while (el && ! el.classList.contains('nav__section')) 
        el = el.parentElement;
      
      return el;
    }

// window.addEventListener('DOMContentLoaded', (event) => {
    const sidebar = document.querySelector('.sidebar');

    const activeItem = sidebar.querySelector('.nav__items a.active');
    if (activeItem) {
      const section = findSection(activeItem);
      if (section) 
        section.classList.add('active');
      



      sidebar.scrollTo(0, activeItem.offsetTop - sidebar.clientHeight + 100)
    }

    for (const el of[... sidebar.getElementsByClassName('nav__sub-title_toggle') ?? []]) 
      el.addEventListener('click', (ev) => {
        const section = findSection(ev.target);
        if (section) {
          if (section.classList.contains('active')) 
            section.classList.remove('active')
           else 
            section.classList.add('active');
          



        }
      })

    

  })();
</script>
    
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">

    <div class="page__inner-wrap">
    
    
      <section class="page__content" itemprop="text">

  
    <h1>Interacting with a Mathfield</h1>
  

  

    <nav class="toc">
      <header><h2 class="nav__title"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" style="height:16px; width:12px"><path fill="currentColor" d="M256 0v128h128L256 0zM224 128L224 0H48C21.49 0 0 21.49 0 48v416C0 490.5 21.49 512 48 512h288c26.51 0 48-21.49 48-48V160h-127.1C238.3 160 224 145.7 224 128zM272 416h-160C103.2 416 96 408.8 96 400C96 391.2 103.2 384 112 384h160c8.836 0 16 7.162 16 16C288 408.8 280.8 416 272 416zM272 352h-160C103.2 352 96 344.8 96 336C96 327.2 103.2 320 112 320h160c8.836 0 16 7.162 16 16C288 344.8 280.8 352 272 352zM288 272C288 280.8 280.8 288 272 288h-160C103.2 288 96 280.8 96 272C96 263.2 103.2 256 112 256h160C280.8 256 288 263.2 288 272z"/></svg>On This Page</h2></header>

      
        <div class="toc__menu" >
        <ol><li><a href="#changing-the-content-of-a-mathfield">Changing the Content of a Mathfield</a></li><li><a href="#reading-the-content-of-a-mathfield">Reading the Content of a Mathfield</a></li><li><a href="#using-a-mathfield-with-the-cortexjs-compute-engine">Using a Mathfield with the CortexJS Compute Engine</a></li><li><a href="#listening-for-changes-to-a-mathfield">Listening for Changes to a Mathfield</a></li><li><a href="#detecting-when-the-user-has-finished-editing-a-mathfield">Detecting When the User has Finished Editing a Mathfield</a></li><li><a href="#detecting-a-click-on-a-mathfield">Detecting a Click on a Mathfield</a></li><li><a href="#detecting-navigation-out-of-a-mathfield">Detecting Navigation out of a Mathfield</a></li><li><a href="#interacting-with-the-clipboard">Interacting with the Clipboard</a></li><li><a href="#applying-style-to-a-mathfield">Applying Style to a Mathfield</a></li></ol>
      </div>
      
                              
    </nav>
  



<h2 id="changing-the-content-of-a-mathfield" tabindex="-1">Changing the Content of a Mathfield</h2>
<p><strong>To change the value of a <code>&lt;math-field&gt;</code> element programatically</strong> set its <code>value</code>
property.</p>
<p>In the playground below, the <strong>LaTeX</strong> input field is editable and is reflected
in the mathfield, and vice-versa.</p>
<p class="notice--info">Note that we use the <code>suppressChangeNotifications</code> option when
changing the content of the mathfield, to prevent an <code>&quot;input&quot;</code> event from being
triggered and creating an infinite loop.</p>
<code-playground layout="stack">
  <pre slot="javascript">
const mf = document.getElementById("formula");
const latex = document.getElementById("latex");
//
mf.addEventListener("input",(ev) => latex.value = mf.value);
//
latex.value = mf.value;
//
// Listen for changes in the "latex" text field, 
// and reflect its value in the mathfield.
//
latex.addEventListener("input", (ev) => 
    mf.setValue(
      ev.target.value, 
      {suppressChangeNotifications: true}
    )
);
  </pre>
  <pre slot="html">&lt;label&gt;Mathfield&lt;/label&gt;
&lt;math-field id="formula"&gt;
    x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}
&lt;/math-field&gt;                
&lt;label&gt;Latex&lt;/label&gt;
&lt;textarea class="output" id="latex" autocapitalize="off" autocomplete="off"
  autocorrect="off" spellcheck="false">&lt;/textarea></pre>
</code-playground>
<h2 id="reading-the-content-of-a-mathfield" tabindex="-1">Reading the Content of a Mathfield</h2>
<p><strong>To read the content of a <code>&lt;math-field&gt;</code> element as a LaTeX string</strong> use its <code>value</code> property,
just like with a <code>&lt;textarea&gt;</code>.</p>
<p><strong>To be notified when the content of the mathfield is modified</strong> listen for
an <code>&quot;input&quot;</code> event.</p>
<p class="notice--info"><strong>Try</strong>: modify the <code>&quot;input&quot;</code> event below to a <code>&quot;change&quot;</code> event. Notice how the <code>&quot;change&quot;</code> event
is only sent if you press the <kbd>RETURN</kbd> or <kbd>ENTER</kbd> key, or when the mathfield
loses focus and the content has been modified.</p>
<code-playground layout="stack">
  <style slot="style">
    .output:focus-within {
      outline: Highlight auto 1px;
      outline: -webkit-focus-ring-color auto 1px
    }
    .output math-field:focus, .output math-field:focus-within {
      outline: none;
    }
  </style>
  <pre slot="javascript">document.getElementById('formula').addEventListener('input',(ev) => {
  // `ev.target` is an instance of `MathfieldElement`
  console.log(ev.target.value);
});</pre>
    <pre slot="html">
&lt;math-field id="formula"&gt;
  x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}
&lt;/math-field&gt;</pre>
</code-playground>
<hr>
<p>Reading the <code>value</code> property is equivalent to calling the <code>getValue()</code> method with
no argument.</p>
<p><strong>To control the format of the result</strong>, pass options to <a href="/docs/mathlive/#(%22mathfield-element%22%3Amodule).(MathfieldElement%3Aclass).(getValue%3Ainstance)"><code>getValue()</code></a>.
For example to get the content as a MathJSON expression, use <code>mf.getValue('math-json')</code>.</p>
<p class="notice--info"><strong>Try:</strong> <a href="/docs/mathlive/#(%22mathfield%22%3Amodule).(OutputFormat%3Atype)">Other formats</a> are available: change <code>&quot;math-json&quot;</code> to <code>&quot;spoken-text&quot;</code>.</p>
<code-playground layout="stack">
    <pre slot="html">
&lt;math-field id="formula"&gt;
  x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}
&lt;/math-field&gt;</pre>
    <pre slot="javascript">import 'compute-engine';
const mf = document.getElementById('formula');
//
// `ev.target` is an instance of `MathfieldElement`
mf.addEventListener('input',
  (ev) => console.log(ev.target.getValue('math-json'))
);</pre>
</code-playground>
<h2 id="using-a-mathfield-with-the-cortexjs-compute-engine" tabindex="-1">Using a Mathfield with the CortexJS Compute Engine</h2>
<p>The <a href="/math-json">MathJSON</a> format is a lightweight mathematical notation interchange format.</p>
<p>The CortexJS Compute Engine is a JavaScript library that can perform
mathematical operations on MathJSON expressions.</p>
<p><strong>To use the Compute Engine</strong>, import the Compute Engine library, e.g. <code>import &quot;https://unpkg.com/@cortex-js/compute-engine?module&quot;</code></p>
<p>If the Compute Engine has been loaded in the page, mathfields will automatically
create an instance of the compute engine when needed.</p>
<p><strong>To access that shared Compute Engine instance</strong>, use <code>MathfieldElement.computeEngine</code>.</p>
<p class="notice--info">If the value returned is <code>undefined</code>, it means that the Compute Engine has not
been loaded in the page.</p>
<p>You can also create your own instance of the Compute Engine and pass it to the
mathfield using the <code>computeEngine</code> property.</p>
<pre><code class="language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComputeEngine</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;compute-engine&#x27;</span>;
<span class="hljs-title class_">MathfieldElement</span>.<span class="hljs-property">computeEngine</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComputeEngine</span>();
</code></pre>
<p class="notice--info">This is usually not necessary and you can rely on the default shared instance
of the Compute Engine.</p>
<p><strong>To read the content of a <code>&lt;math-field&gt;</code> element as a boxed MathJSON expression</strong> use the mathfield <code>expression</code> property.</p>
<p>Using <code>mf.expression</code> is equivalent to calling <code>MathfieldElement.computeEngine.parse(mf.value)</code> or <code>MathfieldElement.computeEngine.box(mf.getValue(&quot;math-json&quot;))</code>.</p>
<p>Once you have a boxed expression, you can perform operations on it using the
Compute Engine.</p>
<p>For example, you can:</p>
<ul>
<li><a href="/compute-engine/guides/evaluate/">evaluate it</a> using <code>mf.expression.evaluate()</code></li>
<li>simplify it using <code>mf.expression.simplify()</code></li>
<li><a href="/compute-engine/guides/symbolic-computing/#comparing-expressions">compare it to another expression</a> using <code>mf.expression.isEqual()</code> and
<code>mf.expression.isSame()</code></li>
<li><a href="/compute-engine/guides/compiling/">compile it</a> to JavaScript</li>
</ul>
<p class="notice--info">Note that the expressions are returned by default in a canonical form, which means that
they may be different from the original input. For example, <code>x + 1</code> and <code>1 + x</code>
are considered equal, and will be returned as <code>1 + x</code>. If necessary you
can request non-canonical forms.</p>
<div class='read-more'><a href="/compute-engine/guides/canonical-form/">
Learn more about <strong>canonical forms</strong>.
<svg class="svg-chevron"><use xlink:href="#svg-chevron"></use></svg></a></div>
<p>You can also extend the definitions of the Compute Engine <a href="/compute-engine/guides/augmenting/">by adding your own</a>.</p>
<code-playground layout="stack">
    <pre slot="html">
&lt;math-field id="formula"&gt;
  \mathrm{Expand}((a+b)^6)
&lt;/math-field&gt;</pre>
    <pre slot="javascript">import 'compute-engine';
const mf = document.getElementById('formula');
mf.addEventListener('input', () => 
  console.log(mf.expression.evaluate())
);</pre>
console.log(mf.expression.evaluate());
</code-playground>
<div class='read-more'><a href="/compute-engine/guides/symbolic-computing/">
Learn more about <strong>symbolic computing</strong> with the Compute Engine
<svg class="svg-chevron"><use xlink:href="#svg-chevron"></use></svg></a></div>
<h2 id="listening-for-changes-to-a-mathfield" tabindex="-1">Listening for Changes to a Mathfield</h2>
<p>The mathfield element dispatches the <code>beforeinput</code> and <code>input</code>
<a href="https://www.w3.org/TR/input-events-1/">Input Events</a>, which are also
implemented by <code>&lt;textarea&gt;</code> and similar elements.</p>
<p>The <code>beforeinput</code> and <code>input</code> events implement the <code>InputEvent</code> interface.</p>
<p>These events are sent before (<code>beforeinput</code> event) and after (<code>input</code> event) a
user attempts to edit the mathfield. This includes insertion and deletion of
content, and formatting changes.</p>
<p>The events include an <code>inputType</code> property that describe what caused the event
to be dispatched.</p>
<div class='symbols-table'>
<table>
<thead>
<tr>
<th style="text-align:left"><code>inputType</code></th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>insertText</code></td>
<td style="text-align:left">Some content was added. It could be math content, plain text or raw latex. It could also be a row or column in matrix that was added.</td>
</tr>
<tr>
<td style="text-align:left"><code>insertLineBreak</code></td>
<td style="text-align:left">The <kbd>RETURN</kbd> or <kbd>ENTER</kbd> key was pressed. Note that the actual content of the mathfield may not have changed.</td>
</tr>
<tr>
<td style="text-align:left"><code>insertFromPaste</code></td>
<td style="text-align:left">The content of the mathfield was changed because of a paste operation</td>
</tr>
<tr>
<td style="text-align:left"><code>deleteWordBackward</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><code>deleteWordForward</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><code>deleteWordForward</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><code>deleteSoftLineBackward</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><code>deleteSoftLineForward</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><code>deleteHardLineBackward</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><code>deleteHardLineForward</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><code>deleteByCut</code></td>
<td style="text-align:left">The content was changed because of a cut operation</td>
</tr>
<tr>
<td style="text-align:left"><code>deleteContent</code></td>
<td style="text-align:left">Some content was deleted, but no particular direction applied</td>
</tr>
<tr>
<td style="text-align:left"><code>deleteContentBackward</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><code>deleteContentForward</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><code>historyUndo</code></td>
<td style="text-align:left">The content was changed because of an undo command</td>
</tr>
<tr>
<td style="text-align:left"><code>historyRedo</code></td>
<td style="text-align:left">The content was changed because of a redo command</td>
</tr>
</tbody>
</table>
</div>
<p class="notice-warning">On iOS, the <code>inputType</code> property is removed. However, its content can also be access as <code>ev.data</code>. Until this issue is addressed in iOS, for better compatibility, use <code>ev.data</code>.</p>
<p>The <code>beforeinput</code> event is dispatched before any modifications to the mathfield
have been done. This event is cancelable. Calling <code>preventDefault()</code> on the
event will cause the modification to be prevented.</p>
<p>If the <code>beforeinput</code> event is not canceled, the mathfield content is modified
and a <code>input</code> event is dispatched. The <code>input</code> event is not cancelable.</p>
<h2 id="detecting-when-the-user-has-finished-editing-a-mathfield" tabindex="-1">Detecting When the User has Finished Editing a Mathfield</h2>
<p><strong>To detect when the user presses the <kbd>RETURN</kbd> or <kbd>ENTER</kbd> key in a mathfield</strong>,
listen for the <code>change</code> event.</p>
<p>Note that this event is not fired when in LaTeX editing mode, where <strong>Return</strong>
or <strong>Enter</strong> is used to exit the mode.</p>
<p>This event is also fired if the mathfield loses focus, even if the user did not
use the keyboard. This behavior matches the <code>&lt;textarea&gt;</code> element.</p>
<p><strong>To listen specifically for a press of the <kbd>RETURN</kbd> or <kbd>ENTER</kbd> key on the
keyboard</strong> listen for an <code>input</code> event with an <code>inputType</code>
(or <code>ev.data</code> on iOS) property of <code>&quot;insertLineBreak&quot;</code>.</p>
<pre><code class="language-js">mf.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;beforeinput&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">ev</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (ev.<span class="hljs-property">inputType</span> === <span class="hljs-string">&#x27;insertLineBreak&#x27;</span>) {
    mf.<span class="hljs-title function_">executeCommand</span>(<span class="hljs-string">&quot;moveToNextPlaceholder&quot;</span>);
    ev.<span class="hljs-title function_">preventDefault</span>();
  };
});
</code></pre>
<h2 id="detecting-a-click-on-a-mathfield" tabindex="-1">Detecting a Click on a Mathfield</h2>
<p>In most cases MathLive will respond to mouse and keyboard interactions with
the mathfield. However, in some cases it might be useful to detect when a
mathfield is clicked on. For example, you could display one or more read-only
mathfields in a list and prompt the user to pick one by clicking on it.</p>
<p>In general, to be notified of an event, use <code>mf.addEventListener()</code>. This
includes some generic events, as well as some that are specific to mathfields.</p>
<p>Events that target a DOM element inside the mathfield (inside the shadow DOM)
will bubble and be retargeted to appear as if they had targeted the
mathfield (that is, the <code>evt.target</code> will be the mathfield itself).</p>
<p>This include the following standard events:</p>
<ul>
<li><code>change</code>: the <kbd>RETURN</kbd> or <kbd>ENTER</kbd> key was pressed, or the field lost focus.</li>
<li><code>blur</code>, <code>focus</code>, <code>focusin</code>, <code>focusout</code></li>
<li><code>click</code></li>
<li><code>mousedown</code>, <code>mouseup</code>, <code>mousemove</code>, <code>mouseout, </code>mouseover`</li>
<li><code>beforeinput</code>, <code>input</code>. If the <code>inputType</code> property of the event is <code>&quot;insertLineBreak&quot;</code> the <kbd>RETURN</kbd> or <kbd>ENTER</kbd> key was pressed</li>
<li><code>keydown</code>, <code>keypress</code>, <code>keyup</code></li>
<li><code>wheel</code></li>
<li>all the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events">pointer events</a> such as <code>pointerdown</code>, <code>pointerup</code>, etc… and all the touch events</li>
</ul>
<p>As well as these mathfield specific events:</p>
<ul>
<li><code>mount</code>: the mathfield has been connected to the DOM</li>
<li><code>unmount</code>: the mathfield is no longer connected to the DOM</li>
<li><code>focus-out</code>: tab key interactions</li>
<li><code>move-out</code>: arrow key interactions</li>
<li><code>mode-change</code>: change to <code>math</code>, <code>text</code> or <code>latex</code> mode</li>
<li><code>read-aloud-status-change</code></li>
<li><code>selection-change</code></li>
<li><code>undo-state-change</code></li>
</ul>
<h2 id="detecting-navigation-out-of-a-mathfield" tabindex="-1">Detecting Navigation out of a Mathfield</h2>
<p>A user may navigate outside of a mathfield by pressing the arrow keys, or the tab, home and end keys.</p>
<p>By default, the mathfield reacts as a standard textarea field: moving to the next focusable element when the <kbd>TAB</kbd> (or <kbd>SHIFT+TAB</kbd>) key is pressed, and
doing nothing when reaching the start or end of the mathfield when navigation with the arrow keys.</p>
<p>In some cases, you may want to implement a different behavior. For example if a mathfield is embedded inside an editable paragraph, you may want the arrow keys to exit the mathfield when reaching the end/start. Or you may want the <KBD>TAB</kbd> key to simply move the caret to the end/start of the mathfield.</p>
<p><strong>To change the behavior of a mathfield when navigation out of a mathfield</strong> listen
for the <code>focus-out</code> and <code>move-out</code> events.</p>
<p>The <code>detail</code> property of those events indicate the direction of navigation.
To cancel the default behavior, use <code>ev.preventDefault()</code>.</p>
<pre><code class="language-js">mf.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;move-out&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">ev</span>) =&gt;</span> {
ev.<span class="hljs-title function_">preventDefault</span>();
  <span class="hljs-comment">// Remove focus from mathfield</span>
  mf.<span class="hljs-title function_">blur</span>();
  <span class="hljs-comment">// Focus some other element, use ev.detail.direction to detect if </span>
  <span class="hljs-comment">// navigating backward, forward, upward or downward</span>
  <span class="hljs-comment">// ...</span>
});

mf.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;focus-out&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">ev</span>) =&gt;</span> {
  ev.<span class="hljs-title function_">preventDefault</span>();
  <span class="hljs-comment">// Move the cursor to the start/end of the mathfield on tab</span>
  <span class="hljs-keyword">if</span> (ev.<span class="hljs-property">detail</span>.<span class="hljs-property">direction</span> === <span class="hljs-string">&#x27;forward&#x27;</span>)
    mf.<span class="hljs-title function_">executeCommand</span>(<span class="hljs-string">&#x27;moveToMathfieldEnd&#x27;</span>);
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ev.<span class="hljs-property">detail</span>.<span class="hljs-property">direction</span> === <span class="hljs-string">&#x27;backward&#x27;</span>)
    mf.<span class="hljs-title function_">executeCommand</span>(<span class="hljs-string">&#x27;moveToMathfieldStart&#x27;</span>);
});
</code></pre>
<section id='clipboard'>
<h2 id="interacting-with-the-clipboard" tabindex="-1">Interacting with the Clipboard</h2>
<p>Users can export the content of the mathfield by using standard <strong>Copy</strong>/<strong>Cut</strong>
commands (<kbd>Control/⌘</kbd> <kbd>X</kbd> and <kbd>Control/⌘</kbd> <kbd>C</kbd>).</p>
<p>Multiple flavors are put on the clipboard:</p>
<div class='symbols-table'>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>text/plain</code></td>
<td style="text-align:left">LaTeX wrapped with a <code>$$</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>application/x-latex</code></td>
<td style="text-align:left">Raw LaTeX</td>
</tr>
<tr>
<td style="text-align:left"><code>application/json</code></td>
<td style="text-align:left">A MathJSON representation of the formula.</td>
</tr>
</tbody>
</table>
</div>
<p>The recipient of the <strong>Paste</strong> operation can pick whichever is most appropriate.
If the recipient is a web app, the specific flavor can be accessed using
the <code>event.clipboardData.getData()</code> API. If the recipient is a native app,
the most popular browsers currently only make accessible the text flavor,
with a LaTeX representation of the formula.</p>
<p>The LaTeX in the <code>text/plain</code> flavor is “wrapped” to make it easier for the
recipient of the paste to recognize that this content is in LaTeX format.</p>
<p class="notice--info">For improved interoperability, the exported LaTeX uses the <code>latex-expanded</code>
format. In this format, any macros in the formula are expanded to their
definition. For example, the <code>\differentialD</code> command is exported as its
corresponding definition, <code>\mathrm{d}</code>.</p>
<p><strong>To customize the content of the <code>text/plain</code> flavor</strong>, use the <code>onExport()</code> hook.</p>
<p>For example, to wrap the exported latex with <code>&lt;math&gt;...&lt;/math&gt;</code> instead:</p>
<pre><code class="language-js">mf.<span class="hljs-property">onExport</span> = <span class="hljs-function">(<span class="hljs-params">mf, latex</span>) =&gt;</span> <span class="hljs-string">`&lt;math&gt;<span class="hljs-subst">${latex}</span>&lt;/math&gt;`</span>
</code></pre>
<p><strong>To export the “raw” (not expanded) LaTeX)</strong>, use:</p>
<pre><code class="language-js">mf.<span class="hljs-property">onExport</span> = <span class="hljs-function">(<span class="hljs-params">mf, latex, range</span>) =&gt;</span> <span class="hljs-string">`$$<span class="hljs-subst">${mf.getValue(range, <span class="hljs-string">&#x27;latex&#x27;</span>)}</span>$$`</span>
</code></pre>
<p>The exported format doesn’t have to be LaTeX. To export ASCIIMath instead:</p>
<pre><code class="language-js">mf.<span class="hljs-property">onExport</span> = <span class="hljs-function">(<span class="hljs-params">mf, latex, range</span>) =&gt;</span> 
    <span class="hljs-string">&quot;`&quot;</span> + mf.<span class="hljs-title function_">getValue</span>(range, <span class="hljs-string">&#x27;ascii-math&#x27;</span>) + <span class="hljs-string">&quot;`&quot;</span>
</code></pre>
<p class="notice--info">The standard delimiter for ASCIIMath is the <kbd>`</kbd> (backtick) character .</p>
<h2 id="applying-style-to-a-mathfield" tabindex="-1">Applying Style to a Mathfield</h2>
<p>The text color (“ink”) and background color (“paper”), as well as other
stylistic attributes, can be changed on a mathfield, or a portion of a mathfield
using <code>applyStyle()</code>.</p>
<p class="notice--info">This style applies to the content of the formula and will be reflected in the
LaTeX output. To change the appearance of the mathfield but not
the content of the formula, see <a href="mathlive/guides/customizing/">Customizing</a>.</p>
<code-playground layout="stack">
    <style slot="style">
      .output:focus-within {
        outline: Highlight auto 1px;
        outline: -webkit-focus-ring-color auto 1px
      }
      .output math-field:focus, .output math-field:focus-within {
        outline: none;
      }
    </style>
    <pre slot="javascript">
const mf = document.getElementById('formula');
//
// Change the background color of the entire mathfield
mf.applyStyle(
  { backgroundColor: 'yellow' },
  { range: [0, -1] }
);
</pre>
<pre slot="html">
&lt;math-field id="formula"&gt;
  x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}
&lt;/math-field&gt;</pre>
</code-playground>
<p><strong>To change the style of a portion of the mathfield</strong>, specify a selection range
to <code>applyStyle()</code>.</p>
<code-playground layout="stack">
    <style slot="style">
      .output:focus-within {
        outline: Highlight auto 1px;
        outline: -webkit-focus-ring-color auto 1px
      }
      .output math-field:focus, .output math-field:focus-within {
        outline: none;
      }
    </style>
    <pre slot="javascript">
const mf = document.getElementById('formula');
//
// Change the color and size of the first two characters of the mathfield
mf.applyStyle({color: "red", fontSize: 7 }, { range: [0, 2] });
</pre>
<pre slot="html">
&lt;math-field id="formula"&gt;
  x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}
&lt;/math-field&gt;</pre>
</code-playground>
<p><strong>To remove a style</strong>, set the value of the <code>fontFamily</code>, <code>color</code> or <code>backgroundColor</code>
property to <code>&quot;none&quot;</code>, or the value of the <code>fontShape</code>, <code>fontSeries</code> or <code>fontSize</code>
property to <code>&quot;auto&quot;</code>.</p>
<p class="notice--info">You can ignore styles applied to a formula by using <code>mf.getValue('latex-unstyled')</code></p>
<!-- Intercepting navigate out of and multiple fields -->
<!-- ## Performing editing commands -->
</section>
<div class='read-more'><a href="/mathlive/guides/commands/">
<strong>Next:</strong> Interacting with a mathfield with <strong>editing commands</strong>
<svg class="svg-chevron"><use xlink:href="#svg-chevron"></use></svg></a></div>
<div class='read-more'><a href="/mathlive/guides/customizing/">
<strong>Next:</strong> <strong>Customizing a Mathfield</strong>: controlling its appearance and behavior
<svg class="svg-chevron"><use xlink:href="#svg-chevron"></use></svg></a></div>
<div class='read-more'><a href="/mathlive/guides/lifecycle/">
<strong>Next:</strong> Understand in depth the <strong>Lifecycle of a MathfieldElement</strong>: construction, interaction with the DOM and when you can communicate with it
<svg class="svg-chevron"><use xlink:href="#svg-chevron"></use></svg></a></div>




      </section>

      <footer class="page__meta">
        
        


        <meta itemprop="datePublished" content="November 20, 2023">
                

        


        
          <p class="page__date"><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#calendar-days"/></svg><strong> Updated</strong> <time datetime="2023-11-20">November 20, 2023</time></p>
        

          <p class="page__meta-link"><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#bug"/></svg> <strong>Problem? Feedback?</strong> File a report at&nbsp;<a href="https://github.com/cortex-js/cortexjs.io">github.com/cortex-js/cortexjs.io</a></p>
      </footer>


      
    </div>

  </article>

  
  


<aside class="sidebar__right">
  <nav class="toc">
    <header><h2 class="nav__title"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" style="height:16px; width:12px"><path fill="currentColor" d="M256 0v128h128L256 0zM224 128L224 0H48C21.49 0 0 21.49 0 48v416C0 490.5 21.49 512 48 512h288c26.51 0 48-21.49 48-48V160h-127.1C238.3 160 224 145.7 224 128zM272 416h-160C103.2 416 96 408.8 96 400C96 391.2 103.2 384 112 384h160c8.836 0 16 7.162 16 16C288 408.8 280.8 416 272 416zM272 352h-160C103.2 352 96 344.8 96 336C96 327.2 103.2 320 112 320h160c8.836 0 16 7.162 16 16C288 344.8 280.8 352 272 352zM288 272C288 280.8 280.8 288 272 288h-160C103.2 288 96 280.8 96 272C96 263.2 103.2 256 112 256h160C280.8 256 288 263.2 288 272z"/></svg>On This Page</h2></header>
  
    
      <div class="toc__menu" >
        <ol><li><a href="#changing-the-content-of-a-mathfield">Changing the Content of a Mathfield</a></li><li><a href="#reading-the-content-of-a-mathfield">Reading the Content of a Mathfield</a></li><li><a href="#using-a-mathfield-with-the-cortexjs-compute-engine">Using a Mathfield with the CortexJS Compute Engine</a></li><li><a href="#listening-for-changes-to-a-mathfield">Listening for Changes to a Mathfield</a></li><li><a href="#detecting-when-the-user-has-finished-editing-a-mathfield">Detecting When the User has Finished Editing a Mathfield</a></li><li><a href="#detecting-a-click-on-a-mathfield">Detecting a Click on a Mathfield</a></li><li><a href="#detecting-navigation-out-of-a-mathfield">Detecting Navigation out of a Mathfield</a></li><li><a href="#interacting-with-the-clipboard">Interacting with the Clipboard</a></li><li><a href="#applying-style-to-a-mathfield">Applying Style to a Mathfield</a></li></ol>
      </div>
    
                            
  </nav>
</aside>

</div>


</div>

    

    <footer id="footer" class="page__footer" role="contentinfo">
      <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
      <div class="page__footer-follow">
  <ul class="social-icons">
     
     
     
    
    <li>
      <a href="https://github.com/cortex-js" rel="nofollow noopener noreferrer"
          ><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#github"></use></svg>GitHub</a
      >
    </li>
     
     
    
    <li>
      <a href="/forum/" rel="nofollow noopener noreferrer"
          ><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#gitter"></use></svg>Gitter Forum</a
      >
    </li>
     
     
    
    <li>
      <a href="https://discord.gg/yhmvVeJ4Hd" rel="nofollow noopener noreferrer"
          ><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#discord"></use></svg>Discord</a
      >
    </li>
     
     
    
    <li>
      <a href="https://chat.openai.com/g/g-8YgEfR7ig-cortexjs-assistant" rel="nofollow noopener noreferrer"
          ><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#openai"></use></svg>AI Assistant</a
      >
    </li>
     
     
    

  </ul>
</div>
<div class="page__footer-pages">
   
    <ul>
       
      
      <li>
        <a href="/about/" rel="nofollow noopener noreferrer">About Us</a>
      </li>
       
       
    </ul>
  

</div>
    </footer>

    
  <!-- <script defer src="/assets/js/main.min.js"></script> -->









  </body>
</html>