<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">




<title>
    CortexJS
</title>
<meta name="description" content="" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ECEC8YT7XS"></script>
<script async>
  if(/cortexjs\.io/.test(window.location.hostname)) {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ECEC8YT7XS');
  }
</script>


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="CortexJS Feed">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="strict-origin" />


<link rel="icon" href="data:," />

<script>
  document.documentElement.classList.remove("no-js");
  document.documentElement.classList.add("js");
</script>


<script>
  window.moduleMap = {
"mathlive": "//unpkg.com/mathlive?module",
// "mathlive": "/js/mathlive.mjs",
"html-to-image": "///assets/js/html-to-image.js",
"compute-engine": "//unpkg.com/@cortex-js/compute-engine?module"
};

</script>




  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/codemirror.min.js" crossorigin="anonymous"></script>
  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/mode/javascript/javascript.min.js" crossorigin="anonymous"></script>
  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/mode/xml/xml.min.js" crossorigin="anonymous"></script>
  



  
    
      
    
    <script defer type="module" src="/assets/js/code-playground.min.js" crossorigin="anonymous"></script>
  
    
      
    
    <script defer type="module" src="//unpkg.com/mathlive?module" crossorigin="anonymous"></script>
  



<link rel="stylesheet" href="/assets/css/main.css" crossorigin>

  
    
      
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/codemirror.min.css" crossorigin>
  









    <link rel="preconnect" href="https://kit.fontawesome.com" crossorigin>
<script defer src="https://kit.fontawesome.com/523e3eb8bb.js" crossorigin="anonymous"></script>

<!-- <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> -->


<!-- <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Source+Sans+Pro:ital,wght@0,200;0,400;0,600;0,700;0,900;1,200;1,400;1,600;1,700&subset=latin" rel="stylesheet" crossorigin> -->
 

<link rel="preconnect" href="https://rsms.me/">
<link rel="stylesheet" href="https://rsms.me/inter/inter.css">


<!-- 
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;400;600;700;900&family=JetBrains+Mono:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=swap" rel="stylesheet" crossorigin> -->
  </head>

  <body class="layout--single">
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
      <defs>
          <symbol id="svg-chevron" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill="currentColor" d="m4.81347656 13.1269531c.22558594 0 .41015625-.0820312.56738282-.2324219l5.31835942-5.19531245c.1845703-.19140625.2802734-.38964844.2802734-.63574219 0-.23925781-.0888672-.45117187-.2802734-.62890625l-5.31835942-5.20214843c-.15722657-.15039063-.34179688-.23242188-.56738282-.23242188-.45800781 0-.81347656.35546875-.81347656.80664062 0 .21875.09570312.43066407.24609375.58789063l4.79199219 4.67578125-4.79199219 4.6621094c-.15722656.1640625-.24609375.3623047-.24609375.5878906 0 .4511719.35546875.8066406.81347656.8066406z"></path></symbol>
      </defs>
    </svg>
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    
  




<div class="masthead ">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <input id="site-toc" name="site-toc" type="checkbox" />
        <label for="site-toc"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></label>
        
        <a class="site-title" href="/">
          Cortex<em>JS</em>
          
        </a>
        <ul class="visible-links">
              
              <li class="masthead__menu-item active">
                <a href="/mathlive/" >MathLive</a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="/compute-engine/" >Compute Engine</a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="/cortex/" >Cortex</a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="/forum/" ><svg class="icon1quarterem" role="img"><title>Gitter Forum</title><use xlink:href="/assets/icons.svg#gitter"></use></svg></a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="https://discord.gg/yhmvVeJ4Hd" ><svg class="icon1quarterem" role="img"><title>Discord</title><use xlink:href="/assets/icons.svg#discord"></use></svg></a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="https://chat.openai.com/g/g-8YgEfR7ig-cortexjs-assistant" ><svg class="icon1quarterem" role="img"><title>ChatGPT Assistant</title><use xlink:href="/assets/icons.svg#openai"></use></svg></a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="https://github.com/cortex-js" ><svg class="icon1quarterem" role="img"><title>GitHub</title><use xlink:href="/assets/icons.svg#github"></use></svg></a>
              </li></ul>
        
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">




<div id="main" role="main">
  
  <div class="sidebar sticky">
    
      
      
      

      <nav class="nav__list">
  
  <input
    id="ac-toc"
    name="accordion-toc"
    type="checkbox" />
  <label for="ac-toc">Table of Content<svg
      aria-hidden="true"
      focusable="false"
      role="img"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 448 512"><path fill="currentColor" d="M432.6 209.3l-191.1 183.1C235.1 397.8 229.1 400 224 400s-11.97-2.219-16.59-6.688L15.41 209.3C5.814 200.2 5.502 184.1 14.69 175.4c9.125-9.625 24.38-9.938 33.91-.7187L224 342.8l175.4-168c9.5-9.219 24.78-8.906 33.91 .7187C442.5 184.1 442.2 200.2 432.6 209.3z" /></svg>
  </label>

  <ul class="nav__items">
    
      <li class="nav__section">
        
          <button class="nav__sub-title nav__sub-title_toggle">MathLive
            
              <span class="nav__sub-title_expand"><svg class="icon1em"><use xlink:href="/assets/icons.svg#plus"></use></svg></span>
              <span class="nav__sub-title_collapse"><svg class="icon1em"><use xlink:href="/assets/icons.svg#minus"></use></svg></span>
            
          </button>
        


        
          <ul>
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Introduction
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/demo/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#flask"></use>
                      </svg>
                    
                    Demo
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/virtual-keyboard/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Using the Virtual Keyboard
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/reference/commands/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    LaTeX Commands
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/reference/keybindings/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Keyboard Shortcuts
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/changelog/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#log"></use>
                      </svg>
                    
                    Changelog
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/getting-started/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#checklist"></use>
                      </svg>
                    
                    Getting Started
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/integration/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Add MathLive to your Project
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/react/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Using MathLive with React
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/interacting/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Interact
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/fill-in-the-blank/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Fill-in-the-Blank
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/customizing/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Customize the Mathfield
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/commands/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Commands
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/macros/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Macros
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/shortcuts/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Shortcuts
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/speech/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Speech
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/static/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Display Static Math
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/virtual-keyboards/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="active">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Customize the Virtual Keyboard
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/lifecycle/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Lifecycle
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/mathlive/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#sdk"></use>
                      </svg>
                    
                    SDK Reference
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/editor"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#flask"></use>
                      </svg>
                    
                    Editor
                  </a>
                </li>
              
            
          </ul>
        
      </li>
    
      <li class="nav__section">
        
          <button class="nav__sub-title nav__sub-title_toggle">Compute Engine
            
              <span class="nav__sub-title_expand"><svg class="icon1em"><use xlink:href="/assets/icons.svg#plus"></use></svg></span>
              <span class="nav__sub-title_collapse"><svg class="icon1em"><use xlink:href="/assets/icons.svg#minus"></use></svg></span>
            
          </button>
        


        
          <ul>
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Introduction
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/demo/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#flask"></use>
                      </svg>
                    
                    Demo
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/changelog/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#log"></use>
                      </svg>
                    
                    Changelog
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/expressions/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Expressions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/symbols/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Symbols
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/canonical-form/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Canonical Form
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/augmenting/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Adding New Definitions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/latex-syntax/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    LaTeX Syntax
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/domains/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Domains
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/symbolic-computing/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Symbolic Computing
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/evaluate/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Evaluation
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/simplify/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Simplify
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/numeric-evaluation/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Numeric Evaluation
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/compiling/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Compiling
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/assumptions/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Assumptions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/patterns-and-rules/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Patterns and Rules
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/compute-engine/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#sdk"></use>
                      </svg>
                    
                    SDK Reference
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/math-json/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    The MathJSON Format
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/standard-library/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    MathJSON Standard Library
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/arithmetic/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Arithmetic
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/calculus/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Calculus
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/collections/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Collections
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/complex/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Complex
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/control-structures/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Control Structures
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/core/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Core
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/domains/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Domains
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/functions/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Functions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/linear-algebra/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Linear Algebra
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/logic/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Logic
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/sets/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Sets
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/special-functions/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Special Functions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/statistics/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Statistics
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/styling/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Styling
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/trigonometry/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Trigonometry
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/contributing/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#seedling"></use>
                      </svg>
                    
                    Contributing
                  </a>
                </li>
              
            
          </ul>
        
      </li>
    
      <li class="nav__section">
        
          <button class="nav__sub-title nav__sub-title_toggle">Cortex
            
              <span class="nav__sub-title_expand"><svg class="icon1em"><use xlink:href="/assets/icons.svg#plus"></use></svg></span>
              <span class="nav__sub-title_collapse"><svg class="icon1em"><use xlink:href="/assets/icons.svg#minus"></use></svg></span>
            
          </button>
        


        
          <ul>
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Introduction
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/goals/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Goals
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/principles/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Principles
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/source-code/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Source Code
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/comments/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Comments
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/literals/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Literals
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/naming/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Naming
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/operators/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Operators
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/pragmas/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Pragmas
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/syntax/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Syntax
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/implementation/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Implementation
                  </a>
                </li>
              
            
          </ul>
        
      </li>
    
      <li class="nav__section">
        
          <button class="nav__sub-title nav__sub-title_toggle">Additional Resources
            
              <span class="nav__sub-title_expand"><svg class="icon1em"><use xlink:href="/assets/icons.svg#plus"></use></svg></span>
              <span class="nav__sub-title_collapse"><svg class="icon1em"><use xlink:href="/assets/icons.svg#minus"></use></svg></span>
            
          </button>
        


        
          <ul>
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/about/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#person"></use>
                      </svg>
                    
                    About Us
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="https://github.com/arnog/mathlive"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#github"></use>
                      </svg>
                    
                    GitHub Repo (MathLive)
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="https://github.com/cortex-js/compute-engine"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#github"></use>
                      </svg>
                    
                    GitHub Repo (Compute Engine)
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/forum/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#gitter"></use>
                      </svg>
                    
                    Gitter Forum
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="https://discord.gg/yhmvVeJ4Hd"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#discord"></use>
                      </svg>
                    
                    Discord
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="https://chat.openai.com/g/g-8YgEfR7ig-cortexjs-assistant"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#openai"></use>
                      </svg>
                    
                    ChatGPT Assistant
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/reporting-issues/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#bug"></use>
                      </svg>
                    
                    Reporting Issues
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/contributing-code/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#code-branch"></use>
                      </svg>
                    
                    Contributing Code
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/support/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#seedling"></use>
                      </svg>
                    
                    Support the Project
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/code-of-conduct/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#handshake"></use>
                      </svg>
                    
                    Code of Conduct
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/license/"
                    data-url="/mathlive/guides/virtual-keyboards/"
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#handshake"></use>
                      </svg>
                    
                    License
                  </a>
                </li>
              
            
          </ul>
        
      </li>
    
  </ul>
</nav>

<script>
  (function() {
    function findSection(el) {
      while (el && ! el.classList.contains('nav__section')) 
        el = el.parentElement;
      
      return el;
    }

// window.addEventListener('DOMContentLoaded', (event) => {
    const sidebar = document.querySelector('.sidebar');

    const activeItem = sidebar.querySelector('.nav__items a.active');
    if (activeItem) {
      const section = findSection(activeItem);
      if (section) 
        section.classList.add('active');
      



      sidebar.scrollTo(0, activeItem.offsetTop - sidebar.clientHeight + 100)
    }

    for (const el of[... sidebar.getElementsByClassName('nav__sub-title_toggle') ?? []]) 
      el.addEventListener('click', (ev) => {
        const section = findSection(ev.target);
        if (section) {
          if (section.classList.contains('active')) 
            section.classList.remove('active')
           else 
            section.classList.add('active');
          



        }
      })

    

  })();
</script>
    
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">

    <div class="page__inner-wrap">
    
    
      <section class="page__content" itemprop="text">

  
    <h1>Customizing the Virtual Keyboard</h1>
  

  

    <nav class="toc">
      <header><h2 class="nav__title"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" style="height:16px; width:12px"><path fill="currentColor" d="M256 0v128h128L256 0zM224 128L224 0H48C21.49 0 0 21.49 0 48v416C0 490.5 21.49 512 48 512h288c26.51 0 48-21.49 48-48V160h-127.1C238.3 160 224 145.7 224 128zM272 416h-160C103.2 416 96 408.8 96 400C96 391.2 103.2 384 112 384h160c8.836 0 16 7.162 16 16C288 408.8 280.8 416 272 416zM272 352h-160C103.2 352 96 344.8 96 336C96 327.2 103.2 320 112 320h160c8.836 0 16 7.162 16 16C288 344.8 280.8 352 272 352zM288 272C288 280.8 280.8 288 272 288h-160C103.2 288 96 280.8 96 272C96 263.2 103.2 256 112 256h160C280.8 256 288 263.2 288 272z"/></svg>On This Page</h2></header>

      
        <div class="toc__menu" >
        <ol><li><a href="#controlling-when-the-virtual-keyboard-is-displayed">Controlling when the Virtual Keyboard is Displayed</a></li><li><a href="#controlling-the-virtual-toggle-visibility">Controlling the Virtual Toggle Visibility</a></li><li><a href="#customizing-the-layouts">Customizing the Layouts</a><ol><li><a href="#different-layouts-for-multiple-mathfields">Different Layouts for Multiple Mathfields</a></li></ol></li><li><a href="#additional-layouts">Additional Layouts</a><ol><li><a href="#minimalist-layout">Minimalist Layout</a></li><li><a href="#compact-layout">Compact Layout</a></li><li><a href="#numeric-only-layout">Numeric Only Layout</a></li></ol></li><li><a href="#defining-custom-layouts">Defining Custom Layouts</a><ol><li><a href="#placeholder-tokens">Placeholder Tokens</a></li><li><a href="#keycap-shortcuts">Keycap Shortcuts</a></li><li><a href="#advanced-keycaps">Advanced Keycaps</a></li><li><a href="#keycap-variants">Keycap Variants</a></li><li><a href="#layer-styling">Layer Styling</a></li><li><a href="#multiple-layers">Multiple Layers</a></li><li><a href="#multiple-layouts">Multiple Layouts</a></li></ol></li><li><a href="#customizing-the-appearance-of-the-virtual-keyboard">Customizing the Appearance of the Virtual Keyboard</a><ol><li><a href="#customizing-the-virtual-keyboard-stack-order">Customizing the Virtual Keyboard Stack Order</a></li><li><a href="#customizing-the-virtual-keyboard-colors">Customizing the Virtual Keyboard Colors</a></li><li><a href="#customizing-the-size-of-the-keyboard">Customizing the Size of the Keyboard</a></li></ol></li><li><a href="#preventing-input-from-the-physical-keyboard">Preventing Input from the Physical Keyboard</a></li><li><a href="#displaying-the-virtual-keyboard-in-a-custom-container">Displaying the Virtual Keyboard in a Custom Container</a></li><li><a href="#customizing-the-alphabetical-layout">Customizing the Alphabetical Layout</a><ol><li><a href="#qwertz-layout">QWERTZ Layout</a></li><li><a href="#azerty-layout">AZERTY Layout</a></li><li><a href="#dvorak-layout">DVORAK Layout</a></li></ol></li></ol>
      </div>
      
                              
    </nav>
  



<p class="xl">The math virtual keyboard is a keyboard displayed on screen that gives
access to specialized symbols for math input with only a tap. This guide
explains how to customize the virtual keyboard.</p>
<div class='read-more'><a href="/mathlive/virtual-keyboard/">
Learn more about <strong>using the math virtual keyboard</strong>
<svg class="svg-chevron"><use xlink:href="#svg-chevron"></use></svg></a></div>
<h2 id="controlling-when-the-virtual-keyboard-is-displayed" tabindex="-1">Controlling when the Virtual Keyboard is Displayed</h2>
<p>The default behavior is to display the virtual keyboard when a mathfield is
focused on a touch-enabled devices: mobile phones, tablets and laptops with
a touch-screen.</p>
<p>This behavior can be changed with the <code>mf.mathVirtualKeyboardPolicy</code> property
or the equivalent <code>math-virtual-keyboard-policy</code> attribute (set one or the
other, not both).</p>
<div class='symbols-table'>
<table>
<thead>
<tr>
<th style="text-align:left"><code>mathVirtualKeyboardPolicy</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>&quot;auto&quot;</code></td>
<td style="text-align:left">On touch-enabled devices, show the virtual keyboard panel when the mathfield is focused. This is the default behavior.</td>
</tr>
<tr>
<td style="text-align:left"><code>&quot;manual&quot;</code></td>
<td style="text-align:left">Do not show the virtual keyboard panel automatically. The visibility of the virtual keyboard panel can be controlled programatically with <code>mathVirtualKeyboard.show()</code> and <code>mathVirtualKeyboard.hide()</code></td>
</tr>
<tr>
<td style="text-align:left"><code>&quot;sandboxed&quot;</code></td>
<td style="text-align:left">The virtual keyboard is displayed in the current browsing context (iframe) if it has a defined container or is the top-level browsing context.</td>
</tr>
</tbody>
</table>
</div>
<p>To show the math virtual keyboard anytime the mathfield is focused, on
touch or non-touch devices, use:</p>
<pre><code class="language-js">mf.<span class="hljs-property">mathVirtualKeyboardPolicy</span> = <span class="hljs-string">&quot;manual&quot;</span>;
mf.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;focusin&quot;</span>, <span class="hljs-function">() =&gt;</span>  mathVirtualKeyboard.<span class="hljs-title function_">show</span>());
mf.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;focusout&quot;</span>, <span class="hljs-function">() =&gt;</span>  mathVirtualKeyboard.<span class="hljs-title function_">hide</span>());
</code></pre>
<h2 id="controlling-the-virtual-toggle-visibility" tabindex="-1">Controlling the Virtual Toggle Visibility</h2>
<p>The virtual keyboard toggle is displayed by default when the mathfield
can be modified, that is when it’s not read-only or disabled.</p>
<p><strong>To control the visibility of the virtual keyboard toggle</strong>, use CSS.</p>
<p>For example to hide the toggle unless on a touch-enabled device, use:</p>
<pre><code class="language-css"><span class="hljs-keyword">@media</span> <span class="hljs-keyword">not</span> (<span class="hljs-attribute">pointer</span>: coarse) {
  math-field<span class="hljs-selector-pseudo">::part</span>(virtual-keyboard-toggle) {
    <span class="hljs-attribute">display</span>: none;
  }
}
</code></pre>
<h2 id="customizing-the-layouts" tabindex="-1">Customizing the Layouts</h2>
<p>The virtual keyboard panel displays multiple layouts which can be
toggled using the layout switcher: <code>numeric</code>, <code>symbols</code>, <code>alphabetic</code>
and <code>greek</code>.</p>
<p><strong>To choose which layouts are listed in the layout switcher</strong>, use the
<code>mathVirtualKeyboard.layouts</code> property.</p>
<p>For example, to only show the <strong>numeric</strong> and <strong>symbols</strong> layouts, use:</p>
<code-playground layout="stack" show-line-numbers>
    <style slot="style">
      .output:focus-within {
        outline: Highlight auto 1px;
        outline: -webkit-focus-ring-color auto 1px
      }
      .output math-field:focus, .output math-field:focus-within {
        outline: none;
      }
    </style>
<pre slot="html">&lt;math-field&gt;x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}&lt;/math-field&gt;</pre>
<pre slot="javascript">
document.querySelector('math-field').
  addEventListener('focus', () => { 
    mathVirtualKeyboard.layouts = ["numeric", "symbols"];
    mathVirtualKeyboard.visible = true;
  });</pre>
</code-playground>
<hr>
<p><strong>To revert to the default layouts</strong>, use:</p>
<pre><code class="language-js">mathVirtualKeyboard.<span class="hljs-property">layouts</span> = <span class="hljs-string">&quot;default&quot;</span>;
</code></pre>
<h3 id="different-layouts-for-multiple-mathfields" tabindex="-1">Different Layouts for Multiple Mathfields</h3>
<p>There is a single instance of the virtual keyboard panel, shared by all
mathfields. The layouts are shared by all mathfields as well.</p>
<p><strong>To display a different set of layouts for a specific mathfield</strong>, change the
<code>mathVirtualKeyboardLayouts</code> property of the mathfield when it is focused.</p>
<pre><code class="language-js"><span class="hljs-comment">// Layout for mathfield mf1</span>
mf1.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;focusin&quot;</span>, <span class="hljs-function">() =&gt;</span> {
  mathVirtualKeyboard.<span class="hljs-property">layouts</span> = [<span class="hljs-string">&quot;numeric&quot;</span>, <span class="hljs-string">&quot;symbols&quot;</span>];
});

<span class="hljs-comment">// Layout for mathfield mf2</span>
mf2.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;focusin&quot;</span>, <span class="hljs-function">() =&gt;</span> {
  mathVirtualKeyboard.<span class="hljs-property">layouts</span> = [<span class="hljs-string">&quot;minimalist&quot;</span>];
});
</code></pre>
<h2 id="additional-layouts" tabindex="-1">Additional Layouts</h2>
<p>In addition to <code>numeric</code>, <code>symbols</code>, <code>alphabetic</code> and <code>greek</code>, the
following layouts are available:</p>
<h3 id="minimalist-layout" tabindex="-1">Minimalist Layout</h3>
<p>The <code>&quot;minimalist&quot;</code> layout is focused on entry of simple expressions.</p>
<pre><code class="language-js">mathVirtualKeyboard.<span class="hljs-property">layouts</span> = [<span class="hljs-string">&quot;minimalist&quot;</span>];
</code></pre>
<p><img src="/assets/images/mathfield/virtual-keyboard-ipad/ipad-minimalist.webp" alt=""></p>
<h3 id="compact-layout" tabindex="-1">Compact Layout</h3>
<p>The <code>&quot;compact&quot;</code> layout is similar to <code>&quot;minimalist&quot;</code> but the keycaps include variants.</p>
<pre><code class="language-js">mathVirtualKeyboard.<span class="hljs-property">layouts</span> = [<span class="hljs-string">&quot;compact&quot;</span>];
</code></pre>
<p><img src="/assets/images/mathfield/virtual-keyboard-ipad/ipad-compact.webp" alt=""></p>
<h3 id="numeric-only-layout" tabindex="-1">Numeric Only Layout</h3>
<p>The <code>&quot;numeric-only&quot;</code> layout is suitable for input that is purely numeric.</p>
<pre><code class="language-js">mathVirtualKeyboard.<span class="hljs-property">layouts</span> = [<span class="hljs-string">&quot;numeric-only&quot;</span>];
</code></pre>
<p><img src="/assets/images/mathfield/virtual-keyboard-ipad/ipad-numeric-only.webp" alt=""></p>
<h2 id="defining-custom-layouts" tabindex="-1">Defining Custom Layouts</h2>
<p>In addition to the built-in layouts, you can define your own layouts.</p>
<p><strong>The simplest way to define a custom layout</strong> is to set <code>mathVirtualKeyboard.layouts</code> to an object
literal with a <code>rows</code> property, an array of keycaps.</p>
<p>For best result, you should make sure the rows have no more than 10 keycaps.</p>
<code-playground layout="stack" show-line-numbers>
    <style slot="style">
      .output:focus-within {
        outline: Highlight auto 1px;
        outline: -webkit-focus-ring-color auto 1px
      }
      .output math-field:focus, .output math-field:focus-within {
        outline: none;
      }
    </style>
<pre slot="html">&lt;math-field&gt;x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}&lt;/math-field&gt;</pre>
<pre slot="javascript">
document.querySelector('math-field').
  addEventListener('focus', () => {
    mathVirtualKeyboard.layouts = {
      rows: [
        [
          "+", "-", "\\times", "\\frac{#@}{#?}", "=", ".",
          "(", ")", "\\sqrt{#0}", "#@^{#?}",
        ],
        ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"],
      ]
  };
  mathVirtualKeyboard.visible = true;
});</pre>
</code-playground>
<p><img src="/assets/images/mathfield/custom-layout.png" alt=""></p>
<p>Each keycap is a LaTeX string which is used both as the label of the keycap,
and as the content inserted when the keycap is pressed.</p>
<h3 id="placeholder-tokens" tabindex="-1">Placeholder Tokens</h3>
<p>You’ll notice from the example above that the LaTeX fragments defining the
keycap can contain some special placeholder tokens:</p>
<div class='symbols-table'>
<table>
<thead>
<tr>
<th style="text-align:left">Token</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>#@</code></td>
<td style="text-align:left">Replaced with the selection, if there is one. If there is no selection, replaced with an implicit argument to the left of the caret. For example, for <code>12+34</code>, if the caret is at the end, <code>#@</code> would be replaced with <code>34</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>#0</code></td>
<td style="text-align:left">replaced with the selection if there is one, a <code>\placeholder{}</code> command otherwise</td>
</tr>
<tr>
<td style="text-align:left"><code>#?</code></td>
<td style="text-align:left">replaced with a <code>\placeholder{}</code> command</td>
</tr>
</tbody>
</table>
</div>
<h3 id="keycap-shortcuts" tabindex="-1">Keycap Shortcuts</h3>
<p>The value of  the keycap can be a LaTeX string, or one of the special values
below, corresponding to a standard keycap. These shortcuts define
the label, appearance, command when pressed, shifted command and variants
for those keys.</p>
<p><code>&quot;[left]&quot;</code> <code>&quot;[right]&quot;</code>  <code>&quot;[return]&quot;</code>  <code>&quot;[hide-keyboard]&quot;</code> <code>&quot;[shift]&quot;</code></p>
<p><code>&quot;[backspace]&quot;</code>  <code>&quot;[undo]&quot;</code> <code>&quot;[redo]&quot;</code> <code>&quot;[cut]&quot;</code> <code>&quot;[copy]&quot;</code> <code>&quot;[paste]&quot;</code></p>
<p><code>&quot;[.]&quot;</code>  <code>&quot;[+]&quot;</code>  <code>&quot;[-]&quot;</code>  <code>&quot;[/]&quot;</code>  <code>&quot;[*]&quot;</code>  <code>&quot;[=]&quot;</code></p>
<p><code>&quot;[(]&quot;</code> <code>&quot;[)]&quot;</code></p>
<p><code>&quot;[0]&quot;</code> <code>&quot;[1]&quot;</code> <code>&quot;[2]&quot;</code> <code>&quot;[3]&quot;</code> <code>&quot;[4]&quot;</code> <code>&quot;[5]&quot;</code> <code>&quot;[6]&quot;</code> <code>&quot;[7]&quot;</code> <code>&quot;[8]&quot;</code> <code>&quot;[9]&quot;</code></p>
<p><code>&quot;[separator]&quot;</code> <code>[&quot;hr&quot;]</code></p>
<p><code>&quot;[foreground-color]&quot;</code> <code>&quot;[background-color]&quot;</code></p>
<h3 id="advanced-keycaps" tabindex="-1">Advanced Keycaps</h3>
<p>For more control over the appearance and behavior of a keycap use an object
literal with the following properties:</p>
<ul>
<li><code>label</code>: the label of the keycap, displayed using the system font. This
can include some HTML markup, for example <code>&quot;&lt;span&gt;&lt;i&gt;x&lt;/i&gt;&amp;thinsp;²&lt;/span&gt;&quot;</code>.
If property is absent, the <code>latex</code> property is used for the label of
the keycap. The label can also be one of the keycap shortcuts mentioned
above, e.g. <code>[left]</code>. If a keycap shortcut is used, the other properties
override the values defined by the shortcut.</li>
<li><code>latex</code>: if no <code>label</code> is provided, the value of the <code>latex</code> property is used as
the label of the keycap. This property is also used to insert content in
the mathfield when the keycap is pressed.</li>
<li><code>key</code>: if present, when the keycap is pressed the corresponding physical
keyboard key is simulated, potentially triggering keyboard shortcuts.</li>
<li><code>insert</code>: if present, a LaTeX string to be inserted when the keycap is pressed.</li>
<li><code>command</code>: the command to perform when the keycap is pressed. For example:
<code>[&quot;performWithFeedback&quot;, &quot;commit&quot;]</code>.</li>
<li><code>class</code>: a set of CSS classes to style this keycap. The classes can be custom
defined (see below about the <code>style</code> layer property), or be one or more of the
standard ones:
<ul>
<li><code>tex</code>: use the TeX font for its label.
Using the <code>tex</code> class is not necessary if using the <code>latex</code> property to
define the label.</li>
<li><code>ghost</code>: the keycap with no border or background</li>
<li><code>small</code>: display the label in a smaller size</li>
<li><code>action</code>: an “action” keycap (for arrows, return, etc…)</li>
<li><code>bottom</code>, <code>left</code>, <code>right</code>: alignment of the label</li>
<li><code>hide-shift</code>: do not display the shift top-right label on the keycap if
a <code>shift</code> property is provided.</li>
</ul>
</li>
<li><code>width</code>: the width of the keycap, as a multiple of a standard keycap. That
is, 0.5 for half-wide keys, 1.5 for one and half wide keys, etc…</li>
<li><code>aside</code>: an optional small label displayed below the keycap. This label
may not be displayed if the space available is too small.</li>
<li><code>shift</code>: a LaTeX string or a keycap record indicating what happens when
this keycap is pressed with the shift key down.</li>
<li><code>variants</code>: an array of keycaps (either as string or keycap records) defining
the variants for this keycap (see below).</li>
</ul>
<p>If neither <code>insert</code> nor <code>command</code> are provided, the <code>latex</code> or <code>key</code> properties
are used to define the content inserted when the keycap is pressed.</p>
<div class='read-more'><a href="/mathlive/guides/commands/">
Learn more about the available commands
<svg class="svg-chevron"><use xlink:href="#svg-chevron"></use></svg></a></div>
<p>Here’s an example of a basic keyboard layout:</p>
<pre><code class="language-js">mathVirtualKeyboard.<span class="hljs-property">layouts</span> = {
  <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;Basic&#x27;</span>,
  <span class="hljs-attr">rows</span>: [
    [
      <span class="hljs-string">&#x27;[7]&#x27;</span>, <span class="hljs-string">&#x27;[8]&#x27;</span>, <span class="hljs-string">&#x27;[9]&#x27;</span>, <span class="hljs-string">&#x27;[+]&#x27;</span>, {<span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;[separator]&#x27;</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">0.5</span> },
      { <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;small&#x27;</span>, <span class="hljs-attr">latex</span>: <span class="hljs-string">&#x27;\\frac{#@}{#0}&#x27;</span> },
      <span class="hljs-string">&#x27;\\varnothing&#x27;</span>, <span class="hljs-string">&#x27;\\infty&#x27;</span>, <span class="hljs-string">&#x27;\\in&#x27;</span>, <span class="hljs-string">&#x27;\\notin&#x27;</span>,
      <span class="hljs-string">&#x27;[separator]&#x27;</span>,
    ],
    [
      <span class="hljs-string">&#x27;[4]&#x27;</span>, <span class="hljs-string">&#x27;[5]&#x27;</span>, <span class="hljs-string">&#x27;[6]&#x27;</span>, <span class="hljs-string">&#x27;[-]&#x27;</span>, {<span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;[separator]&#x27;</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">0.5</span> },
      <span class="hljs-string">&#x27;[(]&#x27;</span>, <span class="hljs-string">&#x27;[)]&#x27;</span>, <span class="hljs-string">&#x27;\\lt&#x27;</span>, <span class="hljs-string">&#x27;\\le&#x27;</span>, <span class="hljs-string">&#x27;\\hat{=}&#x27;</span>, <span class="hljs-string">&#x27;[separator]&#x27;</span>,
    ],
    [
      <span class="hljs-string">&#x27;[1]&#x27;</span>, <span class="hljs-string">&#x27;[2]&#x27;</span>, <span class="hljs-string">&#x27;[3]&#x27;</span>, <span class="hljs-string">&#x27;\\cdot&#x27;</span>, {<span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;[separator]&#x27;</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">0.5</span> },
      <span class="hljs-string">&#x27;[&#x27;</span>, <span class="hljs-string">&#x27;]&#x27;</span>, <span class="hljs-string">&#x27;\\gt&#x27;</span>, <span class="hljs-string">&#x27;\\ge&#x27;</span>,

      { <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;[backspace]&#x27;</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">2</span> },
    ],
    [
      { <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;[0]&#x27;</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">2</span> },
      <span class="hljs-string">&#x27;[.]&#x27;</span>, <span class="hljs-string">&#x27;\\colon&#x27;</span>, {<span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;[separator]&#x27;</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">0.5</span> },
      <span class="hljs-string">&#x27;\\lbrace&#x27;</span>, <span class="hljs-string">&#x27;\\rbrace&#x27;</span>, <span class="hljs-string">&#x27;=&#x27;</span>, <span class="hljs-string">&#x27;\\ne&#x27;</span>, <span class="hljs-string">&#x27;[left]&#x27;</span>, <span class="hljs-string">&#x27;[right]&#x27;</span>,
    ],
  ],
};
</code></pre>
<h3 id="keycap-variants" tabindex="-1">Keycap Variants</h3>
<p>The default layouts include <strong>variants</strong> for many of their keycaps. These
variants are accessed with a long press on the keycap. The variants are
typically related, but less frequently used version of the main keycap.</p>
<p>You can define variants for a custom layout by specifying a <code>variants</code>
property with the definition of a keycap. The value of the <code>variants</code> property
is an array of <code>VirtualKeyboardKeycap</code>. As a shortcut, a string can also be
used, which is equivalent to a <code>VirtualKeyboardKeycap</code> with a <code>latex</code> property
equal to the string, that is, it will display the latex string as the keycap
label and insert it when the key is pressed.</p>
<pre><code class="language-json">rows<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span> latex<span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;a&quot;</span><span class="hljs-punctuation">,</span> variants<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;A&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;\\alpha&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;\\Alpha&quot;</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span>
    ...
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<h3 id="layer-styling" tabindex="-1">Layer Styling</h3>
<p>If you want to apply custom CSS classes to some keycaps, you can provide
a definition for them using the <code>style</code> property. Note that in that case
you can’t use the <code>rows</code> shortcut, you must provide the full definition
of the layers.</p>
<p>Also, note that you may need to use the <code>!important</code> modifier to override
the default styling.</p>
<pre><code class="language-js">mathVirtualKeyboard.<span class="hljs-property">layouts</span> = [
  {
    <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;minimal&#x27;</span>,
    <span class="hljs-attr">tooltip</span>: <span class="hljs-string">&#x27;Only the essential&#x27;</span>,
    <span class="hljs-attr">layers</span>: [
      {
        <span class="hljs-attr">style</span>:
          <span class="hljs-string">&#x27;.digit { background: blue !important; color: white !important }&#x27;</span>,
        <span class="hljs-attr">rows</span>: [
          [
            <span class="hljs-string">&#x27;+&#x27;</span>,
            <span class="hljs-string">&#x27;-&#x27;</span>,
            <span class="hljs-string">&#x27;\\times&#x27;</span>,
            <span class="hljs-string">&#x27;\\frac{#@}{#?}&#x27;</span>,
            <span class="hljs-string">&#x27;=&#x27;</span>,
            <span class="hljs-string">&#x27;.&#x27;</span>,
            <span class="hljs-string">&#x27;(&#x27;</span>,
            <span class="hljs-string">&#x27;)&#x27;</span>,
            <span class="hljs-string">&#x27;\\sqrt{#0}&#x27;</span>,
            <span class="hljs-string">&#x27;#@^{#?}&#x27;</span>,
          ],
          [
            { <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;digit&#x27;</span>, <span class="hljs-attr">latex</span>: <span class="hljs-string">&#x27;1&#x27;</span> },
            { <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;digit&#x27;</span>, <span class="hljs-attr">latex</span>: <span class="hljs-string">&#x27;2&#x27;</span> },
            { <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;digit&#x27;</span>, <span class="hljs-attr">latex</span>: <span class="hljs-string">&#x27;3&#x27;</span> },
            { <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;digit&#x27;</span>, <span class="hljs-attr">latex</span>: <span class="hljs-string">&#x27;4&#x27;</span> },
            { <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;digit&#x27;</span>, <span class="hljs-attr">latex</span>: <span class="hljs-string">&#x27;5&#x27;</span> },
            { <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;digit&#x27;</span>, <span class="hljs-attr">latex</span>: <span class="hljs-string">&#x27;6&#x27;</span> },
            { <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;digit&#x27;</span>, <span class="hljs-attr">latex</span>: <span class="hljs-string">&#x27;7&#x27;</span> },
            { <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;digit&#x27;</span>, <span class="hljs-attr">latex</span>: <span class="hljs-string">&#x27;8&#x27;</span> },
            { <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;digit&#x27;</span>, <span class="hljs-attr">latex</span>: <span class="hljs-string">&#x27;9&#x27;</span> },
            { <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;digit&#x27;</span>, <span class="hljs-attr">latex</span>: <span class="hljs-string">&#x27;0&#x27;</span> },
          ],
        ],
      },
    ],
  },
  <span class="hljs-string">&#x27;alphabetic&#x27;</span>,
];
</code></pre>
<h3 id="multiple-layers" tabindex="-1">Multiple Layers</h3>
<p>Most keyboard layouts are made of a single layer. However, if your layout
includes multiple layers, use the <code>layers</code> property to provide an array of
layers.</p>
<pre><code class="language-js">mathVirtualKeyboard.<span class="hljs-property">layouts</span> = {
  <span class="hljs-attr">layers</span>: [
    {
      <span class="hljs-attr">rows</span>: [
        [
          <span class="hljs-string">&quot;+&quot;</span>, <span class="hljs-string">&quot;-&quot;</span>, <span class="hljs-string">&quot;\\times&quot;</span>, <span class="hljs-string">&quot;\\frac{#@}{#?}&quot;</span>, <span class="hljs-string">&quot;=&quot;</span>, <span class="hljs-string">&quot;.&quot;</span>,
          <span class="hljs-string">&quot;(&quot;</span>, <span class="hljs-string">&quot;)&quot;</span>, <span class="hljs-string">&quot;\\sqrt{#0}&quot;</span>, <span class="hljs-string">&quot;#@^{#?}&quot;</span>,
        ],
      ]
    },
    {
      <span class="hljs-attr">rows</span>: [
        [<span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-string">&quot;2&quot;</span>, <span class="hljs-string">&quot;3&quot;</span>, <span class="hljs-string">&quot;4&quot;</span>, <span class="hljs-string">&quot;5&quot;</span>, <span class="hljs-string">&quot;6&quot;</span>, <span class="hljs-string">&quot;7&quot;</span>, <span class="hljs-string">&quot;8&quot;</span>, <span class="hljs-string">&quot;9&quot;</span>, <span class="hljs-string">&quot;0&quot;</span>],
      ]
    }

  ],
};

</code></pre>
<h3 id="multiple-layouts" tabindex="-1">Multiple Layouts</h3>
<p>You can also mix default layouts with your own. For example, to add the
alphabetic layout after your own:</p>
<pre><code class="language-js">mathVirtualKeyboard.<span class="hljs-property">layouts</span> = [
  {
    <span class="hljs-attr">label</span>: <span class="hljs-string">&quot;minimal&quot;</span>,
    <span class="hljs-attr">tooltip</span>: <span class="hljs-string">&quot;Only the essential&quot;</span>,
    <span class="hljs-attr">rows</span>: [
      [
        <span class="hljs-string">&quot;+&quot;</span>, <span class="hljs-string">&quot;-&quot;</span>, <span class="hljs-string">&quot;\\times&quot;</span>, <span class="hljs-string">&quot;\\frac{#@}{#?}&quot;</span>, <span class="hljs-string">&quot;=&quot;</span>, <span class="hljs-string">&quot;.&quot;</span>,
        <span class="hljs-string">&quot;(&quot;</span>, <span class="hljs-string">&quot;)&quot;</span>, <span class="hljs-string">&quot;\\sqrt{#0}&quot;</span>, <span class="hljs-string">&quot;#@^{#?}&quot;</span>,
      ],
      [<span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-string">&quot;2&quot;</span>, <span class="hljs-string">&quot;3&quot;</span>, <span class="hljs-string">&quot;4&quot;</span>, <span class="hljs-string">&quot;5&quot;</span>, <span class="hljs-string">&quot;6&quot;</span>, <span class="hljs-string">&quot;7&quot;</span>, <span class="hljs-string">&quot;8&quot;</span>, <span class="hljs-string">&quot;9&quot;</span>, <span class="hljs-string">&quot;0&quot;</span>],
    ]
  }, 
  <span class="hljs-string">&quot;alphabetic&quot;</span>
];
</code></pre>
<p>If you include more than one layout, it’s a good idea to provide a label
and tooltip so they get propertly displayed in the layout switcher.</p>
<h2 id="customizing-the-appearance-of-the-virtual-keyboard" tabindex="-1">Customizing the Appearance of the Virtual Keyboard</h2>
<p><strong>To customize the appearance of the virtual keyboard panel</strong> set the following
CSS variables on a selector that applies to the container of the virtual
keyboard panel, which is the <code>&lt;body&gt;</code> element by default:</p>
<pre><code class="language-css"><span class="hljs-selector-tag">body</span> {
  <span class="hljs-attr">--keyboard-zindex</span>: <span class="hljs-number">3000</span>;
}
</code></pre>
<p>You can also set these CSS variables programmatically:</p>
<pre><code class="language-js"><span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">&quot;--keyboard-zindex&quot;</span>, <span class="hljs-string">&quot;3000&quot;</span>);
</code></pre>
<h3 id="customizing-the-virtual-keyboard-stack-order" tabindex="-1">Customizing the Virtual Keyboard Stack Order</h3>
<p><strong>To specify the stack order of the virtual keyboard relative to
other DOM elements</strong> set the <code>--keyboard-zindex</code> CSS variable.</p>
<p>The default <code>zindex</code> of the virtual keyboard is <code>105</code>.</p>
<h3 id="customizing-the-virtual-keyboard-colors" tabindex="-1">Customizing the Virtual Keyboard Colors</h3>
<p><strong>To control the appearance of the virtual keyboard text and background colors</strong>, set the
value of the following CSS variables to a CSS color:</p>
<ul>
<li>
<p><code>--keyboard-accent-color</code></p>
</li>
<li>
<p><code>--keyboard-toolbar-text</code></p>
</li>
<li>
<p><code>--keyboard-toolbar-text-active</code></p>
</li>
<li>
<p><code>--keyboard-toolbar-background</code></p>
</li>
<li>
<p><code>--keyboard-toolbar-background-hover</code></p>
</li>
<li>
<p><code>--keyboard-toolbar-background-selected</code></p>
</li>
<li>
<p><code>--keycap-background</code></p>
</li>
<li>
<p><code>--keycap-background-hover</code></p>
</li>
<li>
<p><code>--keycap-background-active</code></p>
</li>
<li>
<p><code>--keycap-background-pressed</code></p>
</li>
<li>
<p><code>--keycap-border</code></p>
</li>
<li>
<p><code>--keycap-border-bottom</code></p>
</li>
<li>
<p><code>--keycap-text</code></p>
</li>
<li>
<p><code>--keycap-text-active</code></p>
</li>
<li>
<p><code>--keycap-text-hover</code></p>
</li>
<li>
<p><code>--keycap-text-pressed</code></p>
</li>
<li>
<p><code>--keycap-shift-text</code></p>
</li>
<li>
<p><code>--keycap-shift-color</code></p>
</li>
<li>
<p><code>--keycap-primary-background</code></p>
</li>
<li>
<p><code>--keycap-primary-text</code></p>
</li>
<li>
<p><code>--keycap-primary-background-hover</code></p>
</li>
<li>
<p><code>--keycap-secondary-background</code></p>
</li>
<li>
<p><code>--keycap-secondary-background-hover</code></p>
</li>
<li>
<p><code>--keycap-secondary-text</code></p>
</li>
<li>
<p><code>--keycap-secondary-border</code></p>
</li>
<li>
<p><code>--keycap-secondary-border-bottom</code></p>
</li>
<li>
<p><code>--box-placeholder-color</code></p>
</li>
<li>
<p><code>--variant-panel-background</code></p>
</li>
<li>
<p><code>--variant-keycap-text</code></p>
</li>
<li>
<p><code>--variant-keycap-text-active</code></p>
</li>
<li>
<p><code>--variant-keycap-background-active</code></p>
</li>
</ul>
<p>The following CSS variables are a border shorthand value:</p>
<ul>
<li><code>--keyboard-border</code></li>
<li><code>--keyboard-horizontal-rule</code></li>
</ul>
<h3 id="customizing-the-size-of-the-keyboard" tabindex="-1">Customizing the Size of the Keyboard</h3>
<p>By default the virtual keyboard is sized so that it can be used comfortably
on touch-devices. Its size will adjust based on the available space in its
container, which is the viewport by default.</p>
<p>However, you may want to have a more compact virtual keyboard to leave more
room for the content. You can control the appearance of the virtual keyboard
using some CSS variables. Set those variables in a rule that applies to
the entire document, for example the <code>body</code> element selector.</p>
<pre><code class="language-css"><span class="hljs-selector-tag">body</span> {
  <span class="hljs-attr">--keycap-height</span>: <span class="hljs-number">24px</span>;
  <span class="hljs-attr">--keycap-font-size</span>: <span class="hljs-number">16px</span>;
  <span class="hljs-attr">--keycap-shift-font-size</span>: <span class="hljs-number">9px</span>;
  <span class="hljs-attr">--keycap-small-font-size</span>: <span class="hljs-number">9px</span>;
  <span class="hljs-attr">--keycap-extra-small-font-size</span>: <span class="hljs-number">9px</span>;
  <span class="hljs-attr">--keyboard-toolbar-font-size</span>: <span class="hljs-number">16px</span>;
  <span class="hljs-attr">--keycap-gap</span>: <span class="hljs-number">1px</span>;
}
</code></pre>
<p>The following CSS variables can be used to adjust the layout:</p>
<ul>
<li>
<p><code>--keycap-height</code></p>
</li>
<li>
<p><code>--keycap-max-width</code></p>
</li>
<li>
<p><code>--keycap-gap</code></p>
</li>
<li>
<p><code>--keycap-font-size</code></p>
</li>
<li>
<p><code>--keycap-shift-font-size</code></p>
</li>
<li>
<p><code>--keycap-small-font-size</code></p>
</li>
<li>
<p><code>--keycap-extra-small-font-size</code></p>
</li>
<li>
<p><code>--keycap-secondary-border-bottom</code></p>
</li>
<li>
<p><code>--keycap-secondary-border-bottom</code></p>
</li>
<li>
<p><code>--keyboard-toolbar-font-size</code></p>
</li>
<li>
<p><code>--keyboard-padding-horizontal</code></p>
</li>
<li>
<p><code>--keyboard-padding-top</code></p>
</li>
<li>
<p><code>--keyboard-padding-bottom</code></p>
</li>
<li>
<p><code>--keyboard-row-padding-left</code></p>
</li>
<li>
<p><code>--keyboard-row-padding-right</code></p>
</li>
<li>
<p><code>--variant-keycap-length</code></p>
</li>
<li>
<p><code>--variant-keycap-font-size</code></p>
</li>
<li>
<p><code>--variant-keycap-aside-font-size</code></p>
</li>
</ul>
<h2 id="preventing-input-from-the-physical-keyboard" tabindex="-1">Preventing Input from the Physical Keyboard</h2>
<p><strong>To require the virtual keyboard to be used for input and ignore
keys pressed on the physical keyboard</strong> listen and <code>preventDefault()</code> on <code>&quot;keydown&quot;</code>
events during the capture phase, and show the virtual keyboard when the mathfield
is focused.</p>
<pre><code class="language-js">mf.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;keydown&quot;</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =&gt;</span>  evt.<span class="hljs-title function_">preventDefault</span>(), {<span class="hljs-attr">capture</span>: <span class="hljs-literal">true</span>});
mf.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;focus&quot;</span>, <span class="hljs-function">() =&gt;</span>  mathVirtualKeyboard.<span class="hljs-title function_">show</span>());
</code></pre>
<h2 id="displaying-the-virtual-keyboard-in-a-custom-container" tabindex="-1">Displaying the Virtual Keyboard in a Custom Container</h2>
<p>By default the virtual keyboard is inserted at the end of the document’s <code>body</code>
element.</p>
<p>In some cases you may want to display the virtual keyboard in some other
container.</p>
<p>For example when using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API">full screen elements</a> that contain a mathfield, you want to make sure the virtual
keyboard panel is visible by attaching it to the full screen element.</p>
<p><strong>To select which DOM element the virtual keyboard is attached to</strong>, set the
<code>mathVirtualKeyboard.container</code> property to the desired DOM element.</p>
<p class="notice--warning">The container element should be at least 320px wide to ensure that the
default layouts can fit. The height of the container element will be
adjusted so that the virtual keyboard can fit.</p>
<h2 id="customizing-the-alphabetical-layout" tabindex="-1">Customizing the Alphabetical Layout</h2>
<p>By default the <code>&quot;alphabetic&quot;</code> layout is determined based on the locale (QWERTY
for english speaking countries, AZERTY for french speaking
countries, etc…).</p>
<p><strong>To select a different alphabetic layout</strong>, such as DVORAK or COLEMAK,
use the <code>mathVirtualKeyboard.alphabeticLayout</code> property.</p>
<code-playground layout="stack">
  <style slot="style">
    .output:focus-within {
      outline: Highlight auto 1px;
      outline: -webkit-focus-ring-color auto 1px
    }
    .output math-field:focus, .output math-field:focus-within {
      outline: none;
    }
  </style>
  <pre slot="javascript">const mf = document.querySelector('math-field');
document.querySelector('math-field').addEventListener('focus', () => {
  mathVirtualKeyboard.layouts = ["alphabetic"];
  mathVirtualKeyboard.alphabeticLayout = "dvorak";
  mathVirtualKeyboard.visible = true;
});
</pre>
    <pre slot="html">&lt;math-field&gt;x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}
&lt;/math-field&gt;</pre>
</code-playground>
<h3 id="qwertz-layout" tabindex="-1">QWERTZ Layout</h3>
<div style="display: flex">
<div style="width: 50%; margin: auto">
<p><img src="/assets/images/mathfield/virtual-keyboard-ipad/ipad-qwertz.webp" alt="QWERTZ layout"></p>
</div>
<div style="width: 50%; margin: auto">
<p><img src="/assets/images/mathfield/virtual-keyboard-ipad/ipad-qwertz-shift.webp" alt="QWERTZ layout, shifted"></p>
</div>
</div>
<h3 id="azerty-layout" tabindex="-1">AZERTY Layout</h3>
<div style="display: flex">
<div style="width: 50%; margin: auto">
<p><img src="/assets/images/mathfield/virtual-keyboard-ipad/ipad-azerty.webp" alt="AZERTY layout"></p>
</div>
<div style="width: 50%; margin: auto">
<p><img src="/assets/images/mathfield/virtual-keyboard-ipad/ipad-azerty-shift.webp" alt="AZERTY layout, shifted"></p>
</div>
</div>
<h3 id="dvorak-layout" tabindex="-1">DVORAK Layout</h3>
<div style="display: flex">
<div style="width: 50%; margin: auto">
<p><img src="/assets/images/mathfield/virtual-keyboard-ipad/ipad-dvorak.webp" alt="DVORAK Layout"></p>
</div>
<div style="width: 50%; margin: auto">
<p><img src="/assets/images/mathfield/virtual-keyboard-ipad/ipad-dvorak-shift.webp" alt="DVORAK Layout, shifted"></p>
</div>
</div>
<div class='read-more'><a href="/mathlive/guides/lifecycle/">
<strong>Advanced Topic:</strong> Understand in depth the <strong>Lifecycle of a MathfieldElement</strong>: construction, interaction with the DOM and when can you communicate with it
<svg class="svg-chevron"><use xlink:href="#svg-chevron"></use></svg></a></div>
<div class='read-more'><a href="/docs/mathlive/">
<strong>Next:</strong> Reference documentation of the <strong>MathLive API</strong>
<svg class="svg-chevron"><use xlink:href="#svg-chevron"></use></svg></a></div>




      </section>

      <footer class="page__meta">
        
        


        <meta itemprop="datePublished" content="November 09, 2023">
                

        


        
          <p class="page__date"><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#calendar-days"/></svg><strong> Updated</strong> <time datetime="2023-11-09">November 09, 2023</time></p>
        

          <p class="page__meta-link"><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#bug"/></svg> <strong>Problem? Feedback?</strong> File a report at&nbsp;<a href="https://github.com/cortex-js/cortexjs.io">github.com/cortex-js/cortexjs.io</a></p>
      </footer>


      
    </div>

  </article>

  
  


<aside class="sidebar__right">
  <nav class="toc">
    <header><h2 class="nav__title"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" style="height:16px; width:12px"><path fill="currentColor" d="M256 0v128h128L256 0zM224 128L224 0H48C21.49 0 0 21.49 0 48v416C0 490.5 21.49 512 48 512h288c26.51 0 48-21.49 48-48V160h-127.1C238.3 160 224 145.7 224 128zM272 416h-160C103.2 416 96 408.8 96 400C96 391.2 103.2 384 112 384h160c8.836 0 16 7.162 16 16C288 408.8 280.8 416 272 416zM272 352h-160C103.2 352 96 344.8 96 336C96 327.2 103.2 320 112 320h160c8.836 0 16 7.162 16 16C288 344.8 280.8 352 272 352zM288 272C288 280.8 280.8 288 272 288h-160C103.2 288 96 280.8 96 272C96 263.2 103.2 256 112 256h160C280.8 256 288 263.2 288 272z"/></svg>On This Page</h2></header>
  
    
      <div class="toc__menu" >
        <ol><li><a href="#controlling-when-the-virtual-keyboard-is-displayed">Controlling when the Virtual Keyboard is Displayed</a></li><li><a href="#controlling-the-virtual-toggle-visibility">Controlling the Virtual Toggle Visibility</a></li><li><a href="#customizing-the-layouts">Customizing the Layouts</a><ol><li><a href="#different-layouts-for-multiple-mathfields">Different Layouts for Multiple Mathfields</a></li></ol></li><li><a href="#additional-layouts">Additional Layouts</a><ol><li><a href="#minimalist-layout">Minimalist Layout</a></li><li><a href="#compact-layout">Compact Layout</a></li><li><a href="#numeric-only-layout">Numeric Only Layout</a></li></ol></li><li><a href="#defining-custom-layouts">Defining Custom Layouts</a><ol><li><a href="#placeholder-tokens">Placeholder Tokens</a></li><li><a href="#keycap-shortcuts">Keycap Shortcuts</a></li><li><a href="#advanced-keycaps">Advanced Keycaps</a></li><li><a href="#keycap-variants">Keycap Variants</a></li><li><a href="#layer-styling">Layer Styling</a></li><li><a href="#multiple-layers">Multiple Layers</a></li><li><a href="#multiple-layouts">Multiple Layouts</a></li></ol></li><li><a href="#customizing-the-appearance-of-the-virtual-keyboard">Customizing the Appearance of the Virtual Keyboard</a><ol><li><a href="#customizing-the-virtual-keyboard-stack-order">Customizing the Virtual Keyboard Stack Order</a></li><li><a href="#customizing-the-virtual-keyboard-colors">Customizing the Virtual Keyboard Colors</a></li><li><a href="#customizing-the-size-of-the-keyboard">Customizing the Size of the Keyboard</a></li></ol></li><li><a href="#preventing-input-from-the-physical-keyboard">Preventing Input from the Physical Keyboard</a></li><li><a href="#displaying-the-virtual-keyboard-in-a-custom-container">Displaying the Virtual Keyboard in a Custom Container</a></li><li><a href="#customizing-the-alphabetical-layout">Customizing the Alphabetical Layout</a><ol><li><a href="#qwertz-layout">QWERTZ Layout</a></li><li><a href="#azerty-layout">AZERTY Layout</a></li><li><a href="#dvorak-layout">DVORAK Layout</a></li></ol></li></ol>
      </div>
    
                            
  </nav>
</aside>

</div>


</div>

    

    <footer id="footer" class="page__footer" role="contentinfo">
      <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
      <div class="page__footer-follow">
  <ul class="social-icons">
     
     
     
    
    <li>
      <a href="https://github.com/cortex-js" rel="nofollow noopener noreferrer"
          ><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#github"></use></svg>GitHub</a
      >
    </li>
     
     
    
    <li>
      <a href="/forum/" rel="nofollow noopener noreferrer"
          ><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#gitter"></use></svg>Gitter Forum</a
      >
    </li>
     
     
    
    <li>
      <a href="https://discord.gg/yhmvVeJ4Hd" rel="nofollow noopener noreferrer"
          ><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#discord"></use></svg>Discord</a
      >
    </li>
     
     
    
    <li>
      <a href="https://chat.openai.com/g/g-8YgEfR7ig-cortexjs-assistant" rel="nofollow noopener noreferrer"
          ><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#openai"></use></svg>AI Assistant</a
      >
    </li>
     
     
    

  </ul>
</div>
<div class="page__footer-pages">
   
    <ul>
       
      
      <li>
        <a href="/about/" rel="nofollow noopener noreferrer">About Us</a>
      </li>
       
       
    </ul>
  

</div>
    </footer>

    
  <!-- <script defer src="/assets/js/main.min.js"></script> -->









  </body>
</html>