<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-compute-engine/changelog" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Changelog - Compute Engine · MathLive</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mathlive.io/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://mathlive.io/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://mathlive.io/compute-engine/changelog/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Changelog - Compute Engine · MathLive"><meta data-rh="true" name="description" content="Coming Soon"><meta data-rh="true" property="og:description" content="Coming Soon"><link data-rh="true" rel="icon" href="/img/logo.webp"><link data-rh="true" rel="canonical" href="https://mathlive.io/compute-engine/changelog/"><link data-rh="true" rel="alternate" href="https://mathlive.io/compute-engine/changelog/" hreflang="en"><link data-rh="true" rel="alternate" href="https://mathlive.io/compute-engine/changelog/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://Q23Y5RN3UQ-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Changelog","item":"https://mathlive.io/compute-engine/changelog/"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="MathLive" href="/opensearch.xml">

<link rel="stylesheet" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/codemirror.min.css">
<script>!function(){var e,t;window.moduleMap||(window.moduleMap={}),window.moduleMap={...window.moduleMap,mathlive:"https://esm.run/mathlive","compute-engine":"https://esm.run/@cortex-js/compute-engine"},(e=["https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js","https://unpkg.com/@cortex-js/compute-engine","https://cdn.jsdelivr.net/npm/mathlive","https://cdn.jsdelivr.net/npm/@ui-js/code-playground/dist/code-playground.min.js@module"]).forEach((o,n)=>{const m=o.endsWith("@module"),d="script"+function(e,t=0){let o=3735928559^t,n=1103547991^t;for(let t=0;t<e.length;t++){const m=e.charCodeAt(t);o=Math.imul(o^m,2654435761),n=Math.imul(n^m,1597334677)}return o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(o^o>>>13,3266489909),4294967296*(2097151&n)+(o>>>0)}(o=o.replace("@module","")).toString(36);if(document.getElementById(d))return;const i=document.createElement("script");m&&(i.type="module"),i.id=d,i.src=o,i.async=!1,t&&n===e.length-1&&(i.onload=t),document.head.appendChild(i)})}()</script>
<link rel="preconnect" href="https://rsms.me/">
<link rel="stylesheet" href="https://rsms.me/inter/inter.css" media="print" onload="this.media=&#39;all&#39;">
<link rel="preload" as="font" type="font/woff2" href="/fonts/berkeley-mono/BerkeleyMono-Regular.woff2" crossorigin="anonymous">
<link rel="preload" as="font" type="font/woff2" href="/fonts/berkeley-mono/BerkeleyMono-Bold.woff2" crossorigin="anonymous">
<link rel="preload" as="font" type="font/woff2" href="https://cdn.jsdelivr.net/npm/mathlive/fonts/KaTeX_Main-Regular.woff2" crossorigin="anonymous">
<link rel="preload" as="font" type="font/woff2" href="https://cdn.jsdelivr.net/npm/mathlive/fonts/KaTeX_Math-Italic.woff2" crossorigin="anonymous">
<link rel="preload" as="font" type="font/woff2" href="https://cdn.jsdelivr.net/npm/mathlive/fonts/KaTeX_AMS-Regular.woff2" crossorigin="anonymous">
<link rel="preload" as="font" type="font/woff2" href="https://cdn.jsdelivr.net/npm/mathlive/fonts/KaTeX_Size1-Regular.woff2" crossorigin="anonymous">
<link rel="preload" as="image" href="/img/hand-slugs.jpg" fetchpriority="high">
<link rel="preload" as="image" href="/img/hand-gears.jpg" fetchpriority="high">
<link rel="preload" as="image" href="/img/hand-cube2.jpg" fetchpriority="high"><link rel="stylesheet" href="/assets/css/styles.44ad2588.css">
<script src="/assets/js/runtime~main.829617bb.js" defer="defer"></script>
<script src="/assets/js/main.88d78948.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme-choice","system"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.webp"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="shared-header"><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="MathLive Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="42" width="42"><img src="/img/logo.webp" alt="MathLive Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="42" width="42"></div><b class="navbar__title text--truncate">MathLive</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mathfield/">Mathfield</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/compute-engine/">Compute Engine</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/cortex-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" icon="github">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav></div><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/mathfield/"><span title="Mathfield" class="categoryLinkLabel_W154">Mathfield</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/compute-engine/"><span title="Compute Engine" class="categoryLinkLabel_W154">Compute Engine</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item compass-icon"><a class="menu__link" tabindex="0" href="/compute-engine/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item flask-icon"><a class="menu__link" tabindex="0" href="/compute-engine/demo/"><span title="Demo" class="linkLabel_WmDU">Demo</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item changelog-icon"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/compute-engine/changelog/"><span title="Changelog" class="linkLabel_WmDU">Changelog</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/expressions/"><span title="Expressions" class="linkLabel_WmDU">Expressions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/evaluate/"><span title="Evaluation of Expressions" class="linkLabel_WmDU">Evaluation of Expressions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/symbolic-computing/"><span title="Symbolic Computing" class="linkLabel_WmDU">Symbolic Computing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/numeric-evaluation/"><span title="Numeric Evaluation" class="linkLabel_WmDU">Numeric Evaluation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/canonical-form/"><span title="Canonical Form" class="linkLabel_WmDU">Canonical Form</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/symbols/"><span title="Symbols" class="linkLabel_WmDU">Symbols</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/augmenting/"><span title="Custom Functions and Symbols" class="linkLabel_WmDU">Custom Functions and Symbols</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/latex-syntax/"><span title="LaTeX Syntax" class="linkLabel_WmDU">LaTeX Syntax</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/types/"><span title="Types" class="linkLabel_WmDU">Types</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/simplify/"><span title="Simplify" class="linkLabel_WmDU">Simplify</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/compiling/"><span title="Compiling Expressions" class="linkLabel_WmDU">Compiling Expressions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/assumptions/"><span title="Assumptions" class="linkLabel_WmDU">Assumptions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/patterns-and-rules/"><span title="Patterns and Rules" class="linkLabel_WmDU">Patterns and Rules</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/logic/"><span title="Logic and First-Order Logic" class="linkLabel_WmDU">Logic and First-Order Logic</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/linear-algebra/"><span title="Linear Algebra" class="linkLabel_WmDU">Linear Algebra</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sdk-icon"><a class="menu__link" tabindex="0" href="/math-json/"><span title="MathJSON Format" class="linkLabel_WmDU">MathJSON Format</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sdk-icon"><a class="menu__link" tabindex="0" href="/compute-engine/api/"><span title="API Reference" class="linkLabel_WmDU">API Reference</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item compass-icon"><a class="menu__link" tabindex="0" href="/compute-engine/standard-library/"><span title="MathJSON Standard Library" class="linkLabel_WmDU">MathJSON Standard Library</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/arithmetic/"><span title="Arithmetic" class="linkLabel_WmDU">Arithmetic</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/calculus/"><span title="Calculus" class="linkLabel_WmDU">Calculus</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/collections/"><span title="Collections" class="linkLabel_WmDU">Collections</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/complex/"><span title="Complex" class="linkLabel_WmDU">Complex</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/control-structures/"><span title="Control Structures" class="linkLabel_WmDU">Control Structures</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/core/"><span title="Core" class="linkLabel_WmDU">Core</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/functions/"><span title="Functions" class="linkLabel_WmDU">Functions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/linear-algebra/"><span title="Linear Algebra" class="linkLabel_WmDU">Linear Algebra</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/logic/"><span title="Logic" class="linkLabel_WmDU">Logic</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/sets/"><span title="Sets" class="linkLabel_WmDU">Sets</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/special-functions/"><span title="Special Functions" class="linkLabel_WmDU">Special Functions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/statistics/"><span title="Statistics" class="linkLabel_WmDU">Statistics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/combinatorics/"><span title="Combinatorics" class="linkLabel_WmDU">Combinatorics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/number-theory/"><span title="Number Theory" class="linkLabel_WmDU">Number Theory</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/strings/"><span title="Strings and Text" class="linkLabel_WmDU">Strings and Text</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/trigonometry/"><span title="Trigonometry" class="linkLabel_WmDU">Trigonometry</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link"><span title="Tutorials" class="categoryLinkLabel_W154">Tutorials</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item tutorial-icon"><a class="menu__link" tabindex="0" href="/tutorials/simple-quiz/"><span title="Simple Quiz" class="linkLabel_WmDU">Simple Quiz</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/about/"><span title="Additional Resources" class="categoryLinkLabel_W154">Additional Resources</span></a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Compute Engine</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Changelog</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Compute Engine Changelog</h1></header>
<!-- -->
<style>
    .markdown h2 {
      align-items: center;
      border-bottom: 2px solid var(--blue-600);
      color: var(--blue-600);
      display: flex;
    }      


    .markdown h2 em {
      margin-left: auto;
      color: var(--blue-600);
      display: block;
      float: right;
      font-size: .6em;
      font-style: normal;
      font-weight: 400
    }
  
    </style><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="coming-soon">Coming Soon<a href="#coming-soon" class="hash-link" aria-label="Direct link to Coming Soon" title="Direct link to Coming Soon" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features">New Features<a href="#new-features" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features" translate="no">​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="subscripts-and-indexing">Subscripts and Indexing<a href="#subscripts-and-indexing" class="hash-link" aria-label="Direct link to Subscripts and Indexing" title="Direct link to Subscripts and Indexing" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Subscript Evaluation Handler</strong>: Define custom evaluation functions for
subscripted symbols like mathematical sequences using <code>subscriptEvaluate</code>:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token comment" style="color:var(--base-05)">// Define a Fibonacci sequence</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declare</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;F&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token function-variable function" style="color:var(--base-0a)">subscriptEvaluate</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter">subscript</span><span class="token parameter punctuation" style="color:var(--base-06)">,</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:var(--base-06)">{</span><span class="token parameter"> engine </span><span class="token parameter punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    </span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> n </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> subscript</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">re</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    </span><span class="token keyword" style="color:var(--base-0e)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token operator" style="color:var(--base-06)">!</span><span class="token plain">Number</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">isInteger</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">n</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">||</span><span class="token plain"> n </span><span class="token operator" style="color:var(--base-06)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">0</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">return</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">undefined</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    </span><span class="token comment" style="color:var(--base-05)">// Calculate Fibonacci number...</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    </span><span class="token keyword" style="color:var(--base-0e)">return</span><span class="token plain"> engine</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">number</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">fibValue</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;F_{10}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → 55</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;F_5&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">     </span><span class="token comment" style="color:var(--base-05)">// → 5</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;F_n&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">     </span><span class="token comment" style="color:var(--base-05)">// → stays symbolic (handler returns undefined)</span><br></span></code></pre></div></div>
<p>Both simple subscripts (<code>F_5</code>) and complex subscripts (<code>F_{5}</code>) are supported.
When the handler returns <code>undefined</code>, the expression stays symbolic. Subscripted
expressions with <code>subscriptEvaluate</code> have type <code>number</code> and can be used in
arithmetic operations: <code>ce.parse(&#x27;F_{5} + F_{3}&#x27;).evaluate()</code> works correctly.</p>
</li>
<li class="">
<p><strong>Type-Aware Subscript Handling</strong>: Subscripts on symbols declared as
collection types (list, tuple, matrix, etc.) now automatically convert to
<code>At()</code> indexing operations:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declare</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;v&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;list&lt;number&gt;&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;v_n&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">      </span><span class="token comment" style="color:var(--base-05)">// → At(v, n)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;v_{n+1}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → At(v, n+1)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;v_{i,j}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → At(v, Tuple(i, j))</span><br></span></code></pre></div></div>
<p>This works for both simple subscripts (<code>v_n</code>) and complex subscripts
(<code>v_{n+1}</code>). The type of the <code>At()</code> expression is correctly inferred from the
collection&#x27;s element type, allowing subscripted collection elements to be used
in arithmetic.</p>
</li>
<li class="">
<p><strong>Complex Subscripts in Arithmetic</strong> (Issue #273): Subscript expressions like
<code>a_{n+1}</code> can now be used in arithmetic operations without type errors:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;a_{n+1} + 1&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">     </span><span class="token comment" style="color:var(--base-05)">// → Add(Subscript(a, n+1), 1)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;2 * a_{n+1}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">     </span><span class="token comment" style="color:var(--base-05)">// → Multiply(2, Subscript(a, n+1))</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;a_{n+1}^2&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">       </span><span class="token comment" style="color:var(--base-05)">// → Power(Subscript(a, n+1), 2)</span><br></span></code></pre></div></div>
<p>Previously, complex subscripts would fail with &quot;incompatible-type&quot; errors when
used in arithmetic contexts.</p>
</li>
<li class="">
<p><strong>Multi-Index <code>At()</code> Support</strong>: The <code>At</code> function now supports multiple
indices for accessing nested collections (e.g., matrices):</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> matrix </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;List&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;List&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">4</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;List&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">6</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">7</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">9</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;At&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → 3 (row 1, column 2)</span><br></span></code></pre></div></div>
<p>The signature was updated from single index to variadic:
<code>(value: indexed_collection, index: (number|string)+) -&gt; unknown</code></p>
</li>
<li class="">
<p><strong>Text Subscripts</strong>: Added support for <code>\text{}</code> in subscripts, allowing
descriptive subscript names:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;x_{\\text{max}}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → symbol &quot;x_max&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;v_{\\text{initial}}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → symbol &quot;v_initial&quot;</span><br></span></code></pre></div></div>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sequences">Sequences<a href="#sequences" class="hash-link" aria-label="Direct link to Sequences" title="Direct link to Sequences" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Declarative Sequence Definitions</strong>: Define mathematical sequences using
recurrence relations with the new <code>declareSequence()</code> method:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token comment" style="color:var(--base-05)">// Fibonacci sequence</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declareSequence</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;F&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">base</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">0</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">0</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">recurrence</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;F_{n-1} + F_{n-2}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;F_{10}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → 55</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;F_{20}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → 6765</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Arithmetic sequence: a_n = a_{n-1} + 2, a_0 = 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declareSequence</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;A&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">base</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">0</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">recurrence</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;A_{n-1} + 2&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;A_{5}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → 11</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Factorial via recurrence</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declareSequence</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;H&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">base</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">0</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">recurrence</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;n \\cdot H_{n-1}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;H_{5}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → 120</span><br></span></code></pre></div></div>
<p>Features:</p>
<ul>
<li class="">Base cases as index → value mapping</li>
<li class="">Recurrence relation as LaTeX string or BoxedExpression</li>
<li class="">Automatic memoization for efficient evaluation (configurable)</li>
<li class="">Custom index variable name (default: <code>n</code>)</li>
<li class="">Domain constraints (min/max valid indices)</li>
<li class="">Symbolic subscripts stay symbolic (e.g., <code>F_k</code> remains unevaluated)</li>
</ul>
<p>Alternatively, sequences can be defined using natural LaTeX assignment notation:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token comment" style="color:var(--base-05)">// Arithmetic sequence via LaTeX</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;L_0 := 1&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;L_n := L_{n-1} + 2&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;L_{5}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → 11</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Fibonacci via LaTeX</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;F_0 := 0&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;F_1 := 1&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;F_n := F_{n-1} + F_{n-2}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;F_{10}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → 55</span><br></span></code></pre></div></div>
<p>Base cases and recurrence can be defined in any order. The sequence is
finalized when both are present.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="special-functions">Special Functions<a href="#special-functions" class="hash-link" aria-label="Direct link to Special Functions" title="Direct link to Special Functions" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Special Function Definitions</strong>: Added type signatures for special mathematical
functions, enabling them to be used in expressions without type errors:</p>
<ul>
<li class=""><code>Zeta</code> - Riemann zeta function ζ(s)</li>
<li class=""><code>Beta</code> - Euler beta function B(a,b) = Γ(a)Γ(b)/Γ(a+b)</li>
<li class=""><code>LambertW</code> - Lambert W function (product logarithm)</li>
<li class=""><code>BesselJ</code>, <code>BesselY</code>, <code>BesselI</code>, <code>BesselK</code> - Bessel functions of
first/second kind</li>
<li class=""><code>AiryAi</code>, <code>AiryBi</code> - Airy functions</li>
</ul>
<p>These functions now have proper signatures and can be composed with other
expressions: <code>ce.box([&#x27;Add&#x27;, 1, [&#x27;LambertW&#x27;, &#x27;x&#x27;]])</code> works correctly.</p>
</li>
<li class="">
<p><strong>Special Function LaTeX Parsing</strong>: Added LaTeX parsing support for special
functions: <code>\zeta(s)</code>, <code>\Beta(a,b)</code>, <code>\operatorname{W}(x)</code>, Bessel functions
via <code>\operatorname{J}</code>, <code>\operatorname{Y}</code>, etc., and Airy functions via
<code>\operatorname{Ai}</code>, <code>\operatorname{Bi}</code>.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="calculus">Calculus<a href="#calculus" class="hash-link" aria-label="Direct link to Calculus" title="Direct link to Calculus" translate="no">​</a></h4><ul>
<li class="">
<p><strong>LambertW Derivative</strong>: Added derivative rule for the Lambert W function:
<code>d/dx W(x) = W(x)/(x·(1+W(x)))</code></p>
</li>
<li class="">
<p><strong>Bessel Function Derivatives</strong>: Added derivative support for all four Bessel
function types using order-dependent recurrence relations:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;D&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;BesselJ&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;n&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// → 1/2 * BesselJ(n-1, x) - 1/2 * BesselJ(n+1, x)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;D&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;BesselI&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;n&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// → 1/2 * BesselI(n-1, x) + 1/2 * BesselI(n+1, x)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;D&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;BesselK&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;n&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// → -1/2 * BesselK(n-1, x) - 1/2 * BesselK(n+1, x)</span><br></span></code></pre></div></div>
<p>Chain rule is automatically applied for composite arguments.</p>
</li>
<li class="">
<p><strong>Multi-Argument Function Derivatives</strong>: Added derivative support for:</p>
<ul>
<li class="">
<p><strong>Log(x, base)</strong> - Logarithm with custom base:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;D&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Log&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → 1/(x·ln(2))</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;D&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Log&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;a&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// → 1/(x·ln(a))</span><br></span></code></pre></div></div>
<p>Also handles cases where both x and base depend on the variable by applying
the quotient rule to ln(x)/ln(base).</p>
</li>
<li class="">
<p><strong>Discrete functions (Mod, GCD, LCM)</strong> - Return 0 as these are step
functions with derivative 0 almost everywhere:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;D&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Mod&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;D&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;GCD&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">6</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → 0</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li class="">
<p><strong>Integration of <code>1/(x·ln(x))</code> Pattern</strong>: Added support for integrating
expressions where the denominator is a product and one factor is the derivative
of another:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\int \\frac{1}{x\\ln x} dx&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → ln(|ln(x)|)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\int \\frac{3}{x\\ln x} dx&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → 3·ln(|ln(x)|)</span><br></span></code></pre></div></div>
<p>This uses u-substitution: since <code>1/x = d/dx(ln(x))</code>, the integral becomes
<code>∫ h&#x27;(x)/h(x) dx = ln|h(x)|</code>.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="linear-algebra">Linear Algebra<a href="#linear-algebra" class="hash-link" aria-label="Direct link to Linear Algebra" title="Direct link to Linear Algebra" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Matrix Decompositions</strong>: Added four matrix decomposition functions for
numerical linear algebra:</p>
<ul>
<li class=""><code>LUDecomposition(A)</code> → <code>[P, L, U]</code> - LU factorization with partial pivoting</li>
<li class=""><code>QRDecomposition(A)</code> → <code>[Q, R]</code> - QR factorization using Householder reflections</li>
<li class=""><code>CholeskyDecomposition(A)</code> → <code>L</code> - Cholesky factorization for positive definite matrices</li>
<li class=""><code>SVD(A)</code> → <code>[U, Σ, V]</code> - Singular Value Decomposition</li>
</ul>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;LUDecomposition&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token number" style="color:var(--base-09)">4</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token number" style="color:var(--base-09)">6</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// → [P, L, U] where PA = LU</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;QRDecomposition&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">4</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// → [Q, R] where A = QR, Q orthogonal, R upper triangular</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;CholeskyDecomposition&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token number" style="color:var(--base-09)">4</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// → L where A = LL^T</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;SVD&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">4</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// → [U, Σ, V] where A = UΣV^T</span><br></span></code></pre></div></div>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="simplification">Simplification<a href="#simplification" class="hash-link" aria-label="Direct link to Simplification" title="Direct link to Simplification" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Assumption-Based Simplification</strong>: Simplification rules now correctly use
assumptions about symbol signs. For example:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">assume</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;x &gt; 0&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\sqrt{x^2}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">latex</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → &quot;x&quot; (was &quot;|x|&quot;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;|x|&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">latex</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">          </span><span class="token comment" style="color:var(--base-05)">// → &quot;x&quot; (was &quot;|x|&quot;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">assume</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;y &lt; 0&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\sqrt{y^2}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">latex</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → &quot;-y&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;|y|&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">latex</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain">          </span><span class="token comment" style="color:var(--base-05)">// → &quot;-y&quot;</span><br></span></code></pre></div></div>
<p>This enables important mathematical simplifications that depend on knowing
whether a variable is positive, negative, or zero.</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements">Improvements<a href="#improvements" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="simplification-1">Simplification<a href="#simplification-1" class="hash-link" aria-label="Direct link to Simplification" title="Direct link to Simplification" translate="no">​</a></h4><ul>
<li class=""><strong>Nested Root Simplification</strong>: Nested roots now simplify to a single root:<!-- -->
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Sqrt&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Sqrt&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain">     </span><span class="token comment" style="color:var(--base-05)">// → root(4)(x)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Root&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Root&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// → root(6)(x)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Sqrt&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Root&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// → root(6)(x)</span><br></span></code></pre></div></div>
<!-- -->This applies to all combinations: <code>sqrt(sqrt(x))</code>, <code>root(sqrt(x), n)</code>,
<code>sqrt(root(x, n))</code>, and <code>root(root(x, m), n)</code>.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="calculus-1">Calculus<a href="#calculus-1" class="hash-link" aria-label="Direct link to Calculus" title="Direct link to Calculus" translate="no">​</a></h4><ul>
<li class=""><strong>Derivative Recursion Safety</strong>: Added robust recursion protection to the
<code>differentiate()</code> function with a depth limit (<code>MAX_DIFFERENTIATION_DEPTH</code>) to
guard against pathological expressions. All recursive calls now track depth
and gracefully return <code>undefined</code> if the limit is exceeded.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0330-2026-01-30">0.33.0 <em>2026-01-30</em><a href="#0330-2026-01-30" class="hash-link" aria-label="Direct link to 0330-2026-01-30" title="Direct link to 0330-2026-01-30" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bug-fixes">Bug Fixes<a href="#bug-fixes" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes" translate="no">​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="arithmetic-and-infinity">Arithmetic and Infinity<a href="#arithmetic-and-infinity" class="hash-link" aria-label="Direct link to Arithmetic and Infinity" title="Direct link to Arithmetic and Infinity" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Division by Zero</strong>: Improved handling of division by zero:</p>
<ul>
<li class=""><code>0/0</code> returns <code>NaN</code> (indeterminate form)</li>
<li class=""><code>a/0</code> where <code>a ≠ 0</code> returns <code>ComplexInfinity</code> (~∞) as a &quot;better NaN&quot; that
indicates an infinite result with unknown sign</li>
<li class="">This applies to all forms including <code>1/0</code>, <code>x/0</code>, and rational literals</li>
</ul>
</li>
<li class="">
<p><strong>Infinity Sign Propagation</strong>: Fixed infinity multiplication not propagating
signs correctly. Now <code>∞ * (-2) = -∞</code> and <code>-∞ * 2 = -∞</code> as expected.</p>
</li>
<li class="">
<p><strong>Infinity Division</strong>: Fixed <code>∞/∞</code> incorrectly returning <code>1</code>. Now correctly
returns <code>NaN</code> (indeterminate form). The <code>a/a → 1</code> simplification rule now
excludes infinity values.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="trigonometry">Trigonometry<a href="#trigonometry" class="hash-link" aria-label="Direct link to Trigonometry" title="Direct link to Trigonometry" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Trigonometric Period Identities</strong>: Fixed incorrect sign handling for
<code>csc(π+x)</code> and <code>cot(π+x)</code>:</p>
<ul>
<li class=""><code>csc(π+x)</code> now correctly simplifies to <code>-csc(x)</code> (was incorrectly <code>csc(x)</code>)</li>
<li class=""><code>cot(π+x)</code> now correctly simplifies to <code>cot(x)</code> (was incorrectly <code>-cot(x)</code>,
cotangent has period π)</li>
</ul>
</li>
<li class="">
<p><strong>Trigonometric Co-function Identities</strong>: Fixed co-function identities not
applying to canonical form expressions. Now correctly simplifies:</p>
<ul>
<li class=""><code>sin(π/2 - x)</code> → <code>cos(x)</code></li>
<li class=""><code>cos(π/2 - x)</code> → <code>sin(x)</code></li>
<li class=""><code>tan(π/2 - x)</code> → <code>cot(x)</code></li>
<li class=""><code>cot(π/2 - x)</code> → <code>tan(x)</code></li>
<li class=""><code>sec(π/2 - x)</code> → <code>csc(x)</code></li>
<li class=""><code>csc(π/2 - x)</code> → <code>sec(x)</code></li>
</ul>
</li>
<li class="">
<p><strong>Double Angle with Coefficient</strong>: Fixed <code>2sin(x)cos(x)</code> not simplifying to
<code>sin(2x)</code>. The product-to-sum identity now handles coefficients:</p>
<ul>
<li class=""><code>2sin(x)cos(x)</code> → <code>sin(2x)</code></li>
<li class=""><code>c·sin(x)cos(x)</code> → <code>c·sin(2x)/2</code> for any coefficient <code>c</code></li>
</ul>
</li>
<li class="">
<p><strong>Trigonometric Product Identities</strong>: Improved handling of trig products in
simplification. The Multiply rule now correctly defers to trig-specific rules
for patterns like <code>sin(x)*cos(x)</code> and <code>tan(x)*cot(x)</code>, ensuring these are
simplified to <code>sin(2x)/2</code> and <code>1</code> respectively.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="logarithms-and-exponentials">Logarithms and Exponentials<a href="#logarithms-and-exponentials" class="hash-link" aria-label="Direct link to Logarithms and Exponentials" title="Direct link to Logarithms and Exponentials" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Logarithm-Exponential Composition</strong>: Fixed <code>log(exp(x))</code> incorrectly
simplifying to <code>x</code>. Now correctly returns <code>x/ln(10)</code> ≈ <code>0.434x</code> since
<code>log₁₀(eˣ) = x·log₁₀(e) = x/ln(10)</code>. The identity <code>log(exp(x)) = x</code> only holds
for natural logarithm.</p>
</li>
<li class="">
<p><strong>Logarithm of e</strong>: Added simplification for <code>log(e)</code> → <code>1/ln(10)</code> ≈ <code>0.434</code>
and <code>log_c(e)</code> → <code>1/ln(c)</code> for any base <code>c</code>.</p>
</li>
<li class="">
<p><strong>Logarithm Combination Base Preservation</strong>: Fixed <code>log(x) + log(y)</code> (base 10)
incorrectly becoming <code>ln(xy)</code>. Now correctly produces <code>log(xy)</code> preserving the
original base.</p>
</li>
<li class="">
<p><strong>Logarithm Quotient Rule</strong>: Added expansion rule for logarithm of quotients.
<code>ln(x/y)</code> now simplifies to <code>ln(x) - ln(y)</code> when x and y are known positive.
Similarly for any base: <code>log_c(x/y)</code> → <code>log_c(x) - log_c(y)</code>.</p>
</li>
<li class="">
<p><strong>Exponential-Logarithm Composition</strong>: Added simplification for <code>exp(log(x))</code>
where log has a different base than e. Now <code>e^log(x)</code> → <code>x^{1/ln(10)}</code> and
more generally <code>e^log_c(x)</code> → <code>x^{1/ln(c)}</code> for any base c.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="powers-and-exponents">Powers and Exponents<a href="#powers-and-exponents" class="hash-link" aria-label="Direct link to Powers and Exponents" title="Direct link to Powers and Exponents" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Zero Power with Symbolic Exponent</strong>: Fixed <code>0^π</code> and similar expressions
with positive symbolic exponents not simplifying. Now <code>0^x</code> → <code>0</code> when <code>x</code> is
known to be positive (including <code>π</code>, <code>e</code>, etc.).</p>
</li>
<li class="">
<p><strong>Exponent Evaluation in Products</strong>: Fixed <code>(x³)² · (y²)²</code> not simplifying to
<code>x⁶y⁴</code>. Numeric subexpressions in exponents (like <code>2×3</code> in <code>x^{2×3}</code>) are now
evaluated when the expression is part of a product.</p>
</li>
<li class="">
<p><strong>Negative Exponents on Fractions</strong>: Fixed <code>(a/b)^{-n}</code> not simplifying
properly. Now <code>(x³/y²)^{-2}</code> correctly simplifies to <code>y⁴/x⁶</code> during
canonicalization by distributing the negative exponent.</p>
</li>
<li class="">
<p><strong>Negative Base with Fractional Exponent</strong>: Fixed <code>(-ax)^{p/q}</code> returning
complex results when <code>p</code> and <code>q</code> are both odd. Now correctly factors out the
negative sign: <code>(-2x)^{3/5}</code> → <code>-(2x)^{3/5}</code> = <code>-2^{3/5}·x^{3/5}</code>, giving real
results. This affects products like <code>(-2x)^{3/5}·x</code> which now correctly
simplify to <code>-2^{3/5}·x^{8/5}</code> instead of returning an imaginary value.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="radicals">Radicals<a href="#radicals" class="hash-link" aria-label="Direct link to Radicals" title="Direct link to Radicals" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Radical Perfect Square Factoring</strong>: Fixed <code>√(x²y)</code> not simplifying to
<code>|x|√y</code>. Adjusted cost function to penalize radicals containing perfect
squares, enabling the simplification rule to apply.</p>
</li>
<li class="">
<p><strong>Generalized Root Extraction</strong>: Added comprehensive root simplification
rules:</p>
<ul>
<li class=""><code>√[n]{x^m}</code> → <code>x^{m/n}</code> for odd roots (always valid)</li>
<li class=""><code>√[n]{x^m}</code> → <code>|x|^{m/n}</code> for even roots with integer result</li>
<li class=""><code>√{x^{odd}}</code> → <code>|x|^n · √x</code> factoring (e.g., <code>√{x⁵}</code> → <code>|x|²√x</code>)</li>
<li class="">Handles all combinations: <code>√[4]{x⁶}</code> → <code>|x|^{3/2}</code>, <code>√[3]{x⁶}</code> → <code>x²</code></li>
</ul>
</li>
<li class="">
<p><strong>Symbolic Radicals Preservation</strong>: Fixed numeric radicals (<code>√2</code>, <code>∛5</code>,
<code>2^{3/5}</code>) being evaluated to floating-point approximations during
multiplication. Now <code>x * √2</code> stays as <code>√2 · x</code> instead of <code>1.414... · x</code>, and
<code>x * 2^{1/3}</code> stays as <code>x · ∛2</code> instead of <code>1.259... · x</code>. This preserves
exact irrational values and allows proper algebraic manipulation. Use <code>.N()</code>
to get numeric approximations when needed.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="latex-parsing">LaTeX Parsing<a href="#latex-parsing" class="hash-link" aria-label="Direct link to LaTeX Parsing" title="Direct link to LaTeX Parsing" translate="no">​</a></h4><ul>
<li class=""><strong>LaTeX <code>\exp()</code> Juxtaposition</strong>: Fixed adjacent <code>\exp()</code> calls not parsing as
multiplication. Now <code>\exp(x)\exp(2)</code> correctly parses as <code>e^x · e^2</code> instead
of producing a parse error. The expression then simplifies to <code>e^{x+2}</code> as
expected.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features" translate="no">​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="trigonometry-1">Trigonometry<a href="#trigonometry-1" class="hash-link" aria-label="Direct link to Trigonometry" title="Direct link to Trigonometry" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Fu Algorithm for Trigonometric Simplification</strong>: Implemented the Fu
algorithm based on Fu, Zhong, and Zeng&#x27;s paper &quot;Automated and readable
simplification of trigonometric expressions&quot; (2006). This provides systematic,
high-quality trigonometric simplification through:</p>
<ul>
<li class="">
<p><strong>Transformation Rules (TR1-TR22)</strong>: Comprehensive set of rewrite rules
including reciprocal conversions (sec→1/cos), ratio forms (tan→sin/cos),
Pythagorean substitutions (sin²+cos²=1), power reductions, product-to-sum,
sum-to-product, angle expansion/contraction, and Morrie&#x27;s law for cosine
product chains.</p>
</li>
<li class="">
<p><strong>Rule Lists (RL1, RL2)</strong>: Organized application sequences for tan/cot
expressions and sin/cos expressions respectively, with greedy selection of
optimal results.</p>
</li>
<li class="">
<p><strong>Cost Function</strong>: Minimizes trigonometric function count as primary metric,
with leaf count as secondary, to find the most readable form.</p>
</li>
</ul>
<p><strong>Usage</strong>:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token comment" style="color:var(--base-05)">// Option 1: Use strategy option with simplify()</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> result </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> strategy</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;fu&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Option 2: Dedicated trigSimplify() method</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> result </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">trigSimplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p><strong>Examples</strong>:</p>
<ul>
<li class=""><code>sin(x)⁴ - cos(x)⁴</code> → <code>-cos(2x)</code></li>
<li class=""><code>tan(x)·cot(x)</code> → <code>1</code></li>
<li class=""><code>sin²(x) + cos²(x)</code> → <code>1</code></li>
<li class=""><code>2sin(x)cos(x)</code> → <code>sin(2x)</code></li>
<li class=""><code>cos(x)·cos(2x)·cos(4x)</code> → <code>sin(8x)/(8sin(x))</code> (Morrie&#x27;s law)</li>
</ul>
<p><strong>Enhanced Transformations</strong>:</p>
<ul>
<li class="">
<p><strong>TRmorrie with Rational Coefficients</strong>: Morrie&#x27;s law now handles angles
that are rational multiples of π, such as <code>cos(π/9)·cos(2π/9)·cos(4π/9)</code> →
<code>1/8</code>. The algorithm detects maximal geometric sequences and handles cases
where the sine terms cancel to produce pure fractions.</p>
</li>
<li class="">
<p><strong>TR12i Tangent Sum Identity</strong>: Recognizes the pattern
<code>tan(A) + tan(B) - k·tan(A)·tan(B)</code> and simplifies to <code>-tan(C)</code> when
<code>A + B + C = π</code> and <code>k = tan(C)</code>. Works with standard angles (π/6, π/4, π/3,
etc.) and handles sign variations.</p>
</li>
<li class="">
<p><strong>TRpythagorean for Compound Expressions</strong>: Detects <code>sin²(x) + cos²(x)</code>
pairs within larger Add expressions and simplifies them to 1, e.g.,
<code>sin²(x) + cos²(x) + 2</code> → <code>3</code>.</p>
</li>
<li class="">
<p><strong>Early TR9 Sum-to-Product</strong>: Applies sum-to-product transformation before
angle expansion to catch patterns like <code>sin(x+h) + sin(x-h)</code> →
<code>2sin(x)cos(h)</code> that would otherwise be expanded and lose their simplified
form.</p>
</li>
<li class="">
<p><strong>Dual Strategy Approach</strong>: The Fu strategy now tries both &quot;Fu first&quot; and
&quot;simplify first&quot; approaches and picks the best result. This handles both
Morrie-like patterns (which need Fu before evaluation) and period reduction
patterns (which need simplification first for angle contraction).</p>
</li>
</ul>
</li>
<li class="">
<p><strong>Trigonometric Periodicity Reduction</strong>: Trigonometric functions now simplify
arguments containing integer multiples of π:</p>
<ul>
<li class=""><code>sin(5π + k)</code> → <code>-sin(k)</code> (period 2π, with sign change for odd multiples)</li>
<li class=""><code>cos(4π + k)</code> → <code>cos(k)</code> (period 2π)</li>
<li class=""><code>tan(3π + k)</code> → <code>tan(k)</code> (period π)</li>
<li class="">Works for all six trig functions: sin, cos, tan, cot, sec, csc</li>
<li class="">Handles both positive and negative multiples of π</li>
</ul>
</li>
<li class="">
<p><strong>Pythagorean Trigonometric Identities</strong>: Added simplification rules for all
Pythagorean identities:</p>
<ul>
<li class=""><code>sin²(x) + cos²(x)</code> → <code>1</code></li>
<li class=""><code>1 - sin²(x)</code> → <code>cos²(x)</code> and <code>1 - cos²(x)</code> → <code>sin²(x)</code></li>
<li class=""><code>sin²(x) - 1</code> → <code>-cos²(x)</code> and <code>cos²(x) - 1</code> → <code>-sin²(x)</code></li>
<li class=""><code>tan²(x) + 1</code> → <code>sec²(x)</code> and <code>sec²(x) - 1</code> → <code>tan²(x)</code></li>
<li class=""><code>1 + cot²(x)</code> → <code>csc²(x)</code> and <code>csc²(x) - 1</code> → <code>cot²(x)</code></li>
<li class=""><code>a·sin²(x) + a·cos²(x)</code> → <code>a</code> (with coefficient)</li>
</ul>
</li>
<li class="">
<p><strong>Trigonometric Equation Solving</strong>: The <code>solve()</code> method now handles basic
trigonometric equations:</p>
<ul>
<li class=""><code>sin(x) = a</code> → <code>x = arcsin(a)</code> and <code>x = π - arcsin(a)</code> (two solutions)</li>
<li class=""><code>cos(x) = a</code> → <code>x = arccos(a)</code> and <code>x = -arccos(a)</code> (two solutions)</li>
<li class=""><code>tan(x) = a</code> → <code>x = arctan(a)</code> (one solution per period)</li>
<li class=""><code>cot(x) = a</code> → <code>x = arccot(a)</code></li>
<li class="">Supports coefficient form: <code>a·sin(x) + b = 0</code></li>
<li class="">Domain validation: returns no solutions when |a| &gt; 1 for sin/cos</li>
<li class="">Automatic deduplication of equivalent solutions (e.g., <code>cos(x) = 1</code> → single
solution <code>0</code>)</li>
</ul>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="calculus-2">Calculus<a href="#calculus-2" class="hash-link" aria-label="Direct link to Calculus" title="Direct link to Calculus" translate="no">​</a></h4><ul>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/163" target="_blank" rel="noopener noreferrer" class="">#163</a>) Additional
Derivative Notations</strong>: Added support for parsing multiple derivative
notations beyond Leibniz notation:</p>
<ul>
<li class="">
<p><strong>Newton&#x27;s dot notation</strong> for time derivatives: <code>\dot{x}</code> →
<code>[&quot;D&quot;, &quot;x&quot;, &quot;t&quot;]</code>, <code>\ddot{x}</code> for second derivative, <code>\dddot{x}</code> and
<code>\ddddot{x}</code> for higher orders. The time variable is configurable via the
new <code>timeDerivativeVariable</code> parser option (default: <code>&quot;t&quot;</code>).</p>
</li>
<li class="">
<p><strong>Lagrange prime notation with arguments</strong>: <code>f&#x27;(x)</code> now parses to
<code>[&quot;D&quot;, [&quot;f&quot;, &quot;x&quot;], &quot;x&quot;]</code>, inferring the differentiation variable from the
function argument. Works for <code>f&#x27;&#x27;(x)</code>, <code>f&#x27;&#x27;&#x27;(x)</code>, etc. for higher
derivatives.</p>
</li>
<li class="">
<p><strong>Euler&#x27;s subscript notation</strong>: <code>D_x f</code> → <code>[&quot;D&quot;, &quot;f&quot;, &quot;x&quot;]</code> and <code>D^2_x f</code> or
<code>D_x^2 f</code> for second derivatives.</p>
</li>
<li class="">
<p><strong>Derivative serialization</strong>: <code>D</code> expressions now serialize to Leibniz
notation (<code>\frac{\mathrm{d}}{\mathrm{d}x}f</code>) for consistent round-trip
parsing.</p>
</li>
</ul>
</li>
<li class="">
<p><strong>Derivative Rules for Special Functions</strong>: Added derivative formulas for:</p>
<ul>
<li class=""><code>d/dx Digamma(x) = Trigamma(x)</code></li>
<li class=""><code>d/dx Erf(x)</code>, <code>d/dx Erfc(x)</code>, <code>d/dx Erfi(x)</code></li>
<li class=""><code>d/dx FresnelS(x)</code>, <code>d/dx FresnelC(x)</code></li>
<li class=""><code>d/dx LogGamma(x) = Digamma(x)</code></li>
</ul>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="special-functions-1">Special Functions<a href="#special-functions-1" class="hash-link" aria-label="Direct link to Special Functions" title="Direct link to Special Functions" translate="no">​</a></h4><ul>
<li class=""><strong>Special Function Definitions</strong>: Added type signatures for Digamma, Trigamma,
and PolyGamma functions to the library:<!-- -->
<ul>
<li class=""><code>Digamma(x)</code> - The digamma function ψ(x), logarithmic derivative of Gamma</li>
<li class=""><code>Trigamma(x)</code> - The trigamma function ψ₁(x), derivative of digamma</li>
<li class=""><code>PolyGamma(n, x)</code> - The polygamma function ψₙ(x), nth derivative of digamma</li>
</ul>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="logarithms-and-exponentials-1">Logarithms and Exponentials<a href="#logarithms-and-exponentials-1" class="hash-link" aria-label="Direct link to Logarithms and Exponentials" title="Direct link to Logarithms and Exponentials" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Logarithm Combination Rules</strong>: Added simplification rules that combine
logarithms with the same base:</p>
<ul>
<li class=""><code>ln(x) + ln(y)</code> → <code>ln(xy)</code> (addition combines via multiplication)</li>
<li class=""><code>ln(x) - ln(y)</code> → <code>ln(x/y)</code> (subtraction combines via division)</li>
<li class=""><code>log_c(x) + log_c(y)</code> → <code>log_c(xy)</code> (works with any base)</li>
<li class=""><code>log_c(x) - log_c(y)</code> → <code>log_c(x/y)</code></li>
<li class="">Handles multiple terms: <code>ln(a) + ln(b) - ln(c)</code> → <code>ln(ab/c)</code></li>
</ul>
</li>
<li class="">
<p><strong>Exponential e Simplification</strong>: Added rules for combining powers of e:</p>
<ul>
<li class=""><code>eˣ · eʸ</code> → <code>e^(x+y)</code> (same-base multiplication)</li>
<li class=""><code>eˣ / eʸ</code> → <code>e^(x-y)</code> (same-base division)</li>
<li class=""><code>eˣ · e</code> → <code>e^(x+1)</code> and <code>eˣ / e</code> → <code>e^(x-1)</code></li>
<li class="">Preserves symbolic form instead of evaluating e^n numerically</li>
</ul>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="powers-and-exponents-1">Powers and Exponents<a href="#powers-and-exponents-1" class="hash-link" aria-label="Direct link to Powers and Exponents" title="Direct link to Powers and Exponents" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Negative Base Power Simplification</strong>: Added rules to simplify powers with
negated bases:</p>
<ul>
<li class=""><code>(-x)^n</code> → <code>x^n</code> when n is even (e.g., <code>(-x)^4</code> → <code>x^4</code>)</li>
<li class=""><code>(-x)^n</code> → <code>-x^n</code> when n is odd (e.g., <code>(-x)^3</code> → <code>-x^3</code>)</li>
<li class=""><code>(-x)^{n/m}</code> → <code>x^{n/m}</code> when n is even and m is odd</li>
<li class=""><code>(-x)^{n/m}</code> → <code>-x^{n/m}</code> when both n and m are odd</li>
<li class=""><code>(-1)^{p/q}</code> → <code>-1</code> when both p and q are odd (real odd root)</li>
</ul>
</li>
<li class="">
<p><strong>Power Distribution</strong>: Added rule to distribute integer exponents over
products:</p>
<ul>
<li class=""><code>(ab)^n</code> → <code>a^n · b^n</code> when n is an integer</li>
<li class="">Example: <code>(x³y²)²</code> → <code>x⁶y⁴</code></li>
<li class="">Example: <code>(-2x)²</code> → <code>4x²</code></li>
</ul>
</li>
<li class="">
<p><strong>Same-Base Power Combination</strong>: Improved power combination for products with
3+ terms:</p>
<ul>
<li class=""><code>a³ · a · a²</code> → <code>a⁶</code> (combines all same-base terms)</li>
<li class="">Works with unknown symbols when sum of exponents is positive</li>
<li class="">Handles mixed products: <code>b³c²dx⁷ya⁵gb²x⁵(3b)</code> → <code>3dgyx¹²b⁶a⁵c²</code></li>
</ul>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sum-and-product">Sum and Product<a href="#sum-and-product" class="hash-link" aria-label="Direct link to Sum and Product" title="Direct link to Sum and Product" translate="no">​</a></h4><ul>
<li class=""><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/133" target="_blank" rel="noopener noreferrer" class="">#133</a>)
Element-based Indexing Sets for Sum/Product</strong>: Added support for <code>\in</code>
notation in summation and product subscripts:<!-- -->
<ul>
<li class="">
<p><strong>Parsing</strong>: <code>\sum_{n \in \{1,2,3\}} n</code> now correctly parses to
<code>[&quot;Sum&quot;, &quot;n&quot;, [&quot;Element&quot;, &quot;n&quot;, [&quot;Set&quot;, 1, 2, 3]]]</code> instead of silently
dropping the constraint.</p>
</li>
<li class="">
<p><strong>Evaluation</strong>: Sums and products over finite sets, lists, and ranges are
now evaluated correctly:</p>
<ul>
<li class=""><code>\sum_{n \in \{1,2,3\}} n</code> → <code>6</code></li>
<li class=""><code>\sum_{n \in \{1,2,3\}} n^2</code> → <code>14</code></li>
<li class=""><code>\prod_{k \in \{1,2,3,4\}} k</code> → <code>24</code></li>
</ul>
</li>
<li class="">
<p><strong>Serialization</strong>: Element-based indexing sets serialize back to LaTeX with
proper <code>\in</code> notation: <code>\sum_{n\in \{1, 2, 3\}}n</code></p>
</li>
<li class="">
<p><strong>Range support</strong>: Works with <code>Range</code> expressions via <code>ce.box()</code>:
<code>[&quot;Sum&quot;, &quot;n&quot;, [&quot;Element&quot;, &quot;n&quot;, [&quot;Range&quot;, 1, 5]]]</code> → <code>15</code></p>
</li>
<li class="">
<p><strong>Bracket notation as Range</strong>: Two-element integer lists in bracket notation
<code>[a,b]</code> are now treated as Range(a,b) when used in Element context:</p>
<ul>
<li class=""><code>\sum_{n \in [1,5]} n</code> → <code>15</code> (iterates 1, 2, 3, 4, 5)</li>
<li class="">Previously returned <code>6</code> (treated as List with just elements 1 and 5)</li>
</ul>
</li>
<li class="">
<p><strong>Interval support</strong>: <code>Interval</code> expressions work with Element-based
indexing, including support for <code>Open</code> and <code>Closed</code> boundary markers:</p>
<ul>
<li class=""><code>[&quot;Interval&quot;, 1, 5]</code> → iterates integers 1, 2, 3, 4, 5 (closed bounds)</li>
<li class=""><code>[&quot;Interval&quot;, [&quot;Open&quot;, 0], 5]</code> → iterates 1, 2, 3, 4, 5 (excludes 0)</li>
<li class=""><code>[&quot;Interval&quot;, 1, [&quot;Open&quot;, 6]]</code> → iterates 1, 2, 3, 4, 5 (excludes 6)</li>
</ul>
</li>
<li class="">
<p><strong>Infinite series with Element notation</strong>: Known infinite integer sets are
converted to their equivalent Limits form and iterated (capped at
1,000,000):</p>
<ul>
<li class=""><code>NonNegativeIntegers</code> (ℕ₀) → iterates from 0, like <code>\sum_{n=0}^{\infty}</code></li>
<li class=""><code>PositiveIntegers</code> (ℤ⁺) → iterates from 1, like <code>\sum_{n=1}^{\infty}</code></li>
<li class="">Convergent series produce numeric approximations:
<code>\sum_{n \in \Z^+} \frac{1}{n^2}</code> → <code>≈1.6449</code> (close to π²/6)</li>
</ul>
</li>
<li class="">
<p><strong>Non-enumerable domains stay symbolic</strong>: When the domain cannot be
enumerated (unknown symbol, non-iterable infinite set, or symbolic bounds),
the expression stays symbolic instead of returning NaN:</p>
<ul>
<li class=""><code>\sum_{n \in S} n</code> with unknown <code>S</code> → stays as
<code>[&quot;Sum&quot;, &quot;n&quot;, [&quot;Element&quot;, &quot;n&quot;, &quot;S&quot;]]</code></li>
<li class=""><code>\sum_{n \in \Z} n</code> → stays symbolic (bidirectional, can&#x27;t forward
iterate)</li>
<li class=""><code>\sum_{x \in \R} f(x)</code> → stays symbolic (non-countable)</li>
<li class=""><code>\sum_{n \in [1,a]} n</code> with symbolic bound → stays symbolic</li>
<li class="">Previously these would all return <code>NaN</code> with no explanation</li>
</ul>
</li>
<li class="">
<p><strong>Multiple Element indexing sets</strong>: Comma-separated Element expressions now
parse and evaluate correctly:</p>
<ul>
<li class=""><code>\sum_{n \in A, m \in B} (n+m)</code> →
<code>[&quot;Sum&quot;, ..., [&quot;Element&quot;, &quot;n&quot;, &quot;A&quot;], [&quot;Element&quot;, &quot;m&quot;, &quot;B&quot;]]</code></li>
<li class="">Nested sums like <code>\sum_{i \in A}\sum_{j \in B} i \cdot j</code> evaluate
correctly</li>
<li class="">Mixed indexing sets (Element + Limits) work together</li>
</ul>
</li>
<li class="">
<p><strong>Condition/filter support in Element expressions</strong>: Conditions can be
attached to Element expressions to filter values from the set:</p>
<ul>
<li class=""><code>\sum_{n \in S, n &gt; 0} n</code> → sums only positive values from S</li>
<li class=""><code>\sum_{n \in S, n \ge 2} n</code> → sums values ≥ 2 from S</li>
<li class=""><code>\prod_{k \in S, k &lt; 0} k</code> → multiplies only negative values from S</li>
<li class="">Supported operators: <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>!=</code></li>
<li class="">Conditions are attached as the 4th operand of Element:
<code>[&quot;Element&quot;, &quot;n&quot;, &quot;S&quot;, [&quot;Greater&quot;, &quot;n&quot;, 0]]</code></li>
</ul>
</li>
</ul>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="linear-algebra-1">Linear Algebra<a href="#linear-algebra-1" class="hash-link" aria-label="Direct link to Linear Algebra" title="Direct link to Linear Algebra" translate="no">​</a></h4><ul>
<li class=""><strong>Linear Algebra Enhancements</strong>: Improved tensor and matrix operations with
better scalar handling, new functionality, and clearer error messages:<!-- -->
<ul>
<li class="">
<p><strong>Matrix Multiplication</strong>: Added <code>MatrixMultiply</code> function supporting:</p>
<ul>
<li class="">Matrix × Matrix: <code>A (m×n) × B (n×p) → result (m×p)</code></li>
<li class="">Matrix × Vector: <code>A (m×n) × v (n) → result (m)</code></li>
<li class="">Vector × Matrix: <code>v (m) × B (m×n) → result (n)</code></li>
<li class="">Vector × Vector (dot product): <code>v1 (n) · v2 (n) → scalar</code></li>
<li class="">Proper dimension validation with <code>incompatible-dimensions</code> errors</li>
<li class="">LaTeX serialization using <code>\cdot</code> notation</li>
</ul>
</li>
<li class="">
<p><strong>Matrix Addition and Scalar Broadcasting</strong>: <code>Add</code> now supports element-wise
operations on tensors (matrices and vectors):</p>
<ul>
<li class="">Matrix + Matrix: Element-wise addition (shapes must match)</li>
<li class="">Scalar + Matrix: Broadcasts scalar to all elements</li>
<li class="">Vector + Vector: Element-wise addition</li>
<li class="">Scalar + Vector: Broadcasts scalar to all elements</li>
<li class="">Symbolic support: <code>[[a,b],[c,d]] + [[1,2],[3,4]]</code> evaluates correctly</li>
<li class="">Proper dimension validation with <code>incompatible-dimensions</code> errors</li>
</ul>
</li>
<li class="">
<p><strong>Matrix Construction Functions</strong>: Added convenience functions for creating
common matrices:</p>
<ul>
<li class=""><code>IdentityMatrix(n)</code>: Creates an n×n identity matrix</li>
<li class=""><code>ZeroMatrix(m, n?)</code>: Creates an m×n matrix of zeros (square if n omitted)</li>
<li class=""><code>OnesMatrix(m, n?)</code>: Creates an m×n matrix of ones (square if n omitted)</li>
</ul>
</li>
<li class="">
<p><strong>Matrix and Vector Norms</strong>: Added <code>Norm</code> function for computing various
norms:</p>
<ul>
<li class=""><strong>Vector norms</strong>: L1 (sum of absolute values), L2 (Euclidean, default),
L-infinity (max absolute value), and general Lp norms</li>
<li class=""><strong>Matrix norms</strong>: Frobenius (default, sqrt of sum of squared elements), L1
(max column sum), L-infinity (max row sum)</li>
<li class="">Scalar norms return the absolute value</li>
</ul>
</li>
<li class="">
<p><strong>Higher-Rank Tensor Operations</strong>: Extended <code>Transpose</code>,
<code>ConjugateTranspose</code>, and <code>Trace</code> to work with rank &gt; 2 tensors:</p>
<ul>
<li class=""><strong>Transpose</strong>: Swaps last two axes by default (batch transpose), or
specify explicit axes with <code>[&#x27;Transpose&#x27;, T, axis1, axis2]</code></li>
<li class=""><strong>ConjugateTranspose</strong>: Same axis behavior as Transpose, plus element-wise
complex conjugation</li>
<li class=""><strong>Trace (batch trace)</strong>: Returns a tensor of traces over the last two
axes. For a <code>[2,2,2]</code> tensor, returns <code>[trace of T[0], trace of T[1]]</code>.
Optional axis parameters: <code>[&#x27;Trace&#x27;, T, axis1, axis2]</code></li>
<li class="">All operations support explicit axis specification for flexible tensor
manipulation</li>
</ul>
</li>
<li class="">
<p><strong>Eigenvalues and Eigenvectors</strong>: Added functions for eigenvalue
decomposition:</p>
<ul>
<li class=""><code>Eigenvalues(matrix)</code>: Returns list of eigenvalues<!-- -->
<ul>
<li class="">2×2 matrices: symbolic computation via characteristic polynomial</li>
<li class="">3×3 matrices: Cardano&#x27;s formula for cubic roots</li>
<li class="">Larger matrices: numeric QR algorithm</li>
<li class="">Optimized for diagonal/triangular matrices</li>
</ul>
</li>
<li class=""><code>Eigenvectors(matrix)</code>: Returns list of corresponding eigenvectors<!-- -->
<ul>
<li class="">Uses null space computation via Gaussian elimination</li>
</ul>
</li>
<li class=""><code>Eigen(matrix)</code>: Returns tuple of (eigenvalues, eigenvectors)</li>
</ul>
</li>
<li class="">
<p><strong>Diagonal function</strong>: Now fully implemented with bidirectional behavior:</p>
<ul>
<li class="">Vector → Matrix: Creates a diagonal matrix from a vector
(<code>Diagonal([1,2,3])</code> → 3×3 diagonal matrix)</li>
<li class="">Matrix → Vector: Extracts the diagonal as a vector
(<code>Diagonal([[1,2],[3,4]])</code> → <code>[1,4]</code>)</li>
</ul>
</li>
<li class="">
<p><strong>Reshape cycling</strong>: Implements APL-style ravel cycling. When reshaping to a
larger shape, elements cycle from the beginning: <code>Reshape([1,2,3], (2,2))</code> →
<code>[[1,2],[3,1]]</code></p>
</li>
<li class="">
<p><strong>Scalar handling</strong>: Most linear algebra functions now handle scalar inputs:</p>
<ul>
<li class=""><code>Flatten(42)</code> → <code>[42]</code> (single-element list)</li>
<li class=""><code>Transpose(42)</code> → <code>42</code> (identity)</li>
<li class=""><code>Determinant(42)</code> → <code>42</code> (1×1 matrix determinant)</li>
<li class=""><code>Trace(42)</code> → <code>42</code> (1×1 matrix trace)</li>
<li class=""><code>Inverse(42)</code> → <code>1/42</code> (scalar reciprocal)</li>
<li class=""><code>ConjugateTranspose(42)</code> → <code>42</code> (conjugate of real is itself)</li>
<li class=""><code>Reshape(42, (2,2))</code> → <code>[[42,42],[42,42]]</code> (scalar replication)</li>
</ul>
</li>
<li class="">
<p><strong>Error messages</strong>: Operations requiring square matrices (<code>Determinant</code>,
<code>Trace</code>, <code>Inverse</code>) now return <code>expected-square-matrix</code> error for vectors
and tensors (rank &gt; 2).</p>
</li>
</ul>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance" translate="no">​</a></h3><ul>
<li class=""><strong>Pattern Matching Optimization</strong>: Significantly improved performance of
commutative pattern matching by adding early rejection guards:<!-- -->
<ul>
<li class=""><strong>Arity Guard</strong>: Patterns without sequence wildcards (<code>__</code>/<code>___</code>) now
immediately reject expressions with mismatched operand counts instead of
attempting factorial permutations</li>
<li class=""><strong>Anchor Fingerprint</strong>: Patterns with literal or symbolic anchors verify
anchor presence before attempting permutation matching, eliminating
impossible matches in O(n) time</li>
<li class=""><strong>Universal Anchoring</strong>: Extended the efficient anchor-based backtracking
algorithm to all patterns with anchors, not just those with sequence
wildcards</li>
<li class=""><strong>Hash Bucketing</strong>: For patterns with many anchors (4+) against large
expressions (6+ operands), uses hash-based indexing to reduce anchor lookup
from O(n×m) to O(n+m) average case</li>
<li class="">Example: Matching <code>a + b + c + 1</code> against <code>x + y + z</code> now rejects
immediately (arity mismatch: 4 vs 3) instead of trying 24 permutations</li>
</ul>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bug-fixes-1">Bug Fixes<a href="#bug-fixes-1" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes" translate="no">​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="arithmetic">Arithmetic<a href="#arithmetic" class="hash-link" aria-label="Direct link to Arithmetic" title="Direct link to Arithmetic" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Indeterminate Form Handling</strong>: Fixed incorrect results for mathematical
indeterminate forms:</p>
<ul>
<li class=""><code>0 * ∞</code> now correctly returns <code>NaN</code> (previously returned <code>∞</code>)</li>
<li class=""><code>∞ / ∞</code> now correctly returns <code>NaN</code> (previously returned <code>1</code>)</li>
<li class=""><code>∞^0</code> now correctly returns <code>NaN</code> (was already correct)</li>
<li class="">All combinations (<code>0 * (-∞)</code>, <code>(-∞) / ∞</code>, etc.) are handled correctly</li>
</ul>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/176" target="_blank" rel="noopener noreferrer" class="">#176</a>) Power
Combination Simplification</strong>: Fixed simplification failing to combine powers
with the same base when one factor has an implicit exponent or when there are
3+ operands. Previously, expressions like <code>2 * 2^x</code>, <code>e * e^x * e^{-x}</code>, and
<code>x^2 * x</code> would not simplify. Now correctly simplifies to <code>2^(x+1)</code>, <code>e</code>, and
<code>x^3</code> respectively. The fix includes:</p>
<ul>
<li class="">Extended power combination rules to support numeric literal bases</li>
<li class="">Added functional rule to handle n-ary Multiply expressions (3+ operands)</li>
<li class="">Adjusted simplification cost threshold from 1.2 to 1.3 to accept
mathematically valid simplifications where exponents become slightly more
complex (e.g., <code>2 * 2^x → 2^(x+1)</code>)</li>
</ul>
</li>
<li class="">
<p><strong>Symbolic Factorial</strong>: Fixed <code>(n-1)!</code> incorrectly evaluating to <code>NaN</code> instead
of staying symbolic. The factorial <code>evaluate</code> function was attempting numeric
computation on symbolic arguments. Now correctly returns <code>undefined</code> (keeping
the expression symbolic) when the argument is not a number literal.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="linear-algebra-2">Linear Algebra<a href="#linear-algebra-2" class="hash-link" aria-label="Direct link to Linear Algebra" title="Direct link to Linear Algebra" translate="no">​</a></h4><ul>
<li class=""><strong>Matrix Operations Type Validation</strong>: Fixed matrix operations (<code>Shape</code>,
<code>Rank</code>, <code>Flatten</code>, <code>Transpose</code>, <code>Determinant</code>, <code>Inverse</code>, <code>Trace</code>, etc.)
returning incorrect results or failing with type errors. The root cause was a
type mismatch: function signatures expected <code>matrix</code> type (a 2D list with
dimensions), but <code>BoxedTensor.type</code> returned <code>list&lt;number&gt;</code> without
dimensions. Now <code>BoxedTensor</code>, <code>BoxedFunction</code>, and <code>BoxedSymbol</code> correctly
derive <code>shape</code> and <code>rank</code> from their type&#x27;s dimensions. Additionally, linear
algebra functions now properly evaluate their operands before checking if they
are tensors.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="calculus-3">Calculus<a href="#calculus-3" class="hash-link" aria-label="Direct link to Calculus" title="Direct link to Calculus" translate="no">​</a></h4><ul>
<li class=""><strong>Numerical Integration</strong>: Fixed <code>\int_0^1 \sin(x) dx</code> returning <code>NaN</code> when
evaluated numerically with <code>.N()</code>. The integrand was already wrapped in a
<code>Function</code> expression by the canonical form, but the numerical evaluation code
was wrapping it again, creating a nested function that returned a function
instead of a number. Now correctly checks if the integrand is already a
<code>Function</code> before wrapping.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="latex-parsing-and-serialization">LaTeX Parsing and Serialization<a href="#latex-parsing-and-serialization" class="hash-link" aria-label="Direct link to LaTeX Parsing and Serialization" title="Direct link to LaTeX Parsing and Serialization" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Subscript Function Calls</strong>: Fixed parsing of function calls with subscripted
names like <code>f_\text{a}(5)</code>. Previously, this was incorrectly parsed as a
<code>Tuple</code> instead of a function call because <code>Subscript</code> expressions weren&#x27;t
being canonicalized before the function call check. Now correctly recognizes
that <code>f_a(5)</code> is a function call when the subscript canonicalizes to a symbol.</p>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/130" target="_blank" rel="noopener noreferrer" class="">#130</a>)
Prefix/Postfix Operator LaTeX Serialization</strong>: Fixed incorrect LaTeX output
for prefix operators (like <code>Negate</code>) and postfix operators (like <code>Factorial</code>)
when applied to expressions with lower precedence. Previously,
<code>Negate(Add(a, b))</code> incorrectly serialized as <code>-a+b</code> instead of <code>-(a+b)</code>,
causing round-trip failures where parsing the output produced a mathematically
different expression. Similarly, <code>Factorial(Add(a, b))</code> now correctly
serializes as <code>(a+b)!</code> instead of <code>a+b!</code>. The fix ensures operands are wrapped
in parentheses when their precedence is lower than the operator&#x27;s precedence.</p>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/156" target="_blank" rel="noopener noreferrer" class="">#156</a>) Logical
Operator Precedence</strong>: Fixed parsing of logical operators <code>\vee</code> (Or) and
<code>\wedge</code> (And) with relational operators. Previously, expressions like
<code>3=4\vee 7=8</code> were incorrectly parsed with the wrong precedence. Now correctly
parses as <code>[&quot;Or&quot;, [&quot;Equal&quot;, 3, 4], [&quot;Equal&quot;, 7, 8]]</code>. Logical operators have
lower precedence (230-235) than comparison operators (245) and set relations
(240), so compound propositions parse correctly without requiring parentheses.</p>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/156" target="_blank" rel="noopener noreferrer" class="">#156</a>) Logical
Connective Arrows</strong>: Added support for additional arrow notation in logical
expressions:</p>
<ul>
<li class=""><code>\rightarrow</code> now parses as <code>Implies</code> (previously parsed as <code>To</code> for
set/function mapping)</li>
<li class=""><code>\leftrightarrow</code> now parses as <code>Equivalent</code> (previously produced an
&quot;unexpected-command&quot; error)</li>
<li class="">Long arrow variants now supported: <code>\Longrightarrow</code>, <code>\longrightarrow</code> →
<code>Implies</code>; <code>\Longleftrightarrow</code>, <code>\longleftrightarrow</code> → <code>Equivalent</code></li>
<li class="">The existing variants <code>\Rightarrow</code>, <code>\Leftrightarrow</code>, <code>\implies</code>, <code>\iff</code>
continue to work</li>
<li class=""><code>\to</code> remains available for function/set mapping notation (e.g.,
<code>f: A \to B</code>)</li>
</ul>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="simplification-2">Simplification<a href="#simplification-2" class="hash-link" aria-label="Direct link to Simplification" title="Direct link to Simplification" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Rules Cache Isolation</strong>: Fixed rules cache building failing with &quot;Invalid
rule&quot; errors when user expressions had previously polluted the global scope.
For example, parsing <code>x(y+z)</code> would add <code>x</code> as a symbol with function type to
the global scope. Later, when the simplification rules cache was built, rule
parsing would fail because wildcards like <code>_x</code> in rules would be type-checked
against the polluted scope where <code>x</code> had incompatible type. The fix ensures
rule parsing uses a clean scope that inherits only from the system scope
(containing built-in definitions), not from user-polluted scopes.</p>
</li>
<li class="">
<p><strong>Simplification Rules</strong>: Added and fixed several simplification rules:</p>
<ul>
<li class=""><code>x + x</code> now correctly simplifies to <code>2x</code> (term combination)</li>
<li class=""><code>e^x * e^{-x}</code> now correctly simplifies to <code>1</code> (exponential inverse)</li>
<li class=""><code>sin(∞)</code> and <code>cos(∞)</code> now correctly evaluate to <code>NaN</code></li>
<li class=""><code>tanh(∞)</code> now correctly evaluates to <code>1</code>, <code>tanh(-∞)</code> to <code>-1</code></li>
<li class=""><code>log_b(x^n)</code> now correctly simplifies to <code>n * log_b(x)</code> (log power rule)</li>
<li class="">Improved cost function to prefer <code>n * ln(x)</code> form over <code>ln(x^n)</code></li>
<li class="">Trigonometric functions now reduce arguments by their period (e.g.,
<code>cos(5π + k)</code> simplifies using <code>cos(π + k) = -cos(k)</code>)</li>
</ul>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/178" target="_blank" rel="noopener noreferrer" class="">#178</a>)
Non-Canonical Expression Simplification</strong>: Fixed <code>.simplify()</code> not working on
expressions parsed with <code>{ canonical: false }</code>. Previously,
<code>ce.parse(&#x27;x+x&#x27;, { canonical: false }).simplify()</code> would return <code>x+x</code> instead
of <code>2x</code>. The bug was in the simplification loop detection: when canonicalizing
before simplification, the non-canonical form was recorded in the &quot;seen&quot; set,
and since <code>isSame()</code> considers non-canonical and canonical forms equivalent,
the canonical form was incorrectly detected as already processed. Now the
simplification correctly starts fresh when canonicalizing, allowing full
simplification to proceed.</p>
</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0320-2026-01-28">0.32.0 <em>2026-01-28</em><a href="#0320-2026-01-28" class="hash-link" aria-label="Direct link to 0320-2026-01-28" title="Direct link to 0320-2026-01-28" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bug-fixes-2">Bug Fixes<a href="#bug-fixes-2" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes" translate="no">​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="calculus-4">Calculus<a href="#calculus-4" class="hash-link" aria-label="Direct link to Calculus" title="Direct link to Calculus" translate="no">​</a></h4><ul>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/230" target="_blank" rel="noopener noreferrer" class="">#230</a>) Root
Derivatives</strong>: Fixed the <code>D</code> operator not differentiating expressions
containing the <code>Root</code> operator (n-th roots). Previously, <code>D(Root(x, 3), x)</code>
(derivative of ∛x) would return an unevaluated derivative expression instead
of computing the result. Now correctly returns <code>1/(3x^(2/3))</code>, equivalent to
the expected <code>(1/3)·x^(-2/3)</code>. The fix adds a special case in the
<code>differentiate</code> function to handle <code>Root(base, n)</code> by applying the power rule
with exponent <code>1/n</code>.</p>
</li>
<li class="">
<p><strong>Abs Derivative</strong>: Fixed <code>d/dx |x|</code> returning an error when evaluated with a
variable that has an assigned value. The derivative formula now uses <code>Sign(x)</code>
instead of a complex <code>Which</code> expression that couldn&#x27;t be evaluated
symbolically.</p>
</li>
<li class="">
<p><strong>Step Function Derivatives</strong>: Fixed <code>D(floor(x), x)</code>, <code>D(ceil(x), x)</code>, and
<code>D(round(x), x)</code> causing infinite recursion. These step functions now
correctly return 0 (the derivative is 0 almost everywhere). Also fixed a bug
where derivative formulas that evaluate to 0 weren&#x27;t recognized due to a falsy
check.</p>
</li>
<li class="">
<p><strong>Inverse Trig Integrals</strong>: Fixed incorrect integration formulas for <code>arcsin</code>,
<code>arccos</code>, and <code>arctan</code>. The previous formulas were completely wrong. Correct:</p>
<ul>
<li class=""><code>∫ arcsin(x) dx = x·arcsin(x) + √(1-x²)</code></li>
<li class=""><code>∫ arccos(x) dx = x·arccos(x) - √(1-x²)</code></li>
<li class=""><code>∫ arctan(x) dx = x·arctan(x) - (1/2)·ln(1+x²)</code></li>
</ul>
</li>
<li class="">
<p><strong>Erfc Derivative</strong>: Fixed incorrect derivative formula for <code>erfc(x)</code>. Now
correctly returns <code>-2/√π · e^(-x²)</code> (the negative of the <code>erf</code> derivative).</p>
</li>
<li class="">
<p><strong>LogGamma Derivative</strong>: Added derivative rule for <code>LogGamma(x)</code> which returns
<code>Digamma(x)</code> (the digamma/psi function).</p>
</li>
<li class="">
<p><strong>Special Function Derivatives</strong>: Fixed derivative formulas for several
special functions and removed incorrect ones:</p>
<ul>
<li class="">Fixed <code>d/dx erfi(x) = (2/√π)·e^(x²)</code> (imaginary error function)</li>
<li class="">Fixed <code>d/dx S(x) = sin(πx²/2)</code> (Fresnel sine integral)</li>
<li class="">Fixed <code>d/dx C(x) = cos(πx²/2)</code> (Fresnel cosine integral)</li>
<li class="">Removed incorrect derivative formulas for Zeta, Digamma, PolyGamma, Beta,
LambertW, Bessel functions, and Airy functions (these now return symbolic
derivatives like <code>Digamma&#x27;(x)</code> instead of wrong numeric results)</li>
</ul>
</li>
<li class="">
<p><strong>Symbolic Derivative Evaluation</strong>: Fixed derivatives of unknown functions
returning <code>0</code> instead of symbolic derivatives. For example, <code>D(Digamma(x), x)</code>
now correctly returns <code>Digamma&#x27;(x)</code> (as <code>Apply(Derivative(Digamma, 1), x)</code>)
instead of incorrectly returning <code>0</code>.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="latex-parsing-and-serialization-1">LaTeX Parsing and Serialization<a href="#latex-parsing-and-serialization-1" class="hash-link" aria-label="Direct link to LaTeX Parsing and Serialization" title="Direct link to LaTeX Parsing and Serialization" translate="no">​</a></h4><ul>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/256" target="_blank" rel="noopener noreferrer" class="">#256</a>) Subscript
Symbol Parsing</strong>: Fixed parsing of single-letter symbols with subscripts.
Previously, <code>i_A</code> was incorrectly parsed as
<code>[&quot;Subscript&quot;, [&quot;Complex&quot;, 0, 1], &quot;A&quot;]</code> because <code>i</code> was recognized as the
imaginary unit before the subscript was processed. Now <code>i_A</code> correctly parses
as the symbol <code>i_A</code>. This applies to all single-letter symbols including
constants like <code>e</code> and <code>i</code>. Complex subscripts containing operators (<code>n+1</code>),
commas (<code>n,m</code>), or parentheses (<code>(n+1)</code>) still produce <code>Subscript</code>
expressions.</p>
</li>
<li class="">
<p><strong>LaTeX Serialization</strong>: Fixed TypeScript error in power serialization where
<code>denom</code> (a <code>number | null</code>) was incorrectly passed where an <code>Expression</code> was
expected. Now correctly uses <code>operand(exp, 2)</code> to get the expression form.</p>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/168" target="_blank" rel="noopener noreferrer" class="">#168</a>) Absolute
Value</strong>: Fixed parsing of nested absolute value expressions that start with a
double bar (e.g. <code>||3-5|-4|</code>), which previously produced an invalid structure
instead of evaluating correctly.</p>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/244" target="_blank" rel="noopener noreferrer" class="">#244</a>)
Serialization</strong>: Fixed LaTeX and ASCIIMath serialization ambiguity for
negative bases and negated powers. Powers now render <code>(-2)^2</code> (instead of
<code>-2^2</code>) when the base is negative, and negated powers now render as <code>-(2^2)</code>
rather than <code>-2^2</code>.</p>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/243" target="_blank" rel="noopener noreferrer" class="">#243</a>) LaTeX
Parsing</strong>: Fixed logic operator precedence causing expressions like
<code>x = 1 \vee x = 2</code> to be parsed incorrectly as <code>x = (1 ∨ x) = 2</code> instead of
<code>(x = 1) ∨ (x = 2)</code>. Comparison operators (<code>=</code>, <code>&lt;</code>, <code>&gt;</code>, etc.) now correctly
bind tighter than logic operators (<code>\land</code>, <code>\lor</code>, <code>\veebar</code>, etc.).</p>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/264" target="_blank" rel="noopener noreferrer" class="">#264</a>)
Serialization</strong>: Fixed LaTeX serialization of quantified expressions
(<code>ForAll</code>, <code>Exists</code>, <code>ExistsUnique</code>, <code>NotForAll</code>, <code>NotExists</code>). Previously,
only the quantifier symbol was output (e.g., <code>\forall x</code> instead of
<code>\forall x, x&gt;y</code>). The body of the quantified expression is now correctly
serialized.</p>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/257" target="_blank" rel="noopener noreferrer" class="">#257</a>) LaTeX
Parsing</strong>: Fixed <code>\gcd</code> command not parsing function arguments correctly.
Previously <code>\gcd\left(24,37\right)</code> would parse as
<code>[&quot;Tuple&quot;, &quot;GCD&quot;, [&quot;Tuple&quot;, 24, 37]]</code> instead of the expected
<code>[&quot;GCD&quot;, 24, 37]</code>. The <code>\operatorname{gcd}</code> form was unaffected. Also added
support for <code>\lcm</code> as a LaTeX command (in addition to the existing
<code>\operatorname{lcm}</code>).</p>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/223" target="_blank" rel="noopener noreferrer" class="">#223</a>)
Serialization</strong>: Fixed scientific/engineering LaTeX serialization dropping the
leading coefficient for exact powers of ten. For example, <code>1000</code> now
serializes to <code>1\cdot10^{3}</code> (or <code>1\times10^{3}</code> depending on
<code>exponentProduct</code>) instead of <code>10^{3}</code>.</p>
</li>
<li class="">
<p><strong>LaTeX Parsing</strong>: Fixed <code>\cosh</code> incorrectly mapping to <code>Csch</code> instead of
<code>Cosh</code>.</p>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/255" target="_blank" rel="noopener noreferrer" class="">#255</a>) LaTeX
Parsing</strong>: Fixed multi-letter subscripts like <code>A_{CD}</code> causing
&quot;incompatible-type&quot; errors in arithmetic operations. Multi-letter subscripts
without parentheses are now interpreted as compound symbol names (e.g.,
<code>A_{CD}</code> → <code>A_CD</code>, <code>x_{ij}</code> → <code>x_ij</code>, <code>T_{max}</code> → <code>T_max</code>). Use parentheses
for expression subscripts: <code>A_{(CD)}</code> creates a <code>Subscript</code> expression where
<code>CD</code> represents implicit multiplication. The <code>Delimiter</code> wrapper is now
stripped from subscript expressions for cleaner output.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="first-order-logic">First-Order Logic<a href="#first-order-logic" class="hash-link" aria-label="Direct link to First-Order Logic" title="Direct link to First-Order Logic" translate="no">​</a></h4><ul>
<li class=""><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/263" target="_blank" rel="noopener noreferrer" class="">#263</a>) Quantifier
Scope</strong>: Fixed quantifier scope in First-Order Logic expressions. Previously,
<code>\forall x.P(x)\rightarrow Q(x)</code> was parsed with the implication inside the
quantifier scope: <code>[&quot;ForAll&quot;, &quot;x&quot;, [&quot;To&quot;, P(x), Q(x)]]</code>. Now it correctly
follows standard FOL conventions where the quantifier binds only the
immediately following formula: <code>[&quot;To&quot;, [&quot;ForAll&quot;, &quot;x&quot;, P(x)], Q(x)]</code>. This
applies to all quantifiers (<code>ForAll</code>, <code>Exists</code>, <code>ExistsUnique</code>, <code>NotForAll</code>,
<code>NotExists</code>) and all logical connectives (<code>\rightarrow</code>, <code>\to</code>, <code>\implies</code>,
<code>\land</code>, <code>\lor</code>, <code>\iff</code>). Use explicit parentheses for wider scope:
<code>\forall x.(P(x)\rightarrow Q(x))</code>. Also fixed quantifier type signatures to
properly return <code>boolean</code>, enabling correct type checking when quantified
expressions are used as arguments to logical operators.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="simplification-3">Simplification<a href="#simplification-3" class="hash-link" aria-label="Direct link to Simplification" title="Direct link to Simplification" translate="no">​</a></h4><ul>
<li class=""><strong>Sign Simplification</strong>: Fixed <code>Sign(x).simplify()</code> returning <code>1</code> instead of
<code>-1</code> when <code>x</code> is negative. The simplification rule incorrectly returned
<code>ce.One</code> for both positive and negative cases.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="type-system">Type System<a href="#type-system" class="hash-link" aria-label="Direct link to Type System" title="Direct link to Type System" translate="no">​</a></h4><ul>
<li class=""><strong>Ceil Type Signature</strong>: Fixed <code>Ceil</code> function signature from
<code>(real) -&gt; integer</code> to <code>(number) -&gt; integer</code> to match <code>Floor</code>. This resolves
&quot;incompatible-type&quot; errors when computing derivatives of ceiling expressions
or using <code>Ceil</code> in contexts expecting a general number type.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="polynomials">Polynomials<a href="#polynomials" class="hash-link" aria-label="Direct link to Polynomials" title="Direct link to Polynomials" translate="no">​</a></h4><ul>
<li class=""><strong>Polynomial Degree Detection</strong>: Fixed <code>polynomialDegree()</code> returning 0 for
expressions like <code>e^x</code> or <code>e^(-x^2)</code> when it should return -1 (not a
polynomial). When the base of a power is constant but the exponent depends on
the variable, this is not a polynomial. This bug caused infinite recursion in
simplification when simplifying expressions containing exponentials, such as
the derivative of <code>erf(x)</code> which is <code>(2/√π)·e^(-x²)</code>.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="pattern-matching">Pattern Matching<a href="#pattern-matching" class="hash-link" aria-label="Direct link to Pattern Matching" title="Direct link to Pattern Matching" translate="no">​</a></h4><ul>
<li class=""><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/258" target="_blank" rel="noopener noreferrer" class="">#258</a>) Pattern
Matching</strong>: Fixed <code>BoxedExpression.match()</code> returning <code>null</code> when matching
patterns against canonicalized expressions. Several cases are now handled:<!-- -->
<ul>
<li class=""><code>Rational</code> patterns now match expressions like <code>[&#x27;Rational&#x27;, &#x27;x&#x27;, 2]</code> which
are canonicalized to <code>[&#x27;Multiply&#x27;, [&#x27;Rational&#x27;, 1, 2], &#x27;x&#x27;]</code></li>
<li class=""><code>Power</code> patterns now match <code>[&#x27;Power&#x27;, &#x27;x&#x27;, -1]</code> which is canonicalized to
<code>[&#x27;Divide&#x27;, 1, &#x27;x&#x27;]</code>, returning <code>{_base: x, _exp: -1}</code></li>
<li class=""><code>Power</code> patterns now match <code>[&#x27;Root&#x27;, &#x27;x&#x27;, 3]</code> (cube root), returning
<code>{_base: x, _exp: [&#x27;Divide&#x27;, 1, 3]}</code></li>
</ul>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sum-and-product-1">Sum and Product<a href="#sum-and-product-1" class="hash-link" aria-label="Direct link to Sum and Product" title="Direct link to Sum and Product" translate="no">​</a></h4><ul>
<li class=""><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/252" target="_blank" rel="noopener noreferrer" class="">#252</a>)
Sum/Product</strong>: Fixed <code>Sum</code> and <code>Product</code> returning <code>NaN</code> when the body
contains free variables (variables not bound by the index). For example,
<code>\sum_{n=1}^{10}(x)</code> now correctly evaluates to <code>10x</code> instead of <code>NaN</code>, and
<code>\prod_{n=1}^{5}(x)</code> evaluates to <code>x^5</code>. Mixed expressions like
<code>\sum_{n=1}^{10}(n \cdot x)</code> now return <code>55x</code>. Also fixed <code>toString()</code> for
<code>Sum</code> and <code>Product</code> expressions with non-trivial bodies (e.g., <code>Multiply</code>)
which were incorrectly displayed as <code>int()</code>.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="equation-solving">Equation Solving<a href="#equation-solving" class="hash-link" aria-label="Direct link to Equation Solving" title="Direct link to Equation Solving" translate="no">​</a></h4><ul>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/242" target="_blank" rel="noopener noreferrer" class="">#242</a>) Solve</strong>:
Fixed <code>solve()</code> returning an empty array for equations with variables in
fractions. For example, <code>F = 3g/h</code> solved for <code>g</code> now correctly returns <code>Fh/3</code>
instead of an empty array. The solver now clears denominators before applying
solve rules, enabling it to handle expressions like <code>a + bx/c = 0</code>. Also added
support for solving equations where the variable is in the denominator (e.g.,
<code>a/x = b</code> now returns <code>x = a/b</code>).</p>
</li>
<li class="">
<p><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/220" target="_blank" rel="noopener noreferrer" class="">#220</a>) Solve</strong>:
Fixed <code>solve()</code> returning an empty array for equations involving square roots
of the unknown, e.g. <code>2x = \sqrt{5x}</code>. The solver now handles equations of the
form <code>ax + b√x + c = 0</code> using quadratic substitution. Also added support for
solving logarithmic equations like <code>a·ln(x) + b = 0</code> which returns
<code>x = e^(-b/a)</code>.</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-1">Improvements<a href="#improvements-1" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="first-order-logic-1">First-Order Logic<a href="#first-order-logic-1" class="hash-link" aria-label="Direct link to First-Order Logic" title="Direct link to First-Order Logic" translate="no">​</a></h4><ul>
<li class=""><strong>(<a href="https://github.com/cortex-js/compute-engine/issues/263" target="_blank" rel="noopener noreferrer" class="">#263</a>) First-Order
Logic</strong>: Added several improvements for working with First-Order Logic
expressions:<!-- -->
<ul>
<li class=""><strong>Configurable quantifier scope</strong>: New <code>quantifierScope</code> parsing option
controls how quantifier scope is determined. Use <code>&quot;tight&quot;</code> (default) for
standard FOL conventions where quantifiers bind only the immediately
following formula, or <code>&quot;loose&quot;</code> for scope extending to the end of the
expression.<!-- -->
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\forall x. P(x)&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> quantifierScope</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;tight&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// default</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\forall x. P(x)&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> quantifierScope</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;loose&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>Automatic predicate inference</strong>: Single uppercase letters followed by
parentheses (e.g., <code>P(x)</code>, <code>Q(a,b)</code>) are now automatically recognized as
predicate/function applications without requiring explicit declaration. This
enables natural FOL syntax like <code>\forall x. P(x) \rightarrow Q(x)</code> to work
out of the box.</li>
<li class=""><strong>Quantifier evaluation over finite domains</strong>: Quantifiers (<code>ForAll</code>,
<code>Exists</code>, <code>ExistsUnique</code>, <code>NotForAll</code>, <code>NotExists</code>) now evaluate to boolean
values when the bound variable is constrained to a finite set. For example:<!-- -->
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;ForAll&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Element&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Set&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Greater&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">0</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Returns True (all values in {1,2,3} are &gt; 0)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Exists&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Element&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Set&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Greater&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Returns True (3 &gt; 2)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;ExistsUnique&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Element&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Set&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Equal&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Returns True (only one element equals 2)</span><br></span></code></pre></div></div>
<!-- -->Supports <code>Set</code>, <code>List</code>, <code>Range</code>, and integer <code>Interval</code> domains up to 1000
elements. Nested quantifiers are evaluated over the Cartesian product of
their domains.</li>
<li class=""><strong>Symbolic simplification for quantifiers</strong>: Quantifiers now simplify
automatically in special cases:<!-- -->
<ul>
<li class=""><code>∀x. True</code> → <code>True</code>, <code>∀x. False</code> → <code>False</code></li>
<li class=""><code>∃x. True</code> → <code>True</code>, <code>∃x. False</code> → <code>False</code></li>
<li class=""><code>∀x. P</code> → <code>P</code> (when P doesn&#x27;t contain x)</li>
<li class=""><code>∃x. P</code> → <code>P</code> (when P doesn&#x27;t contain x)</li>
</ul>
</li>
<li class=""><strong>CNF/DNF conversion</strong>: New <code>ToCNF</code> and <code>ToDNF</code> functions convert boolean
expressions to Conjunctive Normal Form and Disjunctive Normal Form
respectively:<!-- -->
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;ToCNF&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Or&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;And&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;A&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;B&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;C&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Returns (A ∨ C) ∧ (B ∨ C)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;ToDNF&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;And&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Or&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;A&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;B&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;C&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Returns (A ∧ C) ∨ (B ∧ C)</span><br></span></code></pre></div></div>
<!-- -->Handles <code>And</code>, <code>Or</code>, <code>Not</code>, <code>Implies</code>, <code>Equivalent</code>, <code>Xor</code>, <code>Nand</code>, and
<code>Nor</code> operators using De Morgan&#x27;s laws and distribution.</li>
<li class=""><strong>Boolean operator evaluation</strong>: Added evaluation support for <code>Xor</code>, <code>Nand</code>,
and <code>Nor</code> operators with <code>True</code>/<code>False</code> arguments:<!-- -->
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Xor&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;True&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;False&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain">   </span><span class="token comment" style="color:var(--base-05)">// Returns True</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Nand&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;True&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;True&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain">   </span><span class="token comment" style="color:var(--base-05)">// Returns False</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Nor&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;False&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;False&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// Returns True</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>N-ary boolean operators</strong>: <code>Xor</code>, <code>Nand</code>, and <code>Nor</code> now support any number
of arguments:<!-- -->
<ul>
<li class=""><code>Xor(a, b, c, ...)</code> returns true when an odd number of arguments are true</li>
<li class=""><code>Nand(a, b, c, ...)</code> returns the negation of <code>And(a, b, c, ...)</code></li>
<li class=""><code>Nor(a, b, c, ...)</code> returns the negation of <code>Or(a, b, c, ...)</code></li>
</ul>
</li>
<li class=""><strong>Satisfiability checking</strong>: New <code>IsSatisfiable</code> function checks if a
boolean expression can be made true with some assignment of variables:<!-- -->
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;IsSatisfiable&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;And&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;A&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Not&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;A&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">// False</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;IsSatisfiable&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Or&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;A&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;B&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain">            </span><span class="token comment" style="color:var(--base-05)">// True</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>Tautology checking</strong>: New <code>IsTautology</code> function checks if a boolean
expression is true for all possible variable assignments:<!-- -->
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;IsTautology&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Or&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;A&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Not&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;A&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain">     </span><span class="token comment" style="color:var(--base-05)">// True</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;IsTautology&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;And&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;A&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;B&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain">             </span><span class="token comment" style="color:var(--base-05)">// False</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>Truth table generation</strong>: New <code>TruthTable</code> function generates a complete
truth table for a boolean expression:<!-- -->
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;TruthTable&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;And&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;A&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;B&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Returns [[&quot;A&quot;,&quot;B&quot;,&quot;Result&quot;],[&quot;False&quot;,&quot;False&quot;,&quot;False&quot;],...]</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>Explicit <code>Predicate</code> function</strong>: Added a new <code>Predicate</code> function to
explicitly represent predicate applications in First-Order Logic. Inside
quantifier scopes (<code>\forall</code>, <code>\exists</code>, etc.), single uppercase letters
followed by parentheses are now parsed as <code>[&quot;Predicate&quot;, &quot;P&quot;, &quot;x&quot;]</code> instead
of <code>[&quot;P&quot;, &quot;x&quot;]</code>. This distinguishes predicates from regular function
applications and avoids naming conflicts with library functions.<!-- -->
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\forall x. P(x)&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">json</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Returns [&quot;ForAll&quot;, &quot;x&quot;, [&quot;Predicate&quot;, &quot;P&quot;, &quot;x&quot;]]</span><br></span></code></pre></div></div>
<!-- -->Outside quantifier scopes, <code>P(x)</code> is still parsed as <code>[&quot;P&quot;, &quot;x&quot;]</code> to
maintain backward compatibility with function definitions like
<code>Q(x) := ...</code>.</li>
<li class=""><strong><code>D(f, x)</code> no longer maps to derivative</strong>: The LaTeX notation <code>D(f, x)</code> is
not standard mathematical notation for derivatives and previously caused
confusion with the <code>D</code> derivative function in MathJSON. Now <code>D(f, x)</code> in
LaTeX parses as <code>[&quot;Predicate&quot;, &quot;D&quot;, &quot;f&quot;, &quot;x&quot;]</code> instead of the derivative.
Use Leibniz notation (<code>\frac{d}{dx}f</code>) for derivatives in LaTeX, or
construct the derivative directly in MathJSON: <code>[&quot;D&quot;, expr, &quot;x&quot;]</code>.</li>
<li class=""><strong><code>N(x)</code> no longer maps to numeric evaluation</strong>: Similarly, <code>N(x)</code> in LaTeX
is CAS-specific notation, not standard math notation. Now <code>N(x)</code> parses as
<code>[&quot;Predicate&quot;, &quot;N&quot;, &quot;x&quot;]</code> instead of the numeric evaluation function. This
allows <code>N</code> to be used as a variable (e.g., &quot;for all N in Naturals&quot;). Use the
<code>.N()</code> method for numeric evaluation, or construct it directly in MathJSON:
<code>[&quot;N&quot;, expr]</code>.</li>
</ul>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="polynomials-1">Polynomials<a href="#polynomials-1" class="hash-link" aria-label="Direct link to Polynomials" title="Direct link to Polynomials" translate="no">​</a></h4><ul>
<li class=""><strong>Polynomial Simplification</strong>: The <code>simplify()</code> function now automatically
cancels common polynomial factors in univariate rational expressions. For
example, <code>(x² - 1)/(x - 1)</code> simplifies to <code>x + 1</code>, <code>(x³ - x)/(x² - 1)</code>
simplifies to <code>x</code>, and <code>(x + 1)/(x² + 3x + 2)</code> simplifies to <code>1/(x + 2)</code>.
Previously, this required explicitly calling the <code>Cancel</code> function with a
variable argument.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sum-and-product-2">Sum and Product<a href="#sum-and-product-2" class="hash-link" aria-label="Direct link to Sum and Product" title="Direct link to Sum and Product" translate="no">​</a></h4><ul>
<li class=""><strong>Sum/Product Simplification</strong>: Added simplification rules for <code>Sum</code> and
<code>Product</code> expressions with symbolic bounds:<!-- -->
<ul>
<li class="">Constant body: <code>\sum_{n=1}^{b}(x)</code> simplifies to <code>b * x</code></li>
<li class="">Triangular numbers (general bounds): <code>\sum_{n=a}^{b}(n)</code> simplifies to
<code>(b(b+1) - a(a-1))/2</code></li>
<li class="">Sum of squares: <code>\sum_{n=1}^{b}(n^2)</code> simplifies to <code>b(b+1)(2b+1)/6</code></li>
<li class="">Sum of cubes: <code>\sum_{n=1}^{b}(n^3)</code> simplifies to <code>[b(b+1)/2]^2</code></li>
<li class="">Geometric series: <code>\sum_{n=0}^{b}(r^n)</code> simplifies to <code>(1-r^(b+1))/(1-r)</code></li>
<li class="">Alternating unit series: <code>\sum_{n=0}^{b}((-1)^n)</code> simplifies to
<code>(1+(-1)^b)/2</code></li>
<li class="">Alternating linear series: <code>\sum_{n=0}^{b}((-1)^n * n)</code> simplifies to
<code>(-1)^b * floor((b+1)/2)</code></li>
<li class="">Arithmetic progression: <code>\sum_{n=0}^{b}(a + d*n)</code> simplifies to
<code>(b+1)(a + db/2)</code></li>
<li class="">Sum of binomial coefficients: <code>\sum_{k=0}^{n}C(n,k)</code> simplifies to <code>2^n</code></li>
<li class="">Alternating binomial sum: <code>\sum_{k=0}^{n}((-1)^k * C(n,k))</code> simplifies to
<code>0</code></li>
<li class="">Weighted binomial sum: <code>\sum_{k=0}^{n}(k * C(n,k))</code> simplifies to
<code>n * 2^(n-1)</code></li>
<li class="">Partial fractions (telescoping): <code>\sum_{k=1}^{n}(1/(k(k+1)))</code> simplifies to
<code>n/(n+1)</code></li>
<li class="">Partial fractions (telescoping): <code>\sum_{k=2}^{n}(1/(k(k-1)))</code> simplifies to
<code>(n-1)/n</code></li>
<li class="">Weighted squared binomial sum: <code>\sum_{k=0}^{n}(k^2 * C(n,k))</code> simplifies to
<code>n(n+1) * 2^(n-2)</code></li>
<li class="">Weighted cubed binomial sum: <code>\sum_{k=0}^{n}(k^3 * C(n,k))</code> simplifies to
<code>n²(n+3) * 2^(n-3)</code></li>
<li class="">Alternating weighted binomial sum: <code>\sum_{k=0}^{n}((-1)^k * k * C(n,k))</code>
simplifies to <code>0</code> (n ≥ 2)</li>
<li class="">Sum of binomial squares: <code>\sum_{k=0}^{n}(C(n,k)^2)</code> simplifies to <code>C(2n, n)</code></li>
<li class="">Sum of consecutive products: <code>\sum_{k=1}^{n}(k(k+1))</code> simplifies to
<code>n(n+1)(n+2)/3</code></li>
<li class="">Arithmetic progression (general bounds): <code>\sum_{n=m}^{b}(a + d*n)</code>
simplifies to <code>(b-m+1)(a + d(m+b)/2)</code></li>
<li class="">Product of constant: <code>\prod_{n=1}^{b}(x)</code> simplifies to <code>x^b</code></li>
<li class="">Factorial: <code>\prod_{n=1}^{b}(n)</code> simplifies to <code>b!</code></li>
<li class="">Shifted factorial: <code>\prod_{n=1}^{b}(n+c)</code> simplifies to <code>(b+c)!/c!</code></li>
<li class="">Odd double factorial: <code>\prod_{n=1}^{b}(2n-1)</code> simplifies to <code>(2b-1)!!</code></li>
<li class="">Even double factorial: <code>\prod_{n=1}^{b}(2n)</code> simplifies to <code>2^b * b!</code></li>
<li class="">Rising factorial (Pochhammer): <code>\prod_{k=0}^{n-1}(x+k)</code> simplifies to
<code>(x)_n</code></li>
<li class="">Falling factorial: <code>\prod_{k=0}^{n-1}(x-k)</code> simplifies to <code>x!/(x-n)!</code></li>
<li class="">Telescoping product: <code>\prod_{k=1}^{n}((k+1)/k)</code> simplifies to <code>n+1</code></li>
<li class="">Wallis-like product: <code>\prod_{k=2}^{n}(1 - 1/k^2)</code> simplifies to <code>(n+1)/(2n)</code></li>
<li class="">Factor out constants: <code>\sum_{n=1}^{b}(c \cdot f(n))</code> simplifies to
<code>c \cdot \sum_{n=1}^{b}(f(n))</code>, and similarly for products where the
constant is raised to the power of the iteration count</li>
<li class="">Nested sums/products: inner sums/products are simplified first, enabling
cascading simplification</li>
<li class="">Edge cases: empty ranges (upper &lt; lower) return identity elements (0 for
Sum, 1 for Product), and single-iteration ranges substitute the bound value</li>
</ul>
</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0310-2026-01-27">0.31.0 <em>2026-01-27</em><a href="#0310-2026-01-27" class="hash-link" aria-label="Direct link to 0310-2026-01-27" title="Direct link to 0310-2026-01-27" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes">Breaking Changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">The <code>[Length]</code> function has been renamed to <code>[Count]</code>.</li>
<li class="">The <code>xsize</code> property of collections has been renamed to <code>count</code>.</li>
<li class="">The <code>xcontains()</code> method of collections has been renamed to <code>contains()</code>.</li>
<li class="">Handling of dictionaries (<code>[&quot;Dictionary&quot;]</code> expressions and <code>\{dict:...\}</code>
shorthand) has been improved.</li>
<li class=""><strong>Inverse hyperbolic functions</strong> have been renamed to follow the ISO 80000-2
standard: <code>Arcsinh</code> → <code>Arsinh</code>, <code>Arccosh</code> → <code>Arcosh</code>, <code>Arctanh</code> → <code>Artanh</code>,
<code>Arccoth</code> → <code>Arcoth</code>, <code>Arcsech</code> → <code>Arsech</code>, <code>Arccsch</code> → <code>Arcsch</code>. The &quot;ar&quot;
prefix (for &quot;area&quot;) is mathematically correct since these functions relate to
areas on a hyperbola, not arc lengths. Both LaTeX spellings (<code>\arsinh</code> and
<code>\arcsinh</code>) are accepted as input (Postel&#x27;s law).</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bug-fixes-3">Bug Fixes<a href="#bug-fixes-3" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes" translate="no">​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="latex-parsing-1">LaTeX Parsing<a href="#latex-parsing-1" class="hash-link" aria-label="Direct link to LaTeX Parsing" title="Direct link to LaTeX Parsing" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Metadata Preservation</strong>: Fixed <code>verbatimLatex</code> not being preserved when
parsing with <code>preserveLatex: true</code>. The original LaTeX source is now correctly
stored on parsed expressions (when using non-canonical mode). Also fixed
metadata (<code>latex</code>, <code>wikidata</code>) being lost when boxing MathJSON objects that
contain these attributes.</p>
</li>
<li class="">
<p><strong>String Parsing</strong>: Fixed parsing of <code>\text{...}</code> with <code>preserveLatex: true</code>
which was incorrectly returning an &quot;invalid-symbol&quot; error instead of a string
expression.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="calculus-5">Calculus<a href="#calculus-5" class="hash-link" aria-label="Direct link to Calculus" title="Direct link to Calculus" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Derivatives</strong>: <code>d/dx e^x</code> now correctly simplifies to <code>e^x</code> instead of
<code>ln(e) * e^x</code>. The <code>hasSymbolicTranscendental()</code> function now recognizes that
transcendentals which simplify to exact rational values (like <code>ln(e) = 1</code>)
should not be preserved symbolically.</p>
</li>
<li class="">
<p><strong>Derivatives</strong>: <code>d/dx log(x)</code> now returns <code>1 / (x * ln(10))</code> symbolically
instead of evaluating to <code>0.434... / x</code>. Fixed by using substitution instead
of function application when applying derivative formulas, which preserves
symbolic transcendental constants.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="arithmetic-1">Arithmetic<a href="#arithmetic-1" class="hash-link" aria-label="Direct link to Arithmetic" title="Direct link to Arithmetic" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Rationals</strong>: Fixed <code>reducedRational()</code> to properly normalize negative
denominators before the early return check. Previously <code>1/-2</code> would not
canonicalize to <code>-1/2</code>.</p>
</li>
<li class="">
<p><strong>Arithmetic</strong>: Fixed <code>.mul()</code> to preserve logarithms symbolically. Previously
multiplying expressions containing <code>Ln</code> or <code>Log</code> would evaluate the logarithm
to its numeric value.</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="serialization">Serialization<a href="#serialization" class="hash-link" aria-label="Direct link to Serialization" title="Direct link to Serialization" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Serialization</strong>: Fixed case inconsistency in <code>toString()</code> output for
trigonometric functions. Some functions like <code>Cot</code> were being serialized with
capital letters while others like <code>csc</code> were lowercase. All trig functions now
consistently serialize in lowercase (e.g., <code>cot(x)</code> instead of <code>Cot(x)</code>).</p>
</li>
<li class="">
<p><strong>Serialization</strong>: Improved display of inverse trig derivatives and similar
expressions:</p>
<ul>
<li class="">Negative exponents like <code>x^(-1/2)</code> now display as <code>1/sqrt(x)</code> in both LaTeX
and ASCII-math output</li>
<li class="">When a sum starts with a negative term and contains a positive constant, the
constant is moved to the front (e.g., <code>-x^2 + 1</code> displays as <code>1 - x^2</code>)
while preserving polynomial ordering (e.g., <code>x^2 - x + 3</code> stays unchanged)</li>
<li class=""><code>d/dx arcsin(x)</code> now displays as <code>1/sqrt(1-x^2)</code> instead of
<code>(-x^2+1)^(-1/2)</code></li>
</ul>
</li>
<li class="">
<p><strong>Scientific Notation</strong>: Fixed normalization of scientific notation for
fractional values (e.g., numbers less than 1).</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sum-and-product-3">Sum and Product<a href="#sum-and-product-3" class="hash-link" aria-label="Direct link to Sum and Product" title="Direct link to Sum and Product" translate="no">​</a></h4><ul>
<li class="">
<p><strong>Compilation</strong>: Fixed compilation of <code>Sum</code> and <code>Product</code> expressions.</p>
</li>
<li class="">
<p><strong>Sum/Product</strong>: Fixed <code>sum</code> and <code>prod</code> library functions to correctly handle
substitution of index variables.</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-and-improvements">New Features and Improvements<a href="#new-features-and-improvements" class="hash-link" aria-label="Direct link to New Features and Improvements" title="Direct link to New Features and Improvements" translate="no">​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="serialization-1">Serialization<a href="#serialization-1" class="hash-link" aria-label="Direct link to Serialization" title="Direct link to Serialization" translate="no">​</a></h4><ul>
<li class=""><strong>Number Serialization</strong>: Added <code>adaptiveScientific</code> notation mode. When
serializing numbers to LaTeX, this mode uses scientific notation but avoids
exponents within a configurable range (controlled by <code>avoidExponentsInRange</code>).
This provides a balance between readability and precision for numbers across
different orders of magnitude.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="type-system-1">Type System<a href="#type-system-1" class="hash-link" aria-label="Direct link to Type System" title="Direct link to Type System" translate="no">​</a></h4><ul>
<li class="">Refactored the type parser to use a modular architecture. This allows for
better extensibility and maintainability of the type system.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="pattern-matching-1">Pattern Matching<a href="#pattern-matching-1" class="hash-link" aria-label="Direct link to Pattern Matching" title="Direct link to Pattern Matching" translate="no">​</a></h4><ul>
<li class=""><strong>Pattern Matching</strong>: The <code>validatePattern()</code> function is now exported from
the public API. Use it to check patterns for invalid combinations like
consecutive sequence wildcards before using them.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="polynomials-2">Polynomials<a href="#polynomials-2" class="hash-link" aria-label="Direct link to Polynomials" title="Direct link to Polynomials" translate="no">​</a></h4><ul>
<li class=""><strong>Polynomial Arithmetic</strong>: Added new library functions for polynomial
operations:<!-- -->
<ul>
<li class=""><code>PolynomialDegree(expr, var)</code> - Get the degree of a polynomial</li>
<li class=""><code>CoefficientList(expr, var)</code> - Get the list of coefficients</li>
<li class=""><code>PolynomialQuotient(dividend, divisor, var)</code> - Polynomial division quotient</li>
<li class=""><code>PolynomialRemainder(dividend, divisor, var)</code> - Polynomial division
remainder</li>
<li class=""><code>PolynomialGCD(a, b, var)</code> - Greatest common divisor of polynomials</li>
<li class=""><code>Cancel(expr, var)</code> - Cancel common factors in rational expressions</li>
</ul>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="calculus-6">Calculus<a href="#calculus-6" class="hash-link" aria-label="Direct link to Calculus" title="Direct link to Calculus" translate="no">​</a></h4><ul>
<li class=""><strong>Integration</strong>: Significantly expanded symbolic integration capabilities:<!-- -->
<ul>
<li class=""><strong>Polynomial division</strong>: Integrals like <code>∫ x²/(x²+1) dx</code> now correctly
divide first, yielding <code>x - arctan(x)</code></li>
<li class=""><strong>Repeated linear roots</strong>: <code>∫ 1/(x-1)² dx = -1/(x-1)</code> and higher powers</li>
<li class=""><strong>Derivative pattern recognition</strong>: <code>∫ f&#x27;(x)/f(x) dx = ln|f(x)|</code> is now
recognized automatically</li>
<li class=""><strong>Completing the square</strong>: Irreducible quadratics like <code>∫ 1/(x²+2x+2) dx</code>
now yield <code>arctan(x+1)</code></li>
<li class=""><strong>Reduction formulas</strong>: <code>∫ 1/(x²+1)² dx</code> now works using reduction formulas</li>
<li class=""><strong>Mixed partial fractions</strong>: <code>∫ 1/((x-1)(x²+1)) dx</code> now decomposes correctly</li>
<li class=""><strong>Factor cancellation</strong>: <code>∫ (x+1)/(x²+3x+2) dx</code> simplifies before
integrating</li>
<li class=""><strong>Inverse hyperbolic</strong>: Added <code>∫ 1/√(x²+1) dx = arcsinh(x)</code> and
<code>∫ 1/√(x²-1) dx = arccosh(x)</code></li>
<li class=""><strong>Arcsec pattern</strong>: Added <code>∫ 1/(x·√(x²-1)) dx = arcsec(x)</code></li>
<li class=""><strong>Trigonometric substitution</strong>: Added support for <code>∫√(a²-x²) dx</code>,
<code>∫√(x²+a²) dx</code>, and <code>∫√(x²-a²) dx</code> using trig/hyperbolic substitution</li>
</ul>
</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0302-2025-07-15">0.30.2 <em>2025-07-15</em><a href="#0302-2025-07-15" class="hash-link" aria-label="Direct link to 0302-2025-07-15" title="Direct link to 0302-2025-07-15" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-1">Breaking Changes<a href="#breaking-changes-1" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">
<p>The <code>expr.value</code> property reflects the value of the expression if it is a
number literal or a symbol with a literal value. If you previously used the
<code>expr.value</code> property to get the value of an expression, you should now use
the <code>expr.N().valueOf()</code> method instead. The <code>valueOf()</code> method is suitable
for interoperability with JavaScript, but it may result in a loss of precision
for numbers with more than 15 digits.</p>
</li>
<li class="">
<p><code>BoxedExpr.sgn</code> now returns <em>undefined</em> for complex numbers, or symbols with a
complex-number value.</p>
</li>
<li class="">
<p>The <code>ce.assign()</code> method previously accepted
<code>ce.assign(&quot;f(x, y)&quot;, ce.parse(&quot;x+y&quot;))</code>. This is now deprecated. Use
<code>ce.assign(&quot;f&quot;, ce.parse(&quot;(x, y) \\mapsto x+y&quot;)</code> instead.</p>
</li>
<li class="">
<p>It was previously possible to invoke <code>expr.evaluate()</code> or <code>expr.N()</code> on a
non-canonical expression. This will now return the expression itself.</p>
<p>To evaluate a non-canonical expression, use <code>expr.canonical.evaluate()</code> or
<code>expr.canonical.N()</code>.</p>
<p>That&#x27;s also the case for the methods <code>numeratorDenominator()</code>, <code>numerator()</code>,
and <code>denominator()</code>.</p>
<p>In addition, invoking the methods <code>inv()</code>, <code>abs()</code>, <code>add()</code>, <code>mul()</code>, <code>div()</code>,
<code>pow()</code>, <code>root()</code>, <code>ln()</code> will throw an error if the expression is not
canonical.</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-and-improvements-1">New Features and Improvements<a href="#new-features-and-improvements-1" class="hash-link" aria-label="Direct link to New Features and Improvements" title="Direct link to New Features and Improvements" translate="no">​</a></h3><ul>
<li class="">
<p>Collections now support lazy materialization. This means that the elements of
some collection are not computed until they are needed. This can significantly
improve performance when working with large collections, and allow working
with infinite collections. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Map&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;Integers&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;Square&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [0, 1, 4, 9, 16, ...]</span><br></span></code></pre></div></div>
<p>Materialization can be controlled with the <code>materialization</code> option of the
<code>evaluate()</code> method. Lazy collections are materialized by default when
converted to a string or LaTeX, or when assigned to a variable.</p>
</li>
<li class="">
<p>The bindings of symbols and function expressions is now consistently done
during canonicalization.</p>
</li>
<li class="">
<p>It was previously not possible to change the type of an identifier from a
function to a value or vice versa. This is now possible.</p>
</li>
<li class="">
<p><strong>Antiderivatives</strong> are now computed symbolically:</p>
</li>
</ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token template-string template-punctuation string" style="color:var(--base-0b)">`</span><span class="token template-string string" style="color:var(--base-0b)">\\int_0^1 \\sin(\\pi x) dx</span><span class="token template-string template-punctuation string" style="color:var(--base-0b)">`</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 2 / pi</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token template-string template-punctuation string" style="color:var(--base-0b)">`</span><span class="token template-string string" style="color:var(--base-0b)">\\int \\sin(\\pi x) dx</span><span class="token template-string template-punctuation string" style="color:var(--base-0b)">`</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; -cos(pi * x) / pi</span><br></span></code></pre></div></div><p>Requesting a numeric approximation of the integral will use a Monte Carlo
method:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token template-string template-punctuation string" style="color:var(--base-0b)">`</span><span class="token template-string string" style="color:var(--base-0b)">\\int_0^1 \\sin(\\pi x) dx</span><span class="token template-string template-punctuation string" style="color:var(--base-0b)">`</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token constant" style="color:var(--base-09)">N</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 0.6366</span><br></span></code></pre></div></div><ul>
<li class="">
<p>Numeric approximations of integrals is several order of magnitude faster.</p>
</li>
<li class="">
<p>Added <strong>Number Theory</strong> functions: <code>Totient</code>, <code>Sigma0</code>, <code>Sigma1</code>,
<code>SigmaMinus1</code>, <code>IsPerfect</code>, <code>Eulerian</code>, <code>Stirling</code>, <code>NPartition</code>,
<code>IsTriangular</code>, <code>IsSquare</code>, <code>IsOctahedral</code>, <code>IsCenteredSquare</code>, <code>IsHappy</code>,
<code>IsAbundant</code>.</p>
</li>
<li class="">
<p>Added <strong>Combinatorics</strong> functions: <code>Choose</code>, <code>Fibonacci</code>, <code>Binomial</code>,
<code>CartesianProduct</code>, <code>PowerSet</code>, <code>Permutations</code>, <code>Combinations</code>, <code>Multinomial</code>,
<code>Subfactorial</code> and <code>BellNumber</code>.</p>
</li>
<li class="">
<p>The <code>symbol</code> type can be refined to match a specific symbol. For example
<code>symbol&lt;True&gt;</code>. The type <code>expression</code> can be refined to match expressions with
a specific operator, for example <code>expression&lt;Add&gt;</code> is a type that matches
expressions with the <code>Add</code> operator. The numeric types can be refined with a
lower and upper bound. For example <code>integer&lt;0..10&gt;</code> is a type that matches
integers between 0 and 10. The type <code>real&lt;1..&gt;</code> matches real numbers greater
than 1 and <code>rational&lt;..0&gt;</code> matches non-positive rational numbers.</p>
</li>
<li class="">
<p>Numeric types can now be constrained with a lower and upper bound. For
example, <code>real&lt;0..10&gt;</code> is a type that matches real numbers between 0 and 10.
The type <code>integer&lt;1..&gt;</code> matches integers greater than or equal to 1.</p>
</li>
<li class="">
<p>Collections that can be indexed (<code>list</code>, <code>tuple</code>) are now a subtype of
<code>indexed_collection</code>.</p>
</li>
<li class="">
<p>The <code>map</code> type has been replaced with <code>dictionary</code> for collections of
arbitrary key-value pairs and <code>record</code> for collections of structured key-value
pairs.</p>
</li>
<li class="">
<p>Support for structural typing has been added. To define a structural type, use
<code>ce.declareType()</code> with the <code>alias</code> flag, for example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declareType</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token string" style="color:var(--base-0b)">&quot;point&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;tuple&lt;x: integer, y: integer&gt;&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:var(--base-0c)">alias</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token boolean" style="color:var(--base-09)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Recursive types are now supported by using the <code>type</code> keyword to forward
reference types. For example, to define a type for a binary tree:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declareType</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token string" style="color:var(--base-0b)">&quot;binary_tree&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token string" style="color:var(--base-0b)">&quot;tuple&lt;value: integer, left: type binary_tree?, right: type binary_tree?&gt;&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>The syntax for variadic arguments has changeed. To indicate a variadic
argument, use a <code>+</code> or <code>*</code> after the type, for example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declare</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;f&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;(number+) -&gt; number&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p>Use <code>+</code> for a non-empty list of arguments and <code>*</code> for a possibly empty list.</p>
</li>
<li class="">
<p>Added a rule to solve the equation <code>a^x + b = 0</code></p>
</li>
<li class="">
<p>The LaTeX parser now supports the <code>\placeholder[]{}</code>, <code>\phantom{}</code>,
<code>\hphantom{}</code>, <code>\vphantom{}</code>, <code>\mathstrut</code>, <code>\strut</code> and <code>\smash{}</code> commands.</p>
</li>
<li class="">
<p>The range of recognized sign values, i.e. as returned from
<code>BoxedExpression.sgn</code> has been simplified (e.g. &#x27;...-infinity&#x27; and &#x27;nan&#x27; have
been removed)</p>
</li>
<li class="">
<p>The Power canonical-form is less aggressive - only carrying-out ops. as listed
in doc. - is much more careful in its consideration of operand types &amp;
values... (for example, typically, exponents are required to be <em>numbers</em>:
e.g. <code>x^1</code> will simplify, but <code>x^y</code> (where <code>y===0</code>), or <code>x^{1+0}</code>, will not)</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved">Issues Resolved<a href="#issues-resolved" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">
<p>Ensure expression LaTeX serialization is based on MathJSON generated with
matching &quot;pretty&quot; formatting (or not), therefore resulting in LaTeX with less
prettification, where <code>prettify === false</code> (#daef87f)</p>
</li>
<li class="">
<p>Symbols declare with a <code>constant</code> flag are now not marked as &quot;inferred&quot;</p>
</li>
<li class="">
<p>Some <code>BoxedSymbols</code> properties now more consistently return <code>undefined</code>,
instead of a <code>boolean</code> (i.e. because the symbol is non-bound)</p>
</li>
<li class="">
<p>Some <code>expr.root()</code> computations</p>
</li>
<li class="">
<p>Canonical-forms</p>
<ul>
<li class="">Fixes the <code>Number</code> form</li>
<li class="">Forms (at least, <code>Number</code>, <code>Power</code>) do not mistakenly <em>fully</em> canonicalize
operands</li>
<li class="">This (partial canonicalization) now substitutes symbols (constants) with a
<code>holdUntil</code> value of <code>&quot;never&quot;</code> during/prior-to canonicalization (i.e. just
like for full canonicalization)</li>
</ul>
</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0291-2025-03-31">0.29.1 <em>2025-03-31</em><a href="#0291-2025-03-31" class="hash-link" aria-label="Direct link to 0291-2025-03-31" title="Direct link to 0291-2025-03-31" translate="no">​</a></h2><ul>
<li class=""><strong>#231</strong> During evaluation, some numbers, for example <code>10e-15</code> were
incorrectly rounded to 0.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0280-2025-02-06">0.28.0 <em>2025-02-06</em><a href="#0280-2025-02-06" class="hash-link" aria-label="Direct link to 0280-2025-02-06" title="Direct link to 0280-2025-02-06" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-1">Issues Resolved<a href="#issues-resolved-1" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">
<p><strong>#211</strong> More consistent canonicalization and serialization of exact numeric
values of the form <code>(a√b)/c</code>.</p>
</li>
<li class="">
<p><strong>#219</strong> The <code>invisibleOperator</code> canonicalization previously also
canonicalized some multiplication.</p>
</li>
<li class="">
<p><strong>#218</strong> Improved performance of parsing invisible operators, including fixing
some cases where the parsing was incorrect.</p>
</li>
<li class="">
<p><strong>#216</strong> Correctly parse subscripts with a single character, for example
<code>x_1</code>.</p>
</li>
<li class="">
<p><strong>#216</strong> Parse some non-standard integral signs, for example
<code>\int x \cdot \differentialD x</code> (both the <code>\cdot</code> and the <code>\differentialD</code> are
non-standard).</p>
</li>
<li class="">
<p><strong>#210</strong> Numeric approximation of odd nth roots of negative numbers evaluate
correctly.</p>
</li>
<li class="">
<p><strong>#153</strong> Correctly parse integrals with <code>\limits</code>, e.g.
<code>\int\limits_0^1 x^2 \mathrm{d} x</code>.</p>
</li>
<li class="">
<p>Correctly serialize to ASCIIMath <code>Delimiter</code> expressions.</p>
</li>
<li class="">
<p>When inferring the type of numeric values do not constrain them to be <code>real</code>.
As a result:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">assign</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;a&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;i&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;a+1&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p>now returns <code>1 + i</code> instead of throwing a type error.</p>
</li>
<li class="">
<p>Correctly parse and evaluate unary and binary <code>\pm</code> and <code>\mp</code> operators.</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-and-improvements-2">New Features and Improvements<a href="#new-features-and-improvements-2" class="hash-link" aria-label="Direct link to New Features and Improvements" title="Direct link to New Features and Improvements" translate="no">​</a></h3><ul>
<li class="">
<p><code>expr.isEqual()</code> will now return true/false if the expressions include the
same unknowns and are structurally equal after expansion and simplifications.
For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;(x+1)^2&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">isEqual</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;x^2+2x+1&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; true</span><br></span></code></pre></div></div>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="asynchronous-operations">Asynchronous Operations<a href="#asynchronous-operations" class="hash-link" aria-label="Direct link to Asynchronous Operations" title="Direct link to Asynchronous Operations" translate="no">​</a></h4><p>Some computations can be time-consuming, for example, computing a very large
factorial. To prevent the browser from freezing, the Compute Engine can now
perform some operations asynchronously.</p><p>To perform an asynchronous operation, use the <code>expr.evaluateAsync</code> method. For
example:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> fact </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;(70!)!&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> factResult </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">await</span><span class="token plain"> fact</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluateAsync</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  factResult</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">error</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><br></span></code></pre></div></div><p>It is also possible to interrupt an operation, for example by providing a
pause/cancel button that the user can press. To do so, use an <code>AbortController</code>
object and a <code>signal</code>. For example:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> abort </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">new</span><span class="token plain"> </span><span class="token class-name" style="color:var(--base-0a)">AbortController</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> signal </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> abort</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">signal</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token function" style="color:var(--base-0a)">setTimeout</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> abort</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">abort</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">500</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> fact </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;(70!)!&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> factResult </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">await</span><span class="token plain"> fact</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluateAsync</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> signal </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  factResult</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">error</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><br></span></code></pre></div></div><p>In the example above, we trigger an abort after 500ms.</p><p>It is also possible to control how long an operation can run by setting the
<code>ce.timeLimit</code> property with a value in milliseconds. For example:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">timeLimit </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1000</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> fact </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;(70!)!&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  fact</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">error</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><br></span></code></pre></div></div><p>The time limit applies to either the synchronous or asynchronous evaluation.</p><p>The default time limit is 2,000ms (2 seconds).</p><p>When an operation is canceled either because of a timeout or an abort, a
<code>CancellationError</code> is thrown.</p><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0270-2024-12-02">0.27.0 <em>2024-12-02</em><a href="#0270-2024-12-02" class="hash-link" aria-label="Direct link to 0270-2024-12-02" title="Direct link to 0270-2024-12-02" translate="no">​</a></h2><ul>
<li class="">
<p><strong>#217</strong> Correctly parse LaTeX expressions that include a command followed by
a <code>*</code> such as <code>\\pi*2</code>.</p>
</li>
<li class="">
<p><strong>#217</strong> Correctly calculate the angle of trigonometric expressions with an
expression containing a reference to <code>Pi</code>, for example <code>\\sin(\\pi^2)</code>.</p>
</li>
<li class="">
<p>The <code>Factorial</code> function will now time out if the argument is too large. The
timeout is signaled by throwing a <code>CancellationError</code>.</p>
</li>
<li class="">
<p>When specifying <code>exp.toMathJSON({shorthands:[]})</code>, i.e., not to use shorthands
in the MathJSON, actually avoid using shorthands.</p>
</li>
<li class="">
<p>Correctly use custom multiply, plus, etc. for LaTeX serialization.</p>
</li>
<li class="">
<p>When comparing two numeric values, the tolerance is now used to determine if
the values are equal. The tolerance can be set with the <code>ce.tolerance</code>
property.</p>
</li>
<li class="">
<p>When comparing two expressions with <code>isEqual()</code> the values are compared
structurally when necessary, or with a stochastic test when the expressions
are too complex to compare structurally.</p>
</li>
<li class="">
<p>Correctly serialize nested superscripts, e.g. <code>x^{y^z}</code>.</p>
</li>
<li class="">
<p>The result of evaluating a <code>Hold</code> expression is now the expression itself.</p>
</li>
<li class="">
<p>To prevent evaluation of an expression temporarily, use the <code>Unevaluated</code>
function. The result of evaluating an <code>Unevaluated</code> expression is its
argument.</p>
</li>
<li class="">
<p>The type of a <code>Hold</code> expression was incorrectly returned as <code>string</code>. It now
returns the type of its argument.</p>
</li>
<li class="">
<p>The statistics function (<code>Mean</code>, <code>Median</code>, <code>Variance</code>, <code>StandardDeviation</code>,
<code>Kurtosis</code>, <code>Skewness</code>, <code>Mode</code>, <code>Quartiles</code> and <code>InterQuartileRange</code>) now
accept as argument either a collection or a sequence of values.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;\\mathrm{Mean}([7, 2, 11])&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 20/3</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;\\mathrm{Mean}(7, 2, 11)&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 20/3</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>The <code>Variance</code> and <code>StandardDeviation</code> functions now have variants for
population statistics, <code>PopulationVariance</code> and <code>PopulationStandardDeviation</code>.
The default is to use sample statistics.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;\\mathrm{PopulationVariance}([7, 2, 11])&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 13.555</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;\\mathrm{Variance}([7, 2, 11])&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 20.333</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>The statistics function can now be compiled to JavaScript:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> code </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;\\mathrm{Mean}(7, 2, 11)&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">compile</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token function" style="color:var(--base-0a)">code</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 13.555</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>The statistics function calculate either using machine numbers or bignums
depending on the precision. The precision can be set with the <code>precision</code>
property of the Compute Engine.</p>
</li>
<li class="">
<p>The argument of compiled function is now optional.</p>
</li>
<li class="">
<p>Compiled expressions can now reference external JavaScript functions. For
example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">defineFunction</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;Foo&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">signature</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;number -&gt; number&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token function-variable function" style="color:var(--base-0a)">evaluate</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter punctuation" style="color:var(--base-06)">[</span><span class="token parameter">x</span><span class="token parameter punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Add&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> fn </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Foo&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">compile</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">functions</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token function-variable function" style="color:var(--base-0a)">Foo</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:var(--base-06)">+</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token operator" style="color:var(--base-06)">!</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token function" style="color:var(--base-0a)">fn</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 4</span><br></span></code></pre></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">defineFunction</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;Foo&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">signature</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;number -&gt; number&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token function-variable function" style="color:var(--base-0a)">evaluate</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter punctuation" style="color:var(--base-06)">[</span><span class="token parameter">x</span><span class="token parameter punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Add&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">function</span><span class="token plain"> </span><span class="token function" style="color:var(--base-0a)">foo</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token keyword" style="color:var(--base-0e)">return</span><span class="token plain"> x </span><span class="token operator" style="color:var(--base-06)">+</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> fn </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Foo&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">compile</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">functions</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:var(--base-0c)">Foo</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> foo </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token operator" style="color:var(--base-06)">!</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token function" style="color:var(--base-0a)">fn</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 4</span><br></span></code></pre></div></div>
<p>Additionally, functions can be implicitly imported (in case they are needed by
other JavaScript functions):</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">defineFunction</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;Foo&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">signature</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;number -&gt; number&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token function-variable function" style="color:var(--base-0a)">evaluate</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter punctuation" style="color:var(--base-06)">[</span><span class="token parameter">x</span><span class="token parameter punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Add&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">function</span><span class="token plain"> </span><span class="token function" style="color:var(--base-0a)">bar</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter">x</span><span class="token parameter punctuation" style="color:var(--base-06)">,</span><span class="token parameter"> y</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token keyword" style="color:var(--base-0e)">return</span><span class="token plain"> x </span><span class="token operator" style="color:var(--base-06)">+</span><span class="token plain"> y</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">function</span><span class="token plain"> </span><span class="token function" style="color:var(--base-0a)">foo</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token keyword" style="color:var(--base-0e)">return</span><span class="token plain"> </span><span class="token function" style="color:var(--base-0a)">bar</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> fn </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Foo&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">compile</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">functions</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:var(--base-0c)">Foo</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;foo&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">imports</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token plain">foo</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> bar</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token operator" style="color:var(--base-06)">!</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token function" style="color:var(--base-0a)">fn</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 4</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Compiled expression can now include an arbitrary preamble (JavaScript source)
that is executed before the compiled function is executed. This can be used to
define additional functions or constants.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">defineFunction</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;Foo&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">signature</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;number -&gt; number&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token function-variable function" style="color:var(--base-0a)">evaluate</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter punctuation" style="color:var(--base-06)">[</span><span class="token parameter">x</span><span class="token parameter punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Add&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> code </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Foo&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">compile</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">preamble</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;function Foo(x) { return x + 1};&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>The <code>hold</code> function definition flag has been renamed to <code>lazy</code></p>
</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0264-2024-10-17">0.26.4 <em>2024-10-17</em><a href="#0264-2024-10-17" class="hash-link" aria-label="Direct link to 0264-2024-10-17" title="Direct link to 0264-2024-10-17" translate="no">​</a></h2><ul>
<li class=""><strong>#201</strong> Identifiers of the form <code>A_\text{1}</code> were not parsed correctly.</li>
<li class=""><strong>#202</strong> Fixed serialization of integrals and bigops.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0263-2024-10-17">0.26.3 <em>2024-10-17</em><a href="#0263-2024-10-17" class="hash-link" aria-label="Direct link to 0263-2024-10-17" title="Direct link to 0263-2024-10-17" translate="no">​</a></h2><ul>
<li class="">Correctly account for <code>fractionalDigits</code> when formatting numbers.</li>
<li class=""><strong>#191</strong> Correctly handle <code>\\lnot\\forall</code> and <code>\\lnot\\exists</code>.</li>
<li class=""><strong>#206</strong> The square root of 1000000 was canonicalized to 0.</li>
<li class=""><strong>#207</strong> When a square root with a literal base greater than 1e6 was preceded
by a non-integer literal number, the literal number was ignored during
canonicalization.</li>
<li class=""><strong>#208</strong> <strong>#204</strong> Correctly evaluate numeric approximation of roots, e.g.
<code>\\sqrt[3]{125}</code>.</li>
<li class=""><strong>#205</strong> <code>1/ln(0)</code> was incorrectly evaluated to <code>1</code>. It now returns <code>0</code>.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0261-2024-10-04">0.26.1 <em>2024-10-04</em><a href="#0261-2024-10-04" class="hash-link" aria-label="Direct link to 0261-2024-10-04" title="Direct link to 0261-2024-10-04" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-2">Issues Resolved<a href="#issues-resolved-2" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class=""><strong>#194</strong> Correctly handle the precedence of unary negate, for example in
<code>-5^{\frac12}</code> or <code>-5!</code>.</li>
<li class="">When using a function definition with <code>ce.declare()</code>, do not generate a
runtime error.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-and-improvements-3">New Features and Improvements<a href="#new-features-and-improvements-3" class="hash-link" aria-label="Direct link to New Features and Improvements" title="Direct link to New Features and Improvements" translate="no">​</a></h3><ul>
<li class="">Added <code>.expand()</code> method to boxed expression. This method expands the
expression, for example <code>ce.parse(&quot;(x+1)^2&quot;).expand()</code> will return
<code>x^2 + 2x + 1</code>.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0260-2024-10-01">0.26.0 <em>2024-10-01</em><a href="#0260-2024-10-01" class="hash-link" aria-label="Direct link to 0260-2024-10-01" title="Direct link to 0260-2024-10-01" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-2">Breaking Changes<a href="#breaking-changes-2" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">
<p>The property <code>expr.head</code> has been deprecated. Use <code>expr.operator</code> instead.
<code>expr.head</code> is still supported in this version but will be removed in a future
update.</p>
</li>
<li class="">
<p>The MathJSON utility functions <code>head()</code> and <code>op()</code> have been renamed to
<code>operator()</code> and <code>operand()</code> respectively.</p>
</li>
<li class="">
<p>The methods for algebraic operations (<code>add</code>, <code>div</code>, <code>mul</code>, etc...) have been
moved from the Compute Engine to the Boxed Expression class. Instead of
calling <code>ce.add(a, b)</code>, call <code>a.add(b)</code>.</p>
<p>Those methods also behave more consistently: they apply some additional
simplication rules over canonicalization. For example, while
<code>ce.parse(&#x27;1 + 2&#x27;)</code> return <code>[&quot;Add&quot;, 1, 2]</code>, <code>ce.box(1).add(2)</code> will return
<code>3</code>.</p>
</li>
<li class="">
<p>The <code>ce.numericMode</code> option has been removed. Instead, set the <code>ce.precision</code>
property to the desired precision. Set the precision to <code>&quot;machine&quot;</code> for
machine precision calculations (about 15 digits). Set it to <code>&quot;auto&quot;</code> for a
default of 21 digits. Set it to a number for a greater fixed precision.</p>
</li>
<li class="">
<p>The MathJSON Dictionary element has been deprecated. Use a <code>Dictionary</code>
expression instead.</p>
</li>
<li class="">
<p>The <code>ExtendedRealNumbers</code>, <code>ExtendedComplexNumbers</code> domains have been
deprecated. Use the <code>RealNumbers</code> and <code>ComplexNumbers</code> domains instead.</p>
</li>
<li class="">
<p>The &quot;Domain&quot; expression has been deprecated. Use types instead (see below).</p>
</li>
<li class="">
<p>Some <code>BoxedExpression</code> properties have been removed:</p>
<ul>
<li class="">Instead of <code>expr.isZero</code>, use <code>expr.is(0)</code>.</li>
<li class="">Instead of <code>expr.isNotZero</code>, use <code>!expr.is(0)</code>.</li>
<li class="">Instead of <code>expr.isOne</code>, use <code>expr.is(1)</code>.</li>
<li class="">Instead of <code>expr.isNegativeOne</code>, use <code>expr.is(-1)</code>.</li>
</ul>
</li>
<li class="">
<p>The signature of <code>ce.declare()</code> has changed. In particular, the <code>N</code> handler
has been replaced with <code>evaluate</code>.</p>
</li>
</ul><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token comment" style="color:var(--base-05)">// Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token keyword" style="color:var(--base-0e)">declare</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;Mean&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token constant" style="color:var(--base-09)">N</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> IComputeEngine</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> BoxedExpression </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    </span><span class="token keyword" style="color:var(--base-0e)">return</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">number</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Now</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token keyword" style="color:var(--base-0e)">declare</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;Mean&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token function-variable function" style="color:var(--base-0a)">evaluate</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ops</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> engine </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">number</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-and-improvements-4">New Features and Improvements<a href="#new-features-and-improvements-4" class="hash-link" aria-label="Direct link to New Features and Improvements" title="Direct link to New Features and Improvements" translate="no">​</a></h3><ul>
<li class="">
<p><strong>New Simplification Engine</strong></p>
<p>The way expressions are simplified has been completely rewritten. The new
engine is more powerful and more flexible.</p>
<p>The core API remains the same: to simplify an expression, use
<code>expr.simplify()</code>.</p>
<p>To use a custom set of rules, pass the rules as an argument to <code>simplify()</code>:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">rules</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token string" style="color:var(--base-0b)">&quot;|x:&lt;0| -&gt; -x&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token string" style="color:var(--base-0b)">&quot;|x:&gt;=0| -&gt; x&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p>There are a few changes to the way rules are represented. The <code>priority</code>
property has been removed. Instead, rules are applied in the order in which
they are defined.</p>
<p>A rule can also now be a function that takes an expression and returns a new
expression. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">rules</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter">expr</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    </span><span class="token keyword" style="color:var(--base-0e)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">operator </span><span class="token operator" style="color:var(--base-06)">!==</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;Abs&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">return</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">undefined</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    </span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> x </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">args</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token number" style="color:var(--base-09)">0</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    </span><span class="token keyword" style="color:var(--base-0e)">return</span><span class="token plain"> x</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">isNegative </span><span class="token operator" style="color:var(--base-06)">?</span><span class="token plain"> x</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">negate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> expr</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p>This can be used to perform more complex transformations at the cost of more
verbose JavaScript code.</p>
<p>The algorithm for simplification has been simplified. It attempts to apply
each rule in the rule set in turn, then restarts the process until no more
rules can be applied or the result of applying a rule returns a previously
seen expression.</p>
<p>Function definitions previously included a <code>simplify</code> handler that could be
used to perform simplifications specific to this function. This has been
removed. Instead, use a rule that matches the function and returns the
simplified expression.</p>
</li>
<li class="">
<p><strong>Types</strong></p>
<p>Previously, an expression was associated with a domain such as <code>RealNumbers</code>
or <code>ComplexNumbers</code>. This has been replaced with a more flexible system of
types.</p>
<p>A type is a set of values that an expression can take. For example, the type
<code>real</code> is the set of real numbers, the type <code>integer</code> is the set of integers,</p>
<p>The type of an expression can be set with the <code>type</code> property. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> expr </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\sqrt{-1}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">type</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; imaginary</span><br></span></code></pre></div></div>
<p>The type of a symbol can be set when declaring the symbol. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declare</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;x&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;imaginary&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p>In addition to primitive types, the type system supports more complex types
such union types, intersection types, and function types.</p>
<p>For example, the type <code>real|imaginary</code> is the union of the real and imaginary
numbers.</p>
<p>When declaring a function, the type of the arguments and the return value can
be specified. For example, to declare a function <code>f</code> that takes two integers
and returns a real number:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declare</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;f&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;(integer, integer) -&gt; real&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p>The sets of numbers are defined as follows:</p>
<ul>
<li class=""><code>number</code> - any number, real or complex, including NaN and infinity</li>
<li class=""><code>non_finite_number</code> - NaN or infinity</li>
<li class=""><code>real</code></li>
<li class=""><code>finite_real</code> - finite real numbers (exclude NaN and infinity)</li>
<li class=""><code>imaginary</code> - imaginary numbers (complex numbers with a real part of 0)</li>
<li class=""><code>finite_imaginary</code></li>
<li class=""><code>complex</code> - complex numbers with a real and imaginary part not equal to 0</li>
<li class=""><code>finite_complex</code></li>
<li class=""><code>rational</code></li>
<li class=""><code>finite_rational</code></li>
<li class=""><code>integer</code></li>
<li class=""><code>finite_integer</code></li>
</ul>
<p>To check the type of an expression, use the <code>isSubtypeOf()</code> method. For
example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">let</span><span class="token plain"> expr </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;5&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">type</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">isSubtypeOf</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;rational&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; true</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">type</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">isSubtypeOf</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;integer&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; true</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\frac{1}{2}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">type</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">isSubtypeOf</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;rational&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; true</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">type</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">isSubtypeOf</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;integer&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; false</span><br></span></code></pre></div></div>
<p>As a shortcut, the properties <code>isReal</code>, <code>isRational</code>, <code>isInteger</code> are
available on boxed expressions. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">let</span><span class="token plain"> expr </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;5&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">isInteger</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; true</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">isRational</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; true</span><br></span></code></pre></div></div>
<p>They are equivalent to <code>expr.type.isSubtypeOf(&#x27;integer&#x27;)</code> and
<code>expr.type.isSubtypeOf(&#x27;rational&#x27;)</code> respectively.</p>
<p>To check if a number has a non-zero imaginary part, use:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">let</span><span class="token plain"> expr </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;5i&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">isNumber </span><span class="token operator" style="color:var(--base-06)">&amp;&amp;</span><span class="token plain"> expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">isReal </span><span class="token operator" style="color:var(--base-06)">===</span><span class="token plain"> </span><span class="token boolean" style="color:var(--base-09)">false</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; true</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Collections</strong></p>
<p>Support for collections has been improved. Collections include <code>List</code>, <code>Set</code>,
<code>Tuple</code>, <code>Range</code>, <code>Interval</code>, <code>Linspace</code> and <code>Dictionary</code>.</p>
<p>It is now possible to check if an element is contained in a collection using
an <code>Element</code> expression. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">let</span><span class="token plain"> expr </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;[1, 2, 3]&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Element&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> expr</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; True</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Element&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> expr</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; False</span><br></span></code></pre></div></div>
<p>To check if a collection is a subset of another collection, use the <code>Subset</code>
expression. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Subset&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;Integers&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;RealNumbers&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; True</span><br></span></code></pre></div></div>
<p>Collections can also be compared for equality. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">let</span><span class="token plain"> set1 </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\lbrace 1, 2, 3 \\rbrace&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">let</span><span class="token plain"> set2 </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\lbrace 3, 2, 1 \\rbrace&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">set1</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">isEqual</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">set2</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; true</span><br></span></code></pre></div></div>
<p>There are also additional convenience methods on boxed expressions:</p>
<ul>
<li class=""><code>expr.isCollection</code></li>
<li class=""><code>expr.contains(element)</code></li>
<li class=""><code>expr.size</code></li>
<li class=""><code>expr.isSubsetOf(other)</code></li>
<li class=""><code>expr.indexOf(element)</code></li>
<li class=""><code>expr.at(index)</code></li>
<li class=""><code>expr.each()</code></li>
<li class=""><code>expr.get(key)</code></li>
</ul>
</li>
<li class="">
<p><strong>Exact calculations</strong></p>
<p>The Compute Engine has a new backed for numerical calculations. The new backed
can handle arbitrary precision calculations, including real and complex
numbers. It can also handle exact calculations, preserving calculations with
rationals and radicals (square root of integers). For example <code>1/2 + 1/3</code> is
evaluated to <code>5/6</code> instead of <code>0.8(3)</code>.</p>
<p>To get an approximate result, use the <code>N()</code> method, for example
<code>ce.parse(&quot;\\frac12 + \\frac13&quot;).N()</code>.</p>
<p>Previously the result of calculations was not always an exact number but
returned a numerical approximation instead.</p>
<p>This has now been improved by introducing a <code>NumericValue</code> type that
encapsulates exact numbers and by doing all calculations in this type.
Previously the calculations were handled manually in the various evaluation
functions. This made the code complicated and error prone.</p>
<p>A <code>NumericValue</code> is made of:</p>
<ul>
<li class="">an imaginary part, represented as a fixed-precision number</li>
<li class="">a real part, represented either as a fixed or arbitrary precision number or
as the product of a rational number and the square root of an integer.</li>
</ul>
<p>For example:</p>
<ul>
<li class="">234.567</li>
<li class="">1/2</li>
<li class="">3√5</li>
<li class="">√7/3</li>
<li class="">4-3i</li>
</ul>
<p>While this is a significant change internally, the external API remains the
same. The result of calculations should be more predictable and more accurate.</p>
<p>One change to the public API is that the <code>expr.numericValue</code> property is now
either a machine precision number or a <code>NumericValue</code> object.</p>
</li>
<li class="">
<p><strong>Rule Wildcards</strong></p>
<p>When defining a rule as a LaTeX expression, single character identifiers are
interpreted as wildcards. For example, the rule <code>x + x -&gt; 2x</code> will match any
expression with two identical terms. The wildcard corresponding to <code>x</code> is
<code>_x</code>.</p>
<p>It is now possible to define sequence wildcards and optional sequence
wildcards. Sequence wildcards match 1 or more expressions, while optional
sequence wildcards match 0 or more expressions.</p>
<p>They are indicated in LaTeX as <code>...x</code> and <code>...x?</code> respectively. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;x + ...y -&gt; 2x&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p>If <code>expr</code> is <code>a + b + c</code> the rule will match and return <code>2a</code></p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;x + ...y? -&gt; 3x&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p>If <code>expr</code> is <code>a + b + c</code> the rule will match and return <code>3a</code>. If <code>expr</code> is <code>a</code>
the rule will match and return <code>3a</code>.</p>
</li>
<li class="">
<p><strong>Conditional Rules</strong></p>
<p>Rules can now include conditions that are evaluated at runtime. If the
condition is not satisfied, the rules does not apply.</p>
<p>For example, to simplify the expression <code>|x|</code>:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">rules</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token string" style="color:var(--base-0b)">&quot;|x_{&gt;=0}| -&gt; x&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token string" style="color:var(--base-0b)">&quot;|x_{&lt;0}| -&gt; -x&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p>The condition is indicated as a subscript of the wildcard. The condition can
be one of:</p>
<ul>
<li class="">
<p><code>boolean</code> - a boolean value, True or False</p>
</li>
<li class="">
<p><code>string</code> - a string of characters</p>
</li>
<li class="">
<p><code>number</code> - a number literal</p>
</li>
<li class="">
<p><code>symbol</code></p>
</li>
<li class="">
<p><code>expression</code></p>
</li>
<li class="">
<p><code>numeric</code> - an expression that has a numeric value, i.e. 2√3, 1/2, 3.14</p>
</li>
<li class="">
<p><code>integer</code> - an integer value, -2, -1, 0, 1, 2, 3, ...</p>
</li>
<li class="">
<p><code>natural</code> - a natural number, 0, 1, 2, 3, ...</p>
</li>
<li class="">
<p><code>real</code> - real numbers, including integers</p>
</li>
<li class="">
<p><code>imaginary</code> - imaginary numbers, i.e. 2i, 3√-1 (not including real numbers)</p>
</li>
<li class="">
<p><code>complex</code> - complex numbers, including real and imaginary</p>
</li>
<li class="">
<p><code>rational</code> - rational numbers, 1/2, 3/4, 5/6, ...</p>
</li>
<li class="">
<p><code>irrational</code> - irrational numbers, √2, √3, π, ...</p>
</li>
<li class="">
<p><code>algebraic</code> - algebraic numbers, rational and irrational</p>
</li>
<li class="">
<p><code>transcendental</code> - transcendental numbers, π, e, ...</p>
</li>
<li class="">
<p><code>positive</code> - positive real numbers, &gt; 0</p>
</li>
<li class="">
<p><code>negative</code> - negative real numbers, &lt; 0</p>
</li>
<li class="">
<p><code>nonnegative</code> - nonnegative real numbers, &gt;= 0</p>
</li>
<li class="">
<p><code>nonpositive</code> - nonpositive real numbers, &lt;= 0</p>
</li>
<li class="">
<p><code>even</code> - even integers, 0, 2, 4, 6, ...</p>
</li>
<li class="">
<p><code>odd</code> - odd integers, 1, 3, 5, 7, ...</p>
</li>
<li class="">
<p><code>prime</code> <!-- -->:A000040<!-- --> - prime numbers, 2, 3, 5, 7, 11, ...</p>
</li>
<li class="">
<p><code>composite</code> <!-- -->:A002808<!-- --> - composite numbers, 4, 6, 8, 9, 10, ...</p>
</li>
<li class="">
<p><code>notzero</code> - a value that is not zero</p>
</li>
<li class="">
<p><code>notone</code> - a value that is not one</p>
</li>
<li class="">
<p><code>finite</code> - a finite value, not infinite</p>
</li>
<li class="">
<p><code>infinite</code></p>
</li>
<li class="">
<p><code>constant</code></p>
</li>
<li class="">
<p><code>variable</code></p>
</li>
<li class="">
<p><code>function</code></p>
</li>
<li class="">
<p><code>operator</code></p>
</li>
<li class="">
<p><code>relation</code> - an equation or inequality</p>
</li>
<li class="">
<p><code>equation</code></p>
</li>
<li class="">
<p><code>inequality</code></p>
</li>
<li class="">
<p><code>vector</code> - a tensor of rank 1</p>
</li>
<li class="">
<p><code>matrix</code> - a tensor of rank 2</p>
</li>
<li class="">
<p><code>list</code> - a collection of values</p>
</li>
<li class="">
<p><code>set</code> - a collection of unique values</p>
</li>
<li class="">
<p><code>tuple</code> - a fixed length list</p>
</li>
<li class="">
<p><code>single</code> - a tuple of length 1</p>
</li>
<li class="">
<p><code>pair</code> - a tuple of length 2</p>
</li>
<li class="">
<p><code>triple</code> - a tuple of length 3</p>
</li>
<li class="">
<p><code>collection</code> - a list, set, or tuple</p>
</li>
<li class="">
<p><code>tensor</code> - a nested list of values of the same type</p>
</li>
<li class="">
<p><code>scalar</code> - not a tensor or list</p>
</li>
</ul>
<p>or one of the following expressions:</p>
<ul>
<li class=""><code>&gt;0&#x27;</code> -&gt; <code>positive</code>,</li>
<li class=""><code>\gt0&#x27;</code> -&gt; <code>positive</code>,</li>
<li class=""><code>&lt;0&#x27;</code> -&gt; <code>negative</code>,</li>
<li class=""><code>\lt0&#x27;</code> -&gt; <code>negative</code>,</li>
<li class=""><code>&gt;=0&#x27;</code> -&gt; <code>nonnegative</code>,</li>
<li class=""><code>\geq0&#x27;</code> -&gt; <code>nonnegative</code>,</li>
<li class=""><code>&lt;=0&#x27;</code> -&gt; <code>nonpositive</code>,</li>
<li class=""><code>\leq0&#x27;</code> -&gt; <code>nonpositive</code>,</li>
<li class=""><code>!=0&#x27;</code> -&gt; <code>notzero</code>,</li>
<li class=""><code>\neq0&#x27;</code> -&gt; <code>notzero</code>,</li>
<li class=""><code>!=1&#x27;</code> -&gt; <code>notone</code>,</li>
<li class=""><code>\neq1&#x27;</code> -&gt; <code>notone</code>,</li>
<li class=""><code>\in\Z&#x27;</code> -&gt; <code>integer</code>,</li>
<li class=""><code>\in\mathbb{Z}&#x27;</code> -&gt; <code>integer</code>,</li>
<li class=""><code>\in\N&#x27;</code> -&gt; <code>natural</code>,</li>
<li class=""><code>\in\mathbb{N}&#x27;</code> -&gt; <code>natural</code>,</li>
<li class=""><code>\in\R&#x27;</code> -&gt; <code>real</code>,</li>
<li class=""><code>\in\mathbb{R}&#x27;</code> -&gt; <code>real</code>,</li>
<li class=""><code>\in\C&#x27;</code> -&gt; <code>complex</code>,</li>
<li class=""><code>\in\mathbb{C}&#x27;</code> -&gt; <code>complex</code>,</li>
<li class=""><code>\in\Q&#x27;</code> -&gt; <code>rational</code>,</li>
<li class=""><code>\in\mathbb{Q}&#x27;</code> -&gt; <code>rational</code>,</li>
<li class=""><code>\in\Z^+&#x27;</code> -&gt; <code>integer,positive</code>,</li>
<li class=""><code>\in\Z^-&#x27;</code> -&gt; <code>intger,negative</code>,</li>
<li class=""><code>\in\Z^*&#x27;</code> -&gt; <code>nonzero</code>,</li>
<li class=""><code>\in\R^+&#x27;</code> -&gt; <code>positive</code>,</li>
<li class=""><code>\in\R^-&#x27;</code> -&gt; <code>negative</code>,</li>
<li class=""><code>\in\R^*&#x27;</code> -&gt; <code>real,nonzero</code>,</li>
<li class=""><code>\in\N^*&#x27;</code> -&gt; <code>integer,positive</code>,</li>
<li class=""><code>\in\N_0&#x27;</code> -&gt; <code>integer,nonnegative</code>,</li>
<li class=""><code>\in\R\backslash\Q&#x27;</code> -&gt; <code>irrational</code>,</li>
</ul>
<p>More complex conditions can be specified following a semi-colon, for example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain">x </span><span class="token operator" style="color:var(--base-06)">-</span><span class="token operator" style="color:var(--base-06)">&gt;</span><span class="token plain"> 2x</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> x </span><span class="token operator" style="color:var(--base-06)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">10</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p>Note that this syntax complements the existing rule syntax, and can be used
together with the existing, more verbose, rule syntax.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">rules</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">match</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;x + x&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:var(--base-0c)">replace</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;2x&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:var(--base-0c)">condition</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;x &lt; 10&quot;</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p>This advanced syntax can specify more complex conditions, for example above
the rule will only apply if <code>x</code> is less than 10.</p>
</li>
<li class="">
<p>Improved results for <code>Expand</code>. In some cases the expression was not fully
expanded. For example, <code>4x(3x+2)-5(5x-4)</code> now returns <code>12x^2 - 17x + 20</code>.
Previously it returned <code>4x(3x+2)+25x-20</code>.</p>
</li>
<li class="">
<p><strong>AsciiMath serialization</strong> The <code>expr.toString()</code> method now returns a
serialization of the expression using the <a href="https://asciimath.org/" target="_blank" rel="noopener noreferrer" class="">AsciiMath</a>
format.</p>
<p>The serialization to AsciiMath can be customized using the <code>toAsciiMath()</code>
method. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Sigma&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">toAsciiMath</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">functions</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">Sigma</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;sigma&#x27;</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; sigma(2)</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>The tolerance can now be specified with a value of <code>&quot;auto&quot;</code> which will use the
precision to determine a reasonable tolerance. The tolerance is used when
comparing two numbers for equality. The tolerance can be specified with the
<code>ce.tolerance</code> property or in the Compute Engine constructor.</p>
</li>
<li class="">
<p>Boxed expressions have some additional properties:</p>
<ul>
<li class=""><code>expr.isNumberLiteral</code> - true if the expression is a number literal.This is
equivalent to checking if <code>expr.numericValue</code> is not <code>null</code>.</li>
<li class=""><code>expr.re</code> - the real part of the expression, if it is a number literal,
<code>undefined</code> if not a number literal.</li>
<li class=""><code>expr.im</code> - the imaginary part of the expression, if it is a number literal,
<code>undefined</code> if not a number literal.</li>
<li class=""><code>expr.bignumRe</code> - the real part of the expression as a bignum, if it is a
number literal, <code>undefined</code> if not a number literal or a bignum
representation is not available.</li>
<li class=""><code>expr.bignumIm</code> - the imaginary part of the expression as a bignum, if it is
a number literal, <code>undefined</code> if not a number literal or if a bignum
representation is not available.</li>
<li class=""><code>expr.root()</code> to get the root of the expression. For example, <code>expr.root(3)</code>
will return the cube root of the expression.</li>
<li class="">Additionally, the relational operators (<code>expr.isLess(), expr.isEqual()</code>,
etc...) now accept a number argument. For example, <code>expr.isGreater(1)</code> will
return true if the expression is greater than 1.</li>
</ul>
</li>
<li class="">
<p>Added LaTeX syntax to index collections. If <code>a</code> is a collection:</p>
<ul>
<li class=""><code>a[i]</code> is parsed as <code>[&quot;At&quot;, &quot;a&quot;, &quot;i&quot;]</code>.</li>
<li class=""><code>a[i,j]</code> is parsed as <code>[&quot;At&quot;, &quot;a&quot;, &quot;i&quot;, &quot;j&quot;]</code>.</li>
<li class=""><code>a_i</code> is parsed as <code>[&quot;At&quot;, &quot;a&quot;, &quot;i&quot;]</code>.</li>
<li class=""><code>a_{i,j}</code> is parsed as <code>[&quot;At&quot;, &quot;a&quot;, &quot;i&quot;, &quot;j&quot;]</code>.</li>
</ul>
</li>
<li class="">
<p>Added support for Kronecker delta notation, i.e. <code>\delta_{ij}</code>, which is
parsed as <code>[&quot;KroneckerDelta&quot;, &quot;i&quot;, &quot;j&quot;]</code> and is equal to 1 if <code>i = j</code> and 0
otherwise.</p>
<p>When a single index is provided the value of the function is 1 if the index is
0 and 0 otherwise</p>
<p>When multiple index are provided, the value of the function is 1 if all the
indexes are equal and 0 otherwise.</p>
</li>
<li class="">
<p>Added support for Iverson Bracket notation, i.e. <code>[a = b]</code>, which is parsed as
<code>[&quot;Boole&quot;, [&quot;Equal&quot;, &quot;a&quot;, &quot;b&quot;]]</code> and is equal to 1 if its argument is true and
0 otherwise. The argument is expected to be a relational expression.</p>
</li>
<li class="">
<p>Implemented <code>Unique</code> and <code>Tally</code> on collections. <code>Unique</code> returns a collection
with only the unique elements of the input collection, and <code>Tally</code> returns a
collection with the count of each unique element.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Unique&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;List&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">4</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">value</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [1, 2, 3, 4, 5]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Tally&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;List&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">4</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">value</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [[&#x27;List&#x27;, 1, 2, 3, 4, 5], [&#x27;List&#x27;, 2, 2, 2, 1, 1]]</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Implemented the <code>Map</code>, <code>Filter</code> and <code>Tabulate</code> functions. These functions can
be used to transform collections, for example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token comment" style="color:var(--base-05)">// Using LaTeX</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\mathrm{Map}([3, 5, 7], x \\mapsto x^2)&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">toString</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [9, 25, 49]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Using boxed expressions</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Map&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;List&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">7</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Square&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;_&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">value</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [9, 25, 49]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Tabulate&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Square&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;_&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">value</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [1, 4, 9, 16, 25]</span><br></span></code></pre></div></div>
<p><code>Tabulate</code> can be used with multiple indexes. For example, to generate a 4x4
unit matrix:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Tabulate&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;If&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&#x27;Equal&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;_1&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;_2&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">0</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">4</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">4</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">value</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Using the Kronecker delta notation:</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;\\mathrm{Tabulate}(i, j \\mapsto \\delta_{ij}, 4, 4)&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">value</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Added <code>Random</code> function. <code>[&quot;Random&quot;]</code> returns a real pseudo-random number
betwen 0 and 1. <code>[&quot;Random&quot;, 10]</code> returns an integer between 0 and 9,
<code>[&quot;Random&quot;, 5, 10]</code> returns an integer between 5 and 10.</p>
</li>
<li class="">
<p>Extended the definition of <code>expr.isConstant</code>. Previously, it only applied to
symbols, e.g. <code>Pi</code>. Now it apply to all expressions. <code>expr.isConstant</code> is true
if the expression is a number literal, a symbol with a constant value, or a
pure function with constant arguments.</p>
</li>
<li class="">
<p>The boxed expression properties <code>isPositive</code>, <code>isNegative</code>, <code>isNonNegative</code>,
<code>isNonPositive</code>, <code>isZero</code>, <code>isNotZero</code> now return a useful value for most
function expressions. For example, <code>ce.parse(&#x27;|x + 1|&#x27;).isPositive</code> is true.</p>
<p>If the value cannot be determined, the property will return <code>undefined</code>. For
example, <code>ce.parse(&#x27;|x + 1|&#x27;).isZero</code> is <code>undefined</code>.</p>
<p>If the expression is not a real number, the property will return <code>NaN</code>. For
example, <code>ce.parse(&#x27;i&#x27;).isPositive</code> is <code>NaN</code>.</p>
</li>
<li class="">
<p>Added <code>Choose</code> function to compute binomial coefficients, i.e. <code>Choose(5, 2)</code>
is equal to 10.</p>
</li>
<li class="">
<p>The fallback for non-constructible complex values of trigonometric functions
is now implemented via rules.</p>
</li>
<li class="">
<p>The canonical order of the arguments has changed and should be more consistent
and predictable. In particular, for polynomials, the
<a href="https://en.wikipedia.org/wiki/Monomial_order" target="_blank" rel="noopener noreferrer" class="">monomial order</a> is now
<strong>degrevlex</strong>.</p>
</li>
<li class="">
<p>Canonical expressions can now include a <code>Root</code> expression. For example, the
canonical form of <code>\\sqrt[3]{5}</code> is <code>[&quot;Root&quot;, 5, 3]</code>. Previously, these were
represented as <code>[&quot;Power&quot;, 5, [&quot;Divide&quot;, 1, 3]]</code>.</p>
</li>
<li class="">
<p>The function definitions no longer have a <code>N</code> handler. Instead the <code>evaluate</code>
handler has an optional <code>{numericApproximation}</code> argument.</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-3">Issues Resolved<a href="#issues-resolved-3" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">
<p><strong>#188</strong> Throw an error when invalid expressions are boxed, for example
<code>ce.box([&quot;Add&quot;, [&quot;3&quot;]])</code>.</p>
</li>
<li class="">
<p>Some LaTeX renderer can&#x27;t render <code>\/</code>, so use <code>/</code> instead.</p>
</li>
<li class="">
<p>When definitions are added to the LaTeX dictionary, they now take precedence
over the built-in definitions. This allows users to override the built-in
definitions.</p>
</li>
<li class="">
<p>Improved parsing of functions, including when a mixture of named and
positional arguments are used.</p>
</li>
<li class="">
<p><strong>#175</strong> Matching some patterns when the target had not enough operands would
result in a runtime error.</p>
</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0251-2024-06-27">0.25.1 <em>2024-06-27</em><a href="#0251-2024-06-27" class="hash-link" aria-label="Direct link to 0251-2024-06-27" title="Direct link to 0251-2024-06-27" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-4">Issues Resolved<a href="#issues-resolved-4" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class=""><strong>#174</strong> Fixed some simplifications, such as <code>\frac{a^n}{a^m} = a^{n-m)</code></li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-1">New Features<a href="#new-features-1" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features" translate="no">​</a></h3><ul>
<li class="">
<p>Rules can be defined using a new shorthand syntax, where each rule is a string
of LaTeX:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;\\frac{x}{x} -&gt; 1&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;x + x -&gt; 2x&quot;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
</li>
</ul><p>Single letter variables are assumed to be wildcards, so <code>x</code> is interpreted as
the wildcard <code>_x</code>.</p><p>Additionally, the expanded form can also include LaTeX strings. The previous
syntax using expressions can still be used, and the new and old syntax can be
mixed.</p><p>For example:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    </span><span class="token literal-property property" style="color:var(--base-0c)">match</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;\\frac{x}{x}&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    </span><span class="token literal-property property" style="color:var(--base-0c)">replace</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    </span><span class="token literal-property property" style="color:var(--base-0c)">match</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Add&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;x&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;x&quot;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    </span><span class="token literal-property property" style="color:var(--base-0c)">replace</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;2x&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div><p>The <code>condition</code> function can also be expressed as a LaTeX string.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">simplify</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:var(--base-0c)">match</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;\\frac{x}{x}&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:var(--base-0c)">replace</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:var(--base-0c)">condition</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;x != 0&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div><p>The shorthand syntax can be used any where a ruleset is expected, including with
the <code>ce.rule()</code> function.</p><ul>
<li class="">A new <code>ce.getRuleSet()</code> method gives access to the built-in rules.</li>
<li class=""><strong>#171</strong> The <code>Subtract</code> and <code>Divide</code> function can now accept an arbitrary
number of arguments. For example, <code>[&quot;Subtract&quot;, 1, 2, 3]</code> is equivalent to
<code>[&quot;Subtract&quot;, [&quot;Subtract&quot;, 1, 2], 3]</code>.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0250-2024-06-25">0.25.0 <em>2024-06-25</em><a href="#0250-2024-06-25" class="hash-link" aria-label="Direct link to 0250-2024-06-25" title="Direct link to 0250-2024-06-25" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-3">Breaking Changes<a href="#breaking-changes-3" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">
<p>The canonical form of expressions has changed. It is now more consistent and
simpler and should produce more predictable results.</p>
<p>For example, previously <code>ce.parse(&quot;1-x^2&quot;)</code> would produce
<code>[&quot;Subtract&quot;, 1, [&quot;Square&quot;, &quot;x&quot;]]</code>.</p>
<p>While this is a readable form, it introduces some complications when
manipulating the expression: both the <code>Subtract</code> and <code>Square</code> functions have
to be handled, in addition to <code>Add</code> and <code>Power</code>.</p>
<p>The new canonical form of this expression is
<code>[&quot;Add&quot;, 1, [&quot;Negate&quot;, [&quot;Power&quot;, &quot;x&quot;, 2]]]</code>. It is a bit more verbose, but it
is simpler to manipulate.</p>
</li>
<li class="">
<p>The <code>ce.serialize()</code> method has been replaced with <code>expr.toLatex()</code> and
<code>expr.toMathJson()</code>. The <code>ce.latexOptions</code> and <code>ce.jsonSerializationOptions</code>
properties have been removed. Instead, pass the formating options directly to
the <code>toLatex()</code> and <code>toMathJson()</code> methods. The <code>ce.parse()</code> method now takes
an optional argument to specify the format of the input string.</p>
</li>
<li class="">
<p>The default JSON serialization of an expression has changed.</p>
<p>Previously, the default JSON serialization, accessed via the <code>.json</code> property,
had some transformations applied to it (sugaring) to make the JSON more human
readable.</p>
<p>For example, <code>ce.parse(&quot;\frac12&quot;).json</code> would return the symbol <code>&quot;Half&quot;</code>
instead of <code>[&quot;Divide&quot;, 1, 2]</code>.</p>
<p>However, this could lead to some confusion when manipulating the JSON
directly. Since the JSON is intended to be used by machine more than humans,
these additional transformations have been removed.</p>
<p>The <code>expr.json</code> property now returns the JSON representing the expression,
without any transformations.</p>
<p>To get a version of JSON with some transformations applied use the
<code>ce.toMathJson()</code> function.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Subtract&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Square&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;x&quot;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">json</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [&quot;Add&quot;, 1, [&quot;Negate&quot;, [&quot;Power&quot;, &quot;x&quot;, 2]]]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">toMathJson</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [&quot;Subtract&quot;, 1, [&quot;Square&quot;, &quot;x&quot;]]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">toMathJson</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">exclude</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;Square&quot;</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [&quot;Subtract&quot;, 1, [&quot;Power&quot;, &quot;x&quot;, 2]]</span><br></span></code></pre></div></div>
<p>In practice, the impact of both of these changes should be minimal. If you
were manipulating expressions using <code>BoxedExpression</code>, the new canonical form
should make it easier to manipulate expressions. You can potentially simplify
your code by removing special cases for functions such as <code>Square</code> and
<code>Subtract</code>.</p>
<p>If you were using the JSON serialization directly, you may also be able to
simplify you code since the default output from <code>expr.json</code> is now more
consistent and simpler.</p>
</li>
<li class="">
<p>The name of some number formatting options has changed. The number formatting
options are an optional argument of <code>ce.parse()</code> and <code>ce.toLatex()</code>. See the
<code>NumberFormat</code> and <code>NumberSerializationFormat</code> types.</p>
</li>
<li class="">
<p>The values +infinity, -infinity and NaN are now represented preferably with
the symbols <code>PositiveInfinity</code>, <code>NegativeInfinity</code> and <code>NaN</code> respectively.
Previously they were represented with numeric values, i.e.
<code>{num: &quot;+Infinity&quot;}</code>, <code>{num: &quot;-Infinity&quot;}</code> and <code>{num: &quot;NaN&quot;}</code>. The numeric
values are still supported, but the symbols are preferred.</p>
</li>
<li class="">
<p>The method <code>expr.isNothing</code> has been removed. Instead, use
<code>expr.symbol === &quot;Nothing&quot;</code>.</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-2">New Features<a href="#new-features-2" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features" translate="no">​</a></h3><ul>
<li class="">
<p>When serializing to LaTeX, the output can be &quot;prettified&quot;. This involves
modifying the LaTeX output to make it more pleasant to read, for example:</p>
<ul>
<li class=""><code>a+\\frac{-b}{c}</code> -&gt; <code>a-\\frac{b}{c}</code></li>
<li class=""><code>a\\times b^{-1}</code> -&gt; <code>\\frac{a}{b}</code></li>
<li class=""><code>\\frac{a}{b}\\frac{c}{d}</code> -&gt; <code>\\frac{a\\cdot c}{b\\cdot d}</code></li>
<li class=""><code>--2</code> -&gt; <code>2</code></li>
</ul>
<p>This is on by default and can be turned off by setting the <code>prettify</code> option
to <code>false</code>. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;a+\\frac{-b}{c}&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">toLatex</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">prettify</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token boolean" style="color:var(--base-09)">true</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; &quot;a-\\frac{b}{c}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;a+\\frac{-b}{c}&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">toLatex</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">prettify</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token boolean" style="color:var(--base-09)">false</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; &quot;a+\\frac{-b}{c}&quot;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Numbers can have a different digit group length for the whole and fractional
part of a number. For example,
<code>ce.toLatex(ce.parse(&quot;1234.5678&quot;), {digitGroup: [3, 0]})</code> will return
<code>1\,234.5678</code>.</p>
</li>
<li class="">
<p>Numbers can now be formatted using South-East Asian Numbering System, i.e.
lakh and crore. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">toLatex</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;12345678&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">digitGroup</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;lakh&quot;</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; &quot;1,23,45,678&quot;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Expressions with Integrate functions can now be compiled to JavaScript. The
compiled function can be used to evaluate the integral numerically. For
example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> f </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;\\int_0^1 x^2 dx&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token keyword" style="color:var(--base-0e)">const</span><span class="token plain"> compiled </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> f</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">compile</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token function" style="color:var(--base-0a)">compiled</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--base-05)">// -&gt; 0.33232945619482307</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>#82</strong> Support for angular units. The default is radians, but degrees can be
used by setting <code>ce.angularUnit = &quot;deg&quot;</code>. Other possible values are &quot;grad&quot; and
&quot;turn&quot;. This affects how unitless numbers with a trigonometric function are
interpreted. For example, <code>sin(90)</code> will return 1 when <code>ce.angularUnit</code> is
&quot;deg&quot;, 0.8939966636005579 when <code>ce.angularUnit</code> is &quot;grad&quot; and 0 when
<code>ce.angularUnit</code> is &quot;turn&quot;.</p>
</li>
<li class="">
<p>Added <code>expr.map(fn)</code> method to apply a function to each subexpression of an
expression. This can be useful to apply custom canonical forms and compare two
expressions.</p>
</li>
<li class="">
<p>An optional canonical form can now be specified with the <code>ce.function()</code>.</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-5">Issues Resolved<a href="#issues-resolved-5" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class=""><strong>#173</strong> Parsing <code>1++2</code> would result in an expression with a <code>PreIncrement</code>
function. It is now correctly parsed as <code>[&quot;Add&quot;, 1, 2]</code>.</li>
<li class=""><strong>#161</strong> Power expressions would not be processed when their argument was a
Divide expression.</li>
<li class=""><strong>#165</strong> More aggressive simplification of expressions with exponent greater
than 3.</li>
<li class=""><strong>#169</strong> Calculating a constant integral (and integral that did not depend on
the variable) would result in a runtime error.</li>
<li class=""><strong>#164</strong> Negative mixed fractions (e.g. <code>-1\frac23</code>) are now parsed correctly.</li>
<li class=""><strong>#162</strong> Numeric evaluation of expressions with large exponents could result
in machine precision numbers instead of bignum numbers.</li>
<li class=""><strong>#155</strong> The expression
<code>[&quot;Subtract&quot;, [&quot;Multiply&quot;, 0.5, &quot;x&quot;], [&quot;Divide&quot;, &quot;x&quot;, 2]]</code> will now evaluate
to <code>0</code>.</li>
<li class=""><strong>#154</strong> In some cases, parsing implicit argument of trig function return more
natural results, for example <code>\cos a \sin b</code> is now parsed as
<code>(\cos a)(\sin b)</code> and not <code>\cos (a \sin b)</code>.</li>
<li class=""><strong>#147</strong> The associativity of some operators, including <code>/</code> was not applied
correctly, resulting in unexpected results. For example, <code>1/2/3</code> would be
parsed as <code>[&quot;Divide&quot;, 1, [&quot;Divide&quot;, 2, 3]]</code> instead of
<code>[&quot;Divide&quot;, [&quot;Divide&quot;, 1, 2], 3]</code>.</li>
<li class=""><strong>#146</strong> When parsing an expression like <code>x(x+1)</code> where <code>x</code> is an undeclared
symbol, do not infer that <code>x</code> is a function. Instead, infer that <code>x</code> is a
variable and that the expression is a product.</li>
<li class=""><strong>#145</strong> The expression <code>[&quot;Or&quot;, &quot;False&quot;, &quot;False&quot;]</code>, that is when all the
arguments are <code>False</code>, is now evaluates to <code>False</code>.</li>
<li class="">Fixed canonical form of <code>e^x^2</code>, and more generally apply power rule in more
cases.</li>
<li class="">Added missing &quot;Sech&quot; and &quot;Csch&quot; functions.</li>
<li class="">The digit grouping serializing would place the separator in the wrong place
for some numbers.</li>
<li class="">The <code>avoidExponentsInRange</code> formating option would not always avoid exponents
in the specified range.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0240-2024-02-23">0.24.0 <em>2024-02-23</em><a href="#0240-2024-02-23" class="hash-link" aria-label="Direct link to 0240-2024-02-23" title="Direct link to 0240-2024-02-23" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-6">Issues Resolved<a href="#issues-resolved-6" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">Fix parsing of very deeply nested expressions.</li>
<li class="">Correctly apply rules to deeply nested expressions.</li>
<li class=""><code>expr.print()</code> now correctly prints the expression when using the minified
version of the library.</li>
<li class=""><code>expr.isEqual()</code> now correctly compares equalities and inequalities.</li>
<li class=""><code>expr.match()</code> has been improved and works correctly in more cases. The
signature of the <code>match</code> function has been changed so that the pattern is the
first argument, i.e. instead of <code>pattern.match(expr)</code> use
<code>expr.match(pattern)</code>.</li>
<li class="">Fix <code>expr.print()</code> when using the minified version of the library.</li>
<li class=""><strong>#142</strong> Accept complex expressions as the subcript of <code>\ln</code> and <code>\log</code> in
LaTeX.</li>
<li class=""><strong>#139</strong> Parse quantifiers <code>\forall</code> and <code>\exists</code> in LaTeX.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0231-2024-01-27">0.23.1 <em>2024-01-27</em><a href="#0231-2024-01-27" class="hash-link" aria-label="Direct link to 0231-2024-01-27" title="Direct link to 0231-2024-01-27" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-7">Issues Resolved<a href="#issues-resolved-7" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">Using a custom canonical order of <code>&quot;Multiply&quot;</code> would not distribute the
<code>Negate</code> function.</li>
<li class=""><strong>#141</strong> The canonical form <code>&quot;Order&quot;</code> was applied to non-commutative
functions.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0230-2024-01-01">0.23.0 <em>2024-01-01</em><a href="#0230-2024-01-01" class="hash-link" aria-label="Direct link to 0230-2024-01-01" title="Direct link to 0230-2024-01-01" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-3">New Features<a href="#new-features-3" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features" translate="no">​</a></h3><ul>
<li class="">Added <code>ExpandAll</code> function to expand an expression recursively.</li>
<li class="">Added <code>Factor</code> function to factor an expression.</li>
<li class="">Added <code>Together</code> function to combine rational expressions into a single
fraction.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-8">Issues Resolved<a href="#issues-resolved-8" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">The expression <code>\frac5 7</code> is now parsed correctly as <code>\frac{5}{7}</code> instead of
<code>\frac{5}{}7</code>.</li>
<li class="">Do not sugar non-canonical expression. Previously,
<code>ce.parse(&#x27;\\frac{1}{2}&#x27;, {canonical: false})</code> would return <code>Half</code> instead of
<code>[&#x27;Divide&#x27;, &#x27;1&#x27;, &#x27;2&#x27;]</code>.</li>
<li class=""><strong>#132</strong> Attempting to set a value to 0 with
<code>ce.defineSymbol(&quot;count&quot;, {value: 0})</code> would fail: the symbol would be
undefined.</li>
<li class="">Correctly evaluate power expressions in some cases, for example
<code>(\sqrt2 + \sqrt2)^2</code>.</li>
<li class="">Comparison of expressions containing non-exact numbers could fail. For
example: <code>2(13.1+3.1x)</code> and <code>26.2+6.2x</code> would not be considered equal.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-2">Improvements<a href="#improvements-2" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">Significant improvements to symbolic computation. Now, boxing,
canonicalization and evaluation are more consistent and produce more
predictable results.</li>
<li class="">Adedd the <code>\neg</code> command, synonym for <code>\lnot</code> -&gt; <code>Not</code>.</li>
<li class="">Relational expressions (inequalities, etc...) are now properly factored.</li>
<li class="">Integers are now factored when simplifying, i.e. <code>2x = 4x</code> -&gt; <code>x = 2x</code>.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0220-2023-11-13">0.22.0 <em>2023-11-13</em><a href="#0220-2023-11-13" class="hash-link" aria-label="Direct link to 0220-2023-11-13" title="Direct link to 0220-2023-11-13" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-4">Breaking Changes<a href="#breaking-changes-4" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">
<p><strong>Rule Syntax</strong></p>
<p>The syntax to describe rules has changed. The syntax for a rule was previously
a tuple <code>[lhs, rhs, {condition} ]</code>. The new syntax is an object with the
properties <code>match</code>, <code>replace</code> and <code>condition</code>. For example:</p>
<ul>
<li class="">previous syntax: <code>[[&quot;Add&quot;, &quot;_x&quot;, &quot;_x&quot;], [&quot;Multiply&quot;, 2, &quot;_x&quot;]]</code></li>
<li class="">new syntax: <code>{match: [&quot;Add&quot;, &quot;_x&quot;, &quot;_x&quot;], replace: [&quot;Multiply&quot;, 2, &quot;_x&quot;]}</code></li>
</ul>
<p>The <code>condition</code> property is optional, and is either a boxed function or a
JavaScript function. For example, to add a condition that checks that <code>_x</code> is
a number literal:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">match</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Add&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;_x&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;_x&quot;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token literal-property property" style="color:var(--base-0c)">replace</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Multiply&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;_x&quot;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token function-variable function" style="color:var(--base-0a)">condition</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter punctuation" style="color:var(--base-06)">{</span><span class="token parameter">_x</span><span class="token parameter punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> _x</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">isNumberLiteral</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong><code>CanonicalForm</code></strong></p>
<p>The <code>CanonicalOrder</code> function has been replaced by the more flexible
<code>CanonicalForm</code> function. The <code>CanonicalForm</code> function takes an expression and
a list of transformations to apply. To apply the same transformations as
<code>CanonicalOrder</code>, use:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token plain">&#x27;CanonicalForm&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> expr</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> &#x27;Order&#x27;</span><span class="token punctuation" style="color:var(--base-06)">]</span><br></span></code></pre></div></div>
<p>These canonical forms can also be specified with <code>box()</code> and <code>parse()</code>
options:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:var(--base-0c)">canonical</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;Order&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;x^2 + 2x + 1&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:var(--base-0c)">canonical</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;Order&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="work-in-progress">Work In Progress<a href="#work-in-progress" class="hash-link" aria-label="Direct link to Work In Progress" title="Direct link to Work In Progress" translate="no">​</a></h3><ul>
<li class="">Linear algebra functions: <code>Rank</code>, <code>Shape</code>,<code>Reshape</code>, <code>Flatten</code>, <code>Determinant</code>,
<code>Trace</code>, <code>Transpose</code>, <code>ConjugateTranspose</code>, <code>Inverse</code>. See the
<a class="" href="/compute-engine/reference/linear-algebra/">Linear Algebra</a> reference guide.
Some of these function may not yet return correct result in all cases.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-4">New Features<a href="#new-features-4" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features" translate="no">​</a></h3><ul>
<li class="">Added a <code>expr.print()</code> method as a synonym for <code>console.log(expr.toString())</code>.</li>
<li class="">Added an <code>exact</code> option (false by default) to the <code>expr.match()</code> pattern
matching method. When <code>true</code> some additional patterns are automatically
recognized, for example, <code>x</code> will match <code>[&quot;Multiply&quot;, &#x27;_a&#x27;, &#x27;x&#x27;]</code> when <code>exact</code>
is <code>false</code>, but not when <code>exact</code> is <code>true</code>.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-3">Improvements<a href="#improvements-3" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">The equation solver used by <code>expr.solve()</code> has been improved and can now solve
more equations.</li>
<li class="">The pattern matching engine has been improved and can now match more
expressions, including sequences for commutative functions.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0210-2023-11-02">0.21.0 <em>2023-11-02</em><a href="#0210-2023-11-02" class="hash-link" aria-label="Direct link to 0210-2023-11-02" title="Direct link to 0210-2023-11-02" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-5">New Features<a href="#new-features-5" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features" translate="no">​</a></h3><ul>
<li class="">
<p><strong>#125</strong> Parse and serialize environemnts, i.e.
<code>\begin{matrix} 1 &amp; 2 \\ 3 &amp; 4 \end{matrix}</code> will be parsed as
<code>[&quot;Matrix&quot;, [&quot;List&quot;, [&quot;List&quot;, 1, 2], [&quot;List&quot;, 3, 4]]]</code>.</p>
<p>A new section on
<a class="" href="/compute-engine/reference/linear-algebra/#formatting">Linear Algebra</a> has
some details on the supported formats.</p>
<p>The linear algebra operations are limited at the moment, but will be expanded
in the future.</p>
</li>
<li class="">
<p>Added <code>IsSame</code> function, which is the function expression corresponding to
<code>expr.isSame()</code>.</p>
</li>
<li class="">
<s>Added <code>CanonicalOrder</code> function, which sorts the arguments of commutative
functions into canonical order. This is useful to compare two non-canonical
expressions for equality.</s>
</li>
</ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;CanonicalOrder&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Add&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;x&quot;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">isSame</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;CanonicalOrder&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Add&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;x&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; true</span><br></span></code></pre></div></div><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issue-resolved">Issue Resolved<a href="#issue-resolved" class="hash-link" aria-label="Direct link to Issue Resolved" title="Direct link to Issue Resolved" translate="no">​</a></h3><ul>
<li class="">When evaluating a sum (<code>\sum</code>) with a bound that is not a number, return the
sum expression instead of an error.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0202-2023-10-31">0.20.2 <em>2023-10-31</em><a href="#0202-2023-10-31" class="hash-link" aria-label="Direct link to 0202-2023-10-31" title="Direct link to 0202-2023-10-31" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-9">Issues Resolved<a href="#issues-resolved-9" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">Fixed numerical evaluation of integrals and limits when parsed from LaTeX.</li>
</ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;\\lim_{x \\to 0} \\frac{\\sin(x)}{x}&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">value</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;\\int_{0}^{2} x^2 dx&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">value</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 2.6666666666666665</span><br></span></code></pre></div></div><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0201-2023-10-31">0.20.1 <em>2023-10-31</em><a href="#0201-2023-10-31" class="hash-link" aria-label="Direct link to 0201-2023-10-31" title="Direct link to 0201-2023-10-31" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-10">Issues Resolved<a href="#issues-resolved-10" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">Fixed evaluation of functions with multiple arguments</li>
<li class="">Fixed compilation of some function assignments</li>
<li class="">Improved serialization of function assignment</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0200-2023-10-30">0.20.0 <em>2023-10-30</em><a href="#0200-2023-10-30" class="hash-link" aria-label="Direct link to 0200-2023-10-30" title="Direct link to 0200-2023-10-30" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-5">Breaking Changes<a href="#breaking-changes-5" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">
<p><strong>Architectural changes</strong>: the invisible operator is used to represent the
multiplication of two adjacent symbols, i.e. <code>2x</code>. It was previously handled
during parsing, but it is now handled during canonicalization. This allows
more complex syntactic structures to be handled correctly, for example
<code>f(x) := 2x</code>: previously, the left-hand-side argument would have been parsed
as a function application, while in this case it should be interpreted as a
function definition.</p>
<p>A new <code>InvisibleOperator</code> function has been added to support this.</p>
<p>The <code>applyInvisibleOperator</code> parsing option has been removed. To support
custom invisible operators, use the <code>InvisibleOperator</code> function.</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-11">Issues Resolved<a href="#issues-resolved-11" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class=""><strong>#25</strong> Correctly parse chained relational operators, i.e. <code>a &lt; b &lt;= c</code></li>
<li class=""><strong>#126</strong> Logic operators only accepted up to two arguments.</li>
<li class=""><strong>#127</strong> Correctly compile <code>Log</code> with bases other than 10.</li>
<li class="">Correctly parse numbers with repeating patterns but no fractional digits, i.e.
<code>0.(1234)</code></li>
<li class="">Correctly parse <code>|1+|a|+2|</code></li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-and-improvements-5">New Features and Improvements<a href="#new-features-and-improvements-5" class="hash-link" aria-label="Direct link to New Features and Improvements" title="Direct link to New Features and Improvements" translate="no">​</a></h3><ul>
<li class="">Function assignment can now be done with this syntax: <code>f(x) := 2x+1</code>. This
syntax is equivalent to <code>f := x -&gt; 2x+1</code>.</li>
<li class="">Implement the <code>Mod</code> and <code>Congruent</code> function.</li>
<li class="">Correctly parse <code>11 \bmod 5</code> (<code>Mod</code>) and <code>26\equiv 11 \pmod5</code> (<code>Congruent</code>)</li>
<li class="">Better handle empty argument lists, i.e. <code>f()</code></li>
<li class="">When a function is used before being declared, infer that the symbol is a
function, e.g. <code>f(12)</code> will infer that <code>f</code> is a function (and not a variable
<code>f</code> multiplied by 12)</li>
<li class="">When a constant is followed by some parentheses, don&#x27;t assume this is a
function application, e.g. <code>\pi(3+n)</code> is now parsed as
<code>[&quot;Multiply&quot;, &quot;Pi&quot;, [&quot;Add&quot;, 3, &quot;n&quot;]]</code> instead of <code>[&quot;Pi&quot;, [&quot;Add&quot;, 3, &quot;n&quot;]]</code></li>
<li class="">Improved parsing of nested lists, sequences and sets.</li>
<li class="">Improved error messages when syntax errors are encountered during LaTeX
parsing.</li>
<li class="">When parsing with the canonical option set to false, preserve more closely the
original LaTeX syntax.</li>
<li class="">When parsing text strings, convert some LaTeX commands to Unicode, including
spacing commands. As a result, <code>ce.parse(&quot;\\text{dead\;beef}_{16}&quot;)</code> correctly
gets evaluated to 3,735,928,559.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0191-2023-10-26">0.19.1 <em>2023-10-26</em><a href="#0191-2023-10-26" class="hash-link" aria-label="Direct link to 0191-2023-10-26" title="Direct link to 0191-2023-10-26" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-12">Issues Resolved<a href="#issues-resolved-12" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">Assigning a function to an indentifier works correctly now, i.e.</li>
</ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;\\operatorname{f} := x \\mapsto 2x&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0190-2023-10-25">0.19.0 <em>2023-10-25</em><a href="#0190-2023-10-25" class="hash-link" aria-label="Direct link to 0190-2023-10-25" title="Direct link to 0190-2023-10-25" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-6">Breaking Changes<a href="#breaking-changes-6" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">The <code>domain</code> property of the function definition <code>signature</code> is deprecated and
replaced with the <code>params</code>, <code>optParams</code>, <code>restParam</code> and <code>result</code> properties
instead. The <code>domain</code> property is still supported for backward compatibility,
but will be removed in a future version.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-13">Issues Resolved<a href="#issues-resolved-13" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">When invoking a declared function in a numeric operation, correctly infer the
result type.</li>
</ul><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Assign&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;f&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Add&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;_&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Add&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;f&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 3</span><br></span></code></pre></div></div><p>Previously a domain error was returned, now <code>f</code> is inferred to have a numeric
return type.</p><ul>
<li class="">Fixed a runtime error when inverting a fraction, i.e. <code>\frac{3}{4}^{-1}</code></li>
<li class="">The tangent of π/2 now correctly returns <code>ComplexInfinity</code>.</li>
<li class="">The exact values of some constructible trigonometric operations (e.g.
<code>\tan 18\degree = \frac{\sqrt{25-10\sqrt5}}{5}</code>) returned incorrect results.
The unit test case was incorrect and did not detect the problem. The unit test
case has been fixed and the returned values are now correct.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-6">New Features<a href="#new-features-6" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features" translate="no">​</a></h3><ul>
<li class="">Implemented <code>Union</code> and <code>Intersection</code> of collections, for example:</li>
</ul><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Intersection&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;List&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">7</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;List&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">9</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [&quot;Set&quot;, 5]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Union&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;List&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">7</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;List&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">9</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [&quot;Set&quot;, 3, 5, 7, 2, 9]</span><br></span></code></pre></div></div><ul>
<li class="">
<p>Parse ranges, for example <code>1..5</code> or <code>1, 3..10</code>. Ranges are collections and can
be used anywhere collections can be used.</p>
</li>
<li class="">
<p>The functions <code>Sum</code>, <code>Product</code>, <code>Min</code>, <code>Max</code>, and the statistics functions
(<code>Mean</code>, <code>Median</code>, <code>Variance</code>, etc...) now handle collection arguments:
collections:</p>
<ul>
<li class=""><code>[&quot;Range&quot;]</code>, <code>[&quot;Interval&quot;]</code>, <code>[&quot;Linspace&quot;]</code> expressions</li>
<li class=""><code>[&quot;List&quot;]</code> or <code>[&quot;Set&quot;]</code> expressions</li>
<li class=""><code>[&quot;Tuple&quot;]</code>, <code>[&quot;Pair&quot;]</code>, <code>[&quot;Pair&quot;]</code>, <code>[&quot;Triple&quot;]</code> expressions</li>
<li class=""><code>[&quot;Sequence&quot;]</code> expressions</li>
</ul>
</li>
<li class="">
<p>Most mathematical functions are now threadable, that is their arguments can be
collections, for example:</p>
</li>
</ul><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Sin&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;List&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">0</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [&quot;List&quot;, 0, 0.8414709848078965, -0.9589242746631385]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Add&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;List&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;List&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">4</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [&quot;List&quot;, 4, 6]</span><br></span></code></pre></div></div><ul>
<li class="">Added <code>GCD</code> and <code>LCM</code> functions</li>
</ul><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;GCD&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">10</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">15</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 5</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;LCM&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">10</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">15</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 30</span><br></span></code></pre></div></div><ul>
<li class="">
<p>Added <code>Numerator</code>, <code>Denominator</code>, <code>NumeratorDenominator</code> functions. These
functions can be used on non-canonical expressions.</p>
</li>
<li class="">
<p>Added <code>Head</code> and <code>Tail</code> functions which can be used on non-canonical
expressions.</p>
</li>
<li class="">
<p>Added <code>display-quotient</code> and <code>inline-quotient</code> style for formatting of
division expressions in LaTeX.</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-4">Improvements<a href="#improvements-4" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">Improved parsing of <code>\degree</code> command</li>
</ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">&quot;</span><span class="token number" style="color:var(--base-09)">30</span><span class="token plain">\\degree</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [&quot;Divide&quot;, &quot;Pi&quot;, 6]</span><br></span></code></pre></div></div><ul>
<li class="">Improved interoperability with JavaScript: <code>expr.value</code> will return a
JavaScript primitive (<code>number</code>, <code>boolean</code>, <code>string</code>, etc...) when possible.
This is a more succinct version of <code>expr.N().valueOf()</code>.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0181-2023-10-16">0.18.1 <em>2023-10-16</em><a href="#0181-2023-10-16" class="hash-link" aria-label="Direct link to 0181-2023-10-16" title="Direct link to 0181-2023-10-16" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-14">Issues Resolved<a href="#issues-resolved-14" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">Parsing of whole numbers while in <code>rational</code> mode would return incorrect
results.</li>
<li class="">The <code>ND</code> function to evaluate derivatives numerically now return correct
values.</li>
</ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;\\mathrm{ND}(x \\mapsto 3x^2+5x+7, 2)&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token constant" style="color:var(--base-09)">N</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 17.000000000001</span><br></span></code></pre></div></div><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-5">Improvements<a href="#improvements-5" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">Speed up <code>NIntegrate</code> by temporarily switching the numeric mode to <code>machine</code>
while computing the Monte Carlo approximation.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0180-2023-10-16">0.18.0 <em>2023-10-16</em><a href="#0180-2023-10-16" class="hash-link" aria-label="Direct link to 0180-2023-10-16" title="Direct link to 0180-2023-10-16" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-7">New Features<a href="#new-features-7" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features" translate="no">​</a></h3><ul>
<li class="">Expanded LaTeX dictionary with <code>\max</code>, <code>\min</code>, <code>\sup</code>, <code>\inf</code> and <code>\lim</code>
functions</li>
<li class="">Added <code>Supremum</code> and <code>Infimum</code> functions</li>
<li class="">Compilation of <code>Block</code> expressions, local variables, return statements and
conditionals <code>If</code>.</li>
<li class="">Added numerical evaluation of limits with <code>Limit</code> functions and <code>NLimit</code>
functions, using a Richardson Extrapolation.</li>
</ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;\\lim_{x\\to0} \\frac{\\sin x}{x}&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token constant" style="color:var(--base-09)">N</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">json</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;NLimit&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Divide&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Sin&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;_&quot;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;_&quot;</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">0</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">json</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">info</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&quot;\\lim_{x\\to \\infty} \\cos \\frac{1}{x}&quot;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token constant" style="color:var(--base-09)">N</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">json</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 1</span><br></span></code></pre></div></div><ul>
<li class="">
<p>Added <code>Assign</code> and <code>Declare</code> functions to assign values to symbols and declare
symbols with a domain.</p>
</li>
<li class="">
<p><code>Block</code> evaluations with local variables work now. For example:</p>
</li>
</ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Block&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Assign&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;c&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Multiply&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;c&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">json</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 10</span><br></span></code></pre></div></div><ul>
<li class="">
<p>When decimal numbers are parsed they are interpreted as inexact numbers by
default, i.e. &quot;1.2&quot; -&gt; <code>{num: &quot;1.2&quot;}</code>. To force the number to be interpreted
as a rational number, set <code>ce.latexOptions.parseNumbers = &quot;rational&quot;</code>. In that
case, &quot;1.2&quot; -&gt; <code>[&quot;Rational&quot;, 12, 10]</code>, an exact number.</p>
<p>While regular decimals are considered &quot;inexact&quot; numbers (i.e. they are assumed
to be an approximation), rationals are assumed to be exact. In most cases, the
safest thing to do is to consider decimal numbers as inexact to avoid
introducing errors in calculations. If you know that the decimal numbers you
parse are exact, you can use this option to consider them as exact numbers.</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-6">Improvements<a href="#improvements-6" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">LaTeX parser: empty superscripts are now ignored, e.g. <code>4^{}</code> is interpreted
as <code>4</code>.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0170-2023-10-12">0.17.0 <em>2023-10-12</em><a href="#0170-2023-10-12" class="hash-link" aria-label="Direct link to 0170-2023-10-12" title="Direct link to 0170-2023-10-12" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-7">Breaking Changes<a href="#breaking-changes-7" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">The <code>Nothing</code> domain has been renamed to <code>NothingDomain</code></li>
<li class="">The <code>Functions</code>, <code>Maybe</code>, <code>Sequence</code>, <code>Dictionary</code>, <code>List</code> and <code>Tuple</code> domain
constructors have been renamed to <code>FunctionOf</code>, <code>OptArg</code>, <code>VarArg</code>,
<code>DictionaryOf</code>, <code>ListOf</code> and <code>TupleOf</code>, respectively.</li>
<li class="">Domains no longer require a <code>[&quot;Domain&quot;]</code> expression wrapper, so for example
<code>ce.box(&quot;Pi&quot;).domain</code> returns <code>&quot;TranscendentalNumbers&quot;</code> instead of
<code>[&quot;Domain&quot;, &quot;TranscendentalNumbers&quot;]</code>.</li>
<li class="">The <code>VarArg</code> domain constructor now indicates the presence of 0 or more
arguments, instead of 1 or more arguments.</li>
<li class="">The <code>MaybeBooleans</code> domain has been dropped. Use
<code>[&quot;Union&quot;, &quot;Booleans&quot;, &quot;NothingDomain&quot;]</code> instead.</li>
<li class="">The <code>ce.defaultDomain</code> has been dropped. The domain of a symbol is now
determined by the context in which it is used, or by the <code>ce.assume()</code> method.
In some circumstances, the domain of a symbol can be <code>undefined</code>.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-8">New Features<a href="#new-features-8" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features" translate="no">​</a></h3><ul>
<li class="">Symbolic derivatives of expressions can be calculated using the <code>D</code> function.
For example, <code>ce.box([&quot;D&quot;, ce.parse(&quot;x^2 + 3x + 1&quot;), &quot;x&quot;]).evaluate().latex</code>
returns <code>&quot;2x + 3&quot;</code>.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-7">Improvements<a href="#improvements-7" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">Some frequently used expressions are now available as predefined constants,
for example <code>ce.Pi</code>, <code>ce.True</code> and <code>ce.Numbers</code>.</li>
<li class="">Improved type checking and inference, especially for functions with
complicated or non-numeric signatures.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bugs-fixed">Bugs Fixed<a href="#bugs-fixed" class="hash-link" aria-label="Direct link to Bugs Fixed" title="Direct link to Bugs Fixed" translate="no">​</a></h3><ul>
<li class="">Invoking a function repeatedly would invoke the function in the original scope
rather than using a new scope for each invocation.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0160-2023-09-29">0.16.0 <em>2023-09-29</em><a href="#0160-2023-09-29" class="hash-link" aria-label="Direct link to 0160-2023-09-29" title="Direct link to 0160-2023-09-29" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-8">Breaking Changes<a href="#breaking-changes-8" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">The methods <code>ce.let()</code> and <code>ce.set()</code> have been renamed to <code>ce.declare()</code> and
<code>ce.assign()</code> respectively.</li>
<li class="">The method <code>ce.assume()</code> requires a predicate.</li>
<li class="">The signatures of <code>ce.assume()</code> and <code>ce.ask()</code> have been simplified.</li>
<li class="">The signature of <code>ce.pushScope()</code> has been simplified.</li>
<li class="">The <code>expr.freeVars</code> property has been renamed to <code>expr.unknowns</code>. It returns
the identifiers used in the expression that do not have a value associated
with them. The <code>expr.freeVariables</code> property now return the identifiers used
in the expression that are defined outside of the local scope and are not
arguments of the function, if a function.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-9">New Features<a href="#new-features-9" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features" translate="no">​</a></h3><ul>
<li class="">
<p><strong>Domain Inference</strong> when the domain of a symbol is not set explicitly (for
example with <code>ce.declare()</code>), the domain is inferred from the value of the
symbol or from the context of its usage.</p>
</li>
<li class="">
<p>Added <code>Assume</code>, <code>Identity</code>, <code>Which</code>, <code>Parse</code>, <code>N</code>, <code>Evaluate</code>, <code>Simplify</code>,
<code>Domain</code>.</p>
</li>
<li class="">
<p>Assignments in LaTeX: <code>x \\coloneq 42</code> produce <code>[&quot;Assign&quot;, &quot;x&quot;, 42]</code></p>
</li>
<li class="">
<p>Added <code>ErfInv</code> (inverse error function)</p>
</li>
<li class="">
<p>Added <code>Factorial2</code> (double factorial)</p>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions" translate="no">​</a></h4><ul>
<li class="">
<p>Functions can now be defined:</p>
<ul>
<li class="">using <code>ce.assign()</code> or <code>ce.declare()</code></li>
<li class="">evaluating LaTeX: <code>(x, y) \mapsto x^2 + y^2</code></li>
<li class="">evaluating MathJSON:
<code>[&quot;Function&quot;, [&quot;Add&quot;, [&quot;Power&quot;, &quot;x&quot;, 2], [&quot;Power&quot;, &quot;y&quot;, 2]]], &quot;x&quot;, &quot;y&quot;]</code></li>
</ul>
</li>
<li class="">
<p>Function can be applied using <code>\operatorname{apply}</code> or the operators <code>\rhd</code>
and <code>\lhd</code>:</p>
<ul>
<li class=""><code>\operatorname{apply}(f, x)</code></li>
<li class=""><code>f \rhd x</code></li>
<li class=""><code>x \lhd f</code></li>
</ul>
</li>
</ul><p>See
<a href="https://cortexjs.io/compute-engine/guides/augmenting/" target="_blank" rel="noopener noreferrer" class="">Adding New Definitions</a>
and <a href="https://cortexjs.io/compute-engine/reference/functions/" target="_blank" rel="noopener noreferrer" class="">Functions</a>.</p><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="control-structures">Control Structures<a href="#control-structures" class="hash-link" aria-label="Direct link to Control Structures" title="Direct link to Control Structures" translate="no">​</a></h4><ul>
<li class="">Added <code>FixedPoint</code>, <code>Block</code>, <code>If</code>, <code>Loop</code></li>
<li class="">Added <code>Break</code>, <code>Continue</code> and <code>Return</code> statements</li>
</ul><p>See
<a href="https://cortexjs.io/compute-engine/reference/control-structures/" target="_blank" rel="noopener noreferrer" class="">Control Structures</a></p><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="calculus-7">Calculus<a href="#calculus-7" class="hash-link" aria-label="Direct link to Calculus" title="Direct link to Calculus" translate="no">​</a></h4><ul>
<li class="">Added numeric approximation of derivatives, using an 8-th order centered
difference approximation, with the <code>ND</code> function.</li>
<li class="">Added numeric approximation of integrals, using a Monte Carlo method with
rebasing for improper integrals, with the <code>NIntegrate</code> function</li>
<li class="">Added symbolic calculation of derivatives with the <code>D</code> function.</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="collections">Collections<a href="#collections" class="hash-link" aria-label="Direct link to Collections" title="Direct link to Collections" translate="no">​</a></h4><p>Added support for <strong>collections</strong> such as lists, tuples, ranges, etc...</p><p>See <a href="https://cortexjs.io/compute-engine/reference/collections/" target="_blank" rel="noopener noreferrer" class="">Collections</a></p><p>Collections can be used to represent various data structures, such as lists,
vectors, matrixes and more.</p><p>They can be iterated, sliced, filtered, mapped, etc...</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Length&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;List&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">19</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">23</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">5</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;IsEmpty&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Range&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">10</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; &quot;False&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Take&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Linspace&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">0</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">100</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">50</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">4</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [&quot;List&quot;, 0, 2, 4, 6]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Map&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;List&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">1</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">3</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Function&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;x&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Power&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;x&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [&quot;List&quot;, 1, 4, 9]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Exclude&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;List&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">33</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">45</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">12</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">89</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">65</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">-2</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; [&quot;List&quot;, 33, 12, 65]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;First&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;List&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">33</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">45</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">12</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">89</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">65</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 33</span><br></span></code></pre></div></div><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-8">Improvements<a href="#improvements-8" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">The <a href="https://cortexjs.io/compute-engine/" target="_blank" rel="noopener noreferrer" class="">documentation</a> has been
significantly rewritten with help from an AI-powered writing assistant.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-15">Issues Resolved<a href="#issues-resolved-15" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">The LaTeX string returned in <code>[&quot;Error&quot;]</code> expression was incorrectly tagged as
<code>Latex</code> instead of <code>LatexString</code>.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0150-2023-09-14">0.15.0 <em>2023-09-14</em><a href="#0150-2023-09-14" class="hash-link" aria-label="Direct link to 0150-2023-09-14" title="Direct link to 0150-2023-09-14" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-9">Improvements<a href="#improvements-9" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">The <code>ce.serialize()</code> function now takes an optional <code>canonical</code> argument. Set
it to <code>false</code> to prevent some transformations that are done to produce more
readable LaTeX, but that may not match exactly the MathJSON. For example, by
default <code>ce.serialize([&quot;Power&quot;, &quot;x&quot;, -1])</code> returns <code>\frac{1}{x}</code> while
<code>ce.serialize([&quot;Power&quot;, &quot;x&quot;, -1], {canonical: false})</code> returns <code>x^{-1}</code>.</li>
<li class="">Improved parsing of delimiters, i.e. <code>\left(</code>, <code>\right]</code>, etc...</li>
<li class="">Added complex functions <code>Real</code>, <code>Imaginary</code>, <code>Arg</code>, <code>Conjugate</code>, <code>AbsArg</code>. See
<a href="https://cortexjs.io/compute-engine/reference/complex/" target="_blank" rel="noopener noreferrer" class="">Complex</a></li>
<li class="">Added parsing and evaluation of <code>\Re</code>, <code>\Im</code>, <code>\arg</code>, <code>^\star</code> (Conjugate).</li>
<li class=""><strong>#104</strong> Added the <code>[&quot;ComplexRoots&quot;, x, n]</code> function which returns the nthroot
of <code>x</code>.</li>
<li class="">Added parsing and evaluation of statistics functions <code>Mean</code>, <code>Median</code>,
<code>StandardDeviation</code>, <code>Variance</code>, <code>Skewness</code>, <code>Kurtosis</code>, <code>Quantile</code>,
<code>Quartiles</code>, <code>InterquartileRange</code>, <code>Mode</code>, <code>Count</code>, <code>Erf</code>, <code>Erfc</code>. See
<a href="https://cortexjs.io/compute-engine/reference/statistics/" target="_blank" rel="noopener noreferrer" class="">Statistics</a></li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0140-2023-09-13">0.14.0 <em>2023-09-13</em><a href="#0140-2023-09-13" class="hash-link" aria-label="Direct link to 0140-2023-09-13" title="Direct link to 0140-2023-09-13" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-9">Breaking Changes<a href="#breaking-changes-9" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">The entries in the LaTeX syntax dictionary can now have LaTeX triggers
(<code>latexTrigger</code>) or triggers based on identifiers (<code>symbolTrigger</code>). The
former replaces the <code>trigger</code> property. The latter is new. An entry with a
<code>triggerIdentifier</code> of <code>average</code> will match <code>\operatorname{average}</code>,
<code>\mathrm{average}</code> and other variants.</li>
<li class="">The <code>ce.latexOptions</code> and <code>ce.jsonSerializationOptions</code> properties are more
robust. They can be modified directly or one of their properties can be
modified.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-10">Improvements<a href="#improvements-10" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">
<p>Added more functions and symbols supported by <code>expr.compile()</code>:</p>
<ul>
<li class=""><code>Factorial</code> postfix operator <code>5!</code></li>
<li class=""><code>Gamma</code> function <code>\Gamma(2)</code></li>
<li class=""><code>LogGamma</code> function <code>\operatorname{LogGamma}(2)</code></li>
<li class=""><code>Gcd</code> function <code>\operatorname{gcd}(20, 5)</code></li>
<li class=""><code>Lcm</code> function <code>\operatorname{lcm}(20, 5)</code></li>
<li class=""><code>Chop</code> function <code>\operatorname{chop}(0.00000000001)</code></li>
<li class=""><code>Half</code> constant <code>\frac{1}{2}</code></li>
<li class="">&#x27;MachineEpsilon&#x27; constant</li>
<li class=""><code>GoldenRatio</code> constant</li>
<li class=""><code>CatalanConstant</code> constant</li>
<li class=""><code>EulerGamma</code> constant <code>\gamma</code></li>
<li class=""><code>Max</code> function <code>\operatorname{max}(1, 2, 3)</code></li>
<li class=""><code>Min</code> function <code>\operatorname{min}(13, 5, 7)</code></li>
<li class="">Relational operators: <code>Less</code>, <code>Greater</code>, <code>LessEqual</code>, <code>GreaterEqual</code>,
&#x27;Equal&#x27;, &#x27;NotEqual&#x27;</li>
<li class="">Some logical operators and constants: <code>And</code>, <code>Or</code>, <code>Not</code>, <code>True</code>, <code>False</code></li>
</ul>
</li>
<li class="">
<p>More complex identifiers syntax are recognized, including <code>\mathbin{}</code>,
<code>\mathord{}</code>, etc... <code>\operatorname{}</code> is the recommended syntax, though: it
will display the identifier in upright font and with the propert spacing, and
is properly enclosing. Some commands, such as <code>\mathrm{}</code> are not properly
enclosing: two adjacent <code>\mathrm{}</code> command could be merged into one.</p>
</li>
<li class="">
<p>Environments are now parsed and serialized correctly.</p>
</li>
<li class="">
<p>When parsing LaTeX, function application is properly handled in more cases,
including custom functions, e.g. <code>f(x)</code></p>
</li>
<li class="">
<p>When parsing LaTeX, multiple arguments are properly handled, e.g. <code>f(x, y)</code></p>
</li>
<li class="">
<p>Add LaTeX syntax for logical operators:</p>
<ul>
<li class=""><code>And</code>: <code>\land</code>, <code>\operatorname{and}</code> (infix or function)</li>
<li class=""><code>Or</code>: <code>\lor</code>, <code>\operatorname{or}</code> (infix or function)</li>
<li class=""><code>Not</code>: <code>\lnot</code>, <code>\operatorname{not}</code> (prefix or function)</li>
<li class=""><code>Xor</code>: <code>\veebar</code> (infix)</li>
<li class=""><code>Nand</code>: <code>\barwedge</code> (infix)</li>
<li class=""><code>Nor</code>: <code>^^^^22BD</code> (infix)</li>
<li class=""><code>Implies</code>: <code>\implies</code> (infix)</li>
<li class=""><code>Equivalent</code>: <code>\iff</code> (infix)</li>
</ul>
</li>
<li class="">
<p>When a postfix operator is defined in the LaTeX syntax dictionary of the form
<code>^</code> plus a single token, a definition with braces is added automatically so
that both forms will be recognized.</p>
</li>
<li class="">
<p>Extended the LaTeX dictionary with:</p>
<ul>
<li class=""><code>floor</code></li>
<li class=""><code>ceil</code></li>
<li class=""><code>round</code></li>
<li class=""><code>sgn</code></li>
<li class=""><code>exp</code></li>
<li class=""><code>abs</code></li>
<li class=""><code>gcd</code></li>
<li class=""><code>lcm</code></li>
<li class=""><code>apply</code></li>
</ul>
</li>
<li class="">
<p>Properly handle inverse and derivate notations, e.g. <code>\sin^{-1}(x)</code>,
<code>\sin&#x27;(x)</code>, <code>\cos&#x27;&#x27;(x)</code>, \cos^<!-- -->4<!-- -->(x)<code>or even</code>\sin^<!-- -->-1<!-- -->&#x27;&#x27;(x)`</p>
</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0130-2023-09-09">0.13.0 <em>2023-09-09</em><a href="#0130-2023-09-09" class="hash-link" aria-label="Direct link to 0130-2023-09-09" title="Direct link to 0130-2023-09-09" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-10">New Features<a href="#new-features-10" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features" translate="no">​</a></h3><ul>
<li class=""><strong>Compilation</strong> Some expressions can be compiled to Javascript. This is useful
to evaluate an expression many times, for example in a loop. The compiled
expression is faster to evaluate than the original expression. To get the
compiled expression, use <code>expr.compile()</code>. Read more at
<a href="https://cortexjs.io/compute-engine/guides/compiling" target="_blank" rel="noopener noreferrer" class="">Compiling</a></li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-and-improvements">Issues Resolved and Improvements<a href="#issues-resolved-and-improvements" class="hash-link" aria-label="Direct link to Issues Resolved and Improvements" title="Direct link to Issues Resolved and Improvements" translate="no">​</a></h3><ul>
<li class="">Fixed parsing and serialization of extended LaTeX synonyms for <code>e</code> and <code>i</code>.</li>
<li class="">Fixed serialization of <code>Half</code>.</li>
<li class="">Fixed serialization of <code>Which</code></li>
<li class="">Improved serialization of <code>[&quot;Delimiter&quot;]</code> expressions.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0127-2023-09-08">0.12.7 <em>2023-09-08</em><a href="#0127-2023-09-08" class="hash-link" aria-label="Direct link to 0127-2023-09-08" title="Direct link to 0127-2023-09-08" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-11">Improvements<a href="#improvements-11" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">Made customization of the LaTeX dictionary simpler. The <code>ce.latexDictionary</code>
property can be used to access and modify the dictionary. The
<a href="https://cortexjs.io/compute-engine/guides/latex-syntax/#customizing-the-latex-dictionary" target="_blank" rel="noopener noreferrer" class="">documentation</a>
has been updated.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0126-2023-09-08">0.12.6 <em>2023-09-08</em><a href="#0126-2023-09-08" class="hash-link" aria-label="Direct link to 0126-2023-09-08" title="Direct link to 0126-2023-09-08" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-10">Breaking Changes<a href="#breaking-changes-10" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">New API for the <code>Parser</code> class.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-and-bux-fixes">Improvements and Bux Fixes<a href="#improvements-and-bux-fixes" class="hash-link" aria-label="Direct link to Improvements and Bux Fixes" title="Direct link to Improvements and Bux Fixes" translate="no">​</a></h3><ul>
<li class="">The <code>ComputeEngine</code> now exports the <code>bignum()</code> and <code>complex()</code> methods that
can be used to create bignum and complex numbers from strings or numbers. The
methods <code>isBigNum()</code> and <code>isComplex()</code> have also been added to check if a
value is a bignum (<code>Decimal</code>) or complex (<code>Complex</code>) number, for example as
returned by <code>expr.numericValue</code>.</li>
<li class=""><strong>#69</strong> <code>\leq</code> was incorrectly parsed as <code>Equals</code> instead of <code>LessEqual</code></li>
<li class=""><strong>#94</strong> The <code>\exp</code> command was not parsed correctly.</li>
<li class="">Handle <code>PlusMinus</code> in infix and prefix position, i.e. <code>a\pm b</code> and <code>\pm a</code>.</li>
<li class="">Improved parsing, serialization</li>
<li class="">Improved simplification</li>
<li class="">Improved evaluation of <code>Sum</code> and <code>Product</code></li>
<li class="">Support complex identifiers (i.e. non-latin scripts, emojis).</li>
<li class="">Fixed serialization of mixed numbers.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0121-2022-12-01">0.12.1 <em>2022-12-01</em><a href="#0121-2022-12-01" class="hash-link" aria-label="Direct link to 0121-2022-12-01" title="Direct link to 0121-2022-12-01" translate="no">​</a></h2><p>Work around unpckg.com issue with libraries using BigInt.</p><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0120-2022-11-27">0.12.0 <em>2022-11-27</em><a href="#0120-2022-11-27" class="hash-link" aria-label="Direct link to 0120-2022-11-27" title="Direct link to 0120-2022-11-27" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-11">Breaking Changes<a href="#breaking-changes-11" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">The <code>expr.symbols</code> property return an array of <code>string</code>. Previously it
returned an array of <code>BoxedExpression</code>.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-12">Improvements<a href="#improvements-12" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">Rewrote the rational computation engine to use JavaScript <code>bigint</code> instead of
<code>Decimal</code> instances. Performance improvements of up to 100x.</li>
<li class=""><code>expr.freeVars</code> provides the free variables in an expression.</li>
<li class="">Improved performance of prime factorization of big num by x100.</li>
<li class="">Added <code>[&quot;RandomExpression&quot;]</code></li>
<li class="">Improved accuracy of some operations, for example
<code>expr.parse(&quot;1e999 + 1&quot;).simplify()</code></li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-16">Issues Resolved<a href="#issues-resolved-16" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">When <code>ce.numericMode === &quot;auto&quot;</code>, square roots of negative numbers would
return an expression instead of a complex number.</li>
<li class="">The formatting of LaTeX numbers when using
<code>ce.latexOptions.notation = &quot;engineering&quot;</code> or <code>&quot;scientific&quot;</code> was incorrect.</li>
<li class="">The trig functions no longer &quot;simplify&quot; to the less simple exponential
formulas.</li>
<li class="">The canonical order of polynomials now orders non-lexicographic terms of
degree 1 last, i.e. &quot;ax^2+ bx+ c&quot; instead of &quot;x + ax^2 + bx&quot;.</li>
<li class="">Fixed evaluation of inverse functions</li>
<li class="">Fixed <code>expr.isLess</code>, <code>expr.isGreater</code>, <code>expr.isLessEqual</code>,
<code>expr.isGreaterEqual</code> and <code>[&quot;Min&quot;]</code>, <code>[&quot;Max&quot;]</code></li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0110-2022-11-18">0.11.0 <em>2022-11-18</em><a href="#0110-2022-11-18" class="hash-link" aria-label="Direct link to 0110-2022-11-18" title="Direct link to 0110-2022-11-18" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-12">Breaking Changes<a href="#breaking-changes-12" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">The signature of <code>ce.defineSymbol()</code>, <code>ce.defineFunction()</code> and
<code>ce.pushScope()</code> have changed</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-13">Improvements<a href="#improvements-13" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">When a constant should be held or substituted with its value can now be more
precisely controlled. The <code>hold</code> symbol attribute is now <code>holdUntil</code> and can
specify at which stage the substitution should take place.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-17">Issues Resolved<a href="#issues-resolved-17" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">Some constants would return a value as bignum or complex even when the
<code>numericMode</code> did not allow it.</li>
<li class="">Changing the value or domain of a symbol is now correctly taken into account.
Changes can be made with <code>ce.assume()</code>, <code>ce.set()</code> or <code>expr.value</code>.</li>
<li class="">When a symbol does not have a value associated with it, assumptions about it
(e.g. &quot;x &gt; 0&quot;) are now correctly tracked and reflected.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="0100-2022-11-17">0.10.0 <em>2022-11-17</em><a href="#0100-2022-11-17" class="hash-link" aria-label="Direct link to 0100-2022-11-17" title="Direct link to 0100-2022-11-17" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-13">Breaking Changes<a href="#breaking-changes-13" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class=""><code>expr.isLiteral</code> has been removed. Use <code>expr.numericValue !== null</code> and
<code>expr.string !== null</code> instead.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issues-resolved-18">Issues Resolved<a href="#issues-resolved-18" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved" translate="no">​</a></h3><ul>
<li class="">Calling <code>ce.forget()</code> would not affect expressions that previously referenced
the symbol.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-14">Improvements<a href="#improvements-14" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">More accurate calculations of some trig functions when using bignums.</li>
<li class="">Improved performance when changing a value with <code>ce.set()</code>. Up to 10x faster
when evaluating a simple polynomial in a loop.</li>
<li class=""><code>ce.strict</code> can be set to <code>false</code> to bypass some domain and validity checks.</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="090-2022-11-15">0.9.0 <em>2022-11-15</em><a href="#090-2022-11-15" class="hash-link" aria-label="Direct link to 090-2022-11-15" title="Direct link to 090-2022-11-15" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-14">Breaking Changes<a href="#breaking-changes-14" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">The head of a number expression is always <code>Number</code>. Use <code>expr.domain</code> to be
get more specific info about what kind of number this is.</li>
<li class="">By default, <code>ce.box()</code> and <code>ce.parse()</code> return a canonical expression. A flag
can be used if a non-canonical expression is desired.</li>
<li class="">The API surface of <code>BoxedExpression</code> has been reduced. The properties
<code>machineValue</code>, <code>bignumValue</code>, <code>asFloat</code>, <code>asSmallInteger</code>, <code>asRational</code>
etc... have been replaced with a single <code>numericValue</code> property.</li>
<li class=""><code>parseUnknownSymbol</code> is now <code>parseUnknownIdentifier</code></li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-15">Improvements<a href="#improvements-15" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">
<p>Support angles in degrees with <code>30\degree</code>, <code>30^\circ</code> and <code>\ang{30}</code>.</p>
</li>
<li class="">
<p>More accurate error expressions, for example if there is a missing closing
delimiter an <code>[&quot;Error&quot;, [&quot;ErrorCode&quot;, &quot;&#x27;expected-closing-delimiter&#x27;&quot;, &quot;&#x27;)&#x27;&quot;]]</code>
is produced.</p>
</li>
<li class="">
<p><code>[&quot;Expand&quot;]</code> handles more cases</p>
</li>
<li class="">
<p>The trig functions can now have a regular exponent, i.e.<code>\cos^2(x)</code> in
addition to <code>-1</code> for inverse, and a combination of <code>\prime</code>, <code>\doubleprime</code>
and <code>&#x27;</code> for derivatives.</p>
</li>
<li class="">
<p><code>ce.assume()</code> handle more expressions and can be used to define new symbols by
domain or value.</p>
</li>
<li class="">
<p>Better error message when parsing, e.g. <code>\sqrt(2)</code> (instead of <code>\sqrt{2}</code>)</p>
</li>
<li class="">
<p>Better simplification for square root expressions:</p>
<ul>
<li class=""><code>\sqrt{25x^2}</code> -&gt; <code>5x</code></li>
</ul>
</li>
<li class="">
<p>Improved evaluation of <code>[&quot;Power&quot;]</code> expressions, including for negative
arguments and non-integer exponents and complex arguments and exponents.</p>
</li>
<li class="">
<p>Added <code>Arccot</code>, <code>Arcoth</code>, <code>Arcsch</code>, <code>Arcscc</code>, <code>Arsech</code> and <code>Arccsc</code></p>
</li>
<li class="">
<p><code>expr.solve()</code> returns result for polynomials of order up to 2.</p>
</li>
<li class="">
<p>The <code>pattern.match()</code> function now work correctly for commutative functions,
i.e. <code>ce.pattern([&#x27;Add&#x27;, &#x27;_a&#x27;, &#x27;x&#x27;]).match(ce.parse(&#x27;x+y&#x27;)) -&gt; {&quot;_a&quot;: &quot;y&quot;}</code></p>
</li>
<li class="">
<p>Added <code>ce.let()</code> and <code>ce.set()</code> to declare and assign values to identifiers.</p>
</li>
<li class="">
<p>Preserve exact calculations involving rationals or square root of rationals.</p>
<ul>
<li class=""><code>\sqrt{\frac{49}{25}}</code> -&gt; <code>\frac{7}{5}</code></li>
</ul>
</li>
<li class="">
<p>Addition and multiplication provide more consistent results for <code>evaluate()</code>
and <code>N()</code>. Evaluate returns an exact result when possible.</p>
<ul>
<li class="">EXACT<!-- -->
<ul>
<li class="">2 + 5 -&gt; 7</li>
<li class="">2 + 5/7 -&gt; 19/7</li>
<li class="">2 + √2 -&gt; 2 + √2</li>
<li class="">2 + √(5/7) -&gt; 2 + √(5/7)</li>
<li class="">5/7 + 9/11 -&gt; 118/77</li>
<li class="">5/7 + √2 -&gt; 5/7 + √2</li>
<li class="">10/14 + √(18/9) -&gt; 5/7 + √2</li>
<li class="">√2 + √5 -&gt; √2 + √5</li>
<li class="">√2 + √2 -&gt; 2√2</li>
<li class="">sin(2) -&gt; sin(2)</li>
<li class="">sin(π/3) -&gt; √3/2</li>
</ul>
</li>
<li class="">APPROXIMATE<!-- -->
<ul>
<li class="">2 + 2.1 -&gt; 4.1</li>
<li class="">2 + √2.1 -&gt; 3.44914</li>
<li class="">5/7 + √2.1 -&gt; 2.16342</li>
<li class="">sin(2) + √2.1 -&gt; 2.35844</li>
</ul>
</li>
</ul>
</li>
<li class="">
<p>More consistent behavior of the <code>auto</code> numeric mode: calculations are done
with <code>bignum</code> and <code>complex</code> in most cases.</p>
</li>
<li class="">
<p><code>JsonSerializationOptions</code> has a new option to specify the numeric precision
in the MathJSON serialization.</p>
</li>
<li class="">
<p>Shorthand numbers can now be strings if they do not fit in a float-64:</p>
</li>
</ul><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token comment" style="color:var(--base-05)">// Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Rational&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token property" style="color:var(--base-0c)">&quot;num&quot;</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;1234567890123456789&quot;</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token property" style="color:var(--base-0c)">&quot;num&quot;</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;2345678901234567889&quot;</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// Now</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Rational&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;1234567890123456789&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;2345678901234567889&quot;</span><span class="token punctuation" style="color:var(--base-06)">]</span><br></span></code></pre></div></div><ul>
<li class=""><code>\sum</code> is now correctly parsed and evaluated. This includes creating a local
scope with the index and expression value of the sum.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bugs-fixed-1">Bugs Fixed<a href="#bugs-fixed-1" class="hash-link" aria-label="Direct link to Bugs Fixed" title="Direct link to Bugs Fixed" translate="no">​</a></h3><ul>
<li class="">The parsing and evaluation of log functions could produce unexpected results</li>
<li class="">The <code>\gamma</code> command now correctly maps to <code>[&quot;Gamma&quot;]</code></li>
<li class="">Fixed numeric evaluation of the <code>[&quot;Gamma&quot;]</code> function when using bignum</li>
<li class=""><strong>#57</strong> Substituting <code>0</code> (i.e. with <code>expr.subs({})</code>) did not work.</li>
<li class=""><strong>#60</strong> Correctly parse multi-char symbols with underscore, i.e.
<code>\mathrm{V_a}</code></li>
<li class="">Parsing a number with repeating decimals and an exponent would drop the
exponent.</li>
<li class="">Correct calculation of complex square roots<!-- -->
<ul>
<li class=""><code>\sqrt{-49}</code> -&gt; <code>7i</code></li>
</ul>
</li>
<li class="">Calculations were not always performed as bignum in <code>&quot;auto&quot;</code> numeric mode if
the precision was less than 15. Now, if the numeric mode is <code>&quot;auto&quot;</code>,
calculations are done as bignum or complex numbers.</li>
<li class="">If an identifier contained multiple strings of digits, it would not be
rendered to LaTeX correctly, e.g. <code>V20_20</code>.</li>
<li class="">Correctly return <code>isReal</code> for real numbers</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="080-2022-10-02">0.8.0 <em>2022-10-02</em><a href="#080-2022-10-02" class="hash-link" aria-label="Direct link to 080-2022-10-02" title="Direct link to 080-2022-10-02" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-15">Breaking Changes<a href="#breaking-changes-15" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">
<p>Corrected the implementation of <code>expr.toJSON()</code>, <code>expr.valueOf()</code> and added
the esoteric <code>[Symbol.toPrimitive]()</code> method. These are used by JavaScript
when interacting with other primitive types. A major change is that
<code>expr.toJSON()</code> now returns an <code>Expression</code> as an object literal, and not a
string serialization of the <code>Expression</code>.</p>
</li>
<li class="">
<p>Changed from &quot;decimal&quot; to &quot;bignum&quot;. &quot;Decimal&quot; is a confusing name, since it is
used to represent both integers and floating point numbers. Its key
characteristic is that it is an arbitrary precision number, aka &quot;bignum&quot;. This
affects <code>ce.numericMode</code> which now uses <code>bignum</code> instead of
<code>decimal&#x27;, </code>expr.decimalValue<code>-&gt;</code>expr.bignumValue<code>, </code>decimalValue()<code>-&gt; </code>bignumValue()`</p>
</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bugs-fixed-2">Bugs Fixed<a href="#bugs-fixed-2" class="hash-link" aria-label="Direct link to Bugs Fixed" title="Direct link to Bugs Fixed" translate="no">​</a></h3><ul>
<li class="">Numerical evaluation of expressions containing complex numbers when in
<code>decimal</code> or <code>auto</code> mode produced incorrect results. Example: <code>e^{i\\pi}</code></li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="070-2022-09-30">0.7.0 <em>2022-09-30</em><a href="#070-2022-09-30" class="hash-link" aria-label="Direct link to 070-2022-09-30" title="Direct link to 070-2022-09-30" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes-16">Breaking Changes<a href="#breaking-changes-16" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">​</a></h3><ul>
<li class="">The <code>ce.latexOptions.preserveLatex</code> default value is now <code>false</code></li>
<li class="">The first argument of the <code>[&quot;Error&quot;]</code> expression (default value) has been
dropped. The first argument is now an error code, either as a string or an
<code>[&quot;ErrorCode&quot;]</code> expression.</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="features-1">Features<a href="#features-1" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features" translate="no">​</a></h3><ul>
<li class="">Much improved LaTeX parser, in particular when parsing invalid LaTeX. The
parser now avoids throwing, but will return a partial expression with
<code>[&quot;Error&quot;]</code> subexpressions indicating where the problems were.</li>
<li class="">Implemented new domain computation system (similar to type systems in
programming languages)</li>
<li class="">Added support for multiple signatures per function (ad-hoc polymorphism)</li>
<li class="">Added <code>FixedPoint</code>, <code>Loop</code>, <code>Product</code>, <code>Sum</code>, <code>Break</code>, <code>Continue</code>, <code>Block</code>,
<code>If</code>, <code>Let</code>, <code>Set</code>, <code>Function</code>, <code>Apply</code>, <code>Return</code></li>
<li class="">Added <code>Min</code>, <code>Max</code>, <code>Clamp</code></li>
<li class="">Parsing of <code>\sum</code>, <code>\prod</code>, <code>\int</code>.</li>
<li class="">Added parsing of log functions, <code>\lb</code>, <code>\ln</code>, <code>\ln_{10}</code>, <code>\ln_2</code>, etc...</li>
<li class="">Added
<code>expr.</code>subexpressions<code>, </code>expr.getSubexpressions()<code>, </code>expr.errors<code>, </code>expr.symbols<code>, </code>expr.isValid`.</li>
<li class="">Symbols can now be used to represent functions, i.e. <code>ce.box(&#x27;Sin&#x27;).domain</code>
correctly returns <code>[&quot;Domain&quot;, &quot;Function&quot;]</code>.</li>
<li class="">Correctly handle rational numbers with a numerator or denominator outside the
range of a 64-bit float.</li>
<li class="">Instead of a <code>Missing</code> symbol an <code>[&quot;Error&quot;, &quot;&#x27;missing&#x27;&quot;]</code> expression is used.</li>
<li class="">Name binding is now done lazily</li>
<li class="">Correctly handle MathJSON numbers with repeating decimals, e.g. <code>1.(3)</code>.</li>
<li class="">Correctly evaluate inverse functions, e.g. <code>ce.parse(&#x27;\\sin^{-1}(.5)).N()</code></li>
<li class="">Fixed some LaTeX serialization issues</li>
</ul><p>Read more at
<a href="https://cortexjs.io/compute-engine/reference/core/" target="_blank" rel="noopener noreferrer" class="">Core Reference</a> and
[Arithmetic Reference]
(<a href="https://cortexjs.io/compute-engine/reference/arithmetic/" target="_blank" rel="noopener noreferrer" class="">https://cortexjs.io/compute-engine/reference/arithmetic/</a>)</p><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bugs-fixed-3">Bugs Fixed<a href="#bugs-fixed-3" class="hash-link" aria-label="Direct link to Bugs Fixed" title="Direct link to Bugs Fixed" translate="no">​</a></h3><ul>
<li class=""><strong>#43</strong> If the input of <code>ce.parse()</code> is an empty string, return an empty
string for <code>expr.latex</code> or <code>expr.json.latex</code>: that is, ensure verbatim LaTeX
round-tripping</li>
<li class="">Evaluating some functions, such as <code>\arccos</code> would result in a crash</li>
<li class="">Correctly handle parsing of multi-token decimal markers, e.g. <code>{,}</code></li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="060-2022-04-18">0.6.0 <em>2022-04-18</em><a href="#060-2022-04-18" class="hash-link" aria-label="Direct link to 060-2022-04-18" title="Direct link to 060-2022-04-18" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-16">Improvements<a href="#improvements-16" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">Parse more cases of tabular environments</li>
<li class="">Handle simplify and evaluate of inert functions by default</li>
<li class="">Avoid unnecessary wrapping of functions when serializing LaTeX</li>
<li class="">Parse arguments of LaTeX commands (e.g. <code>\vec{}</code>)</li>
<li class=""><strong>#42</strong> Export static <code>ComputeEngine.getLatexDictionary</code></li>
<li class="">Parse multi-character constants and variables, e.g. <code>\mathit{speed}</code> and
<code>\mathrm{radius}</code></li>
<li class="">Parse/serialize some LaTeX styling commands: <code>\displaystyle</code>, <code>\tiny</code> and more</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="050-2022-04-05">0.5.0 <em>2022-04-05</em><a href="#050-2022-04-05" class="hash-link" aria-label="Direct link to 050-2022-04-05" title="Direct link to 050-2022-04-05" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-17">Improvements<a href="#improvements-17" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">Correctly parse tabular content (for example in
<code>\begin{pmatrix}...\end{pmatrix}</code></li>
<li class="">Correctly parse LaTeX groups, i.e. <code>{...}</code></li>
<li class="">Ensure constructible trigonometric values are canonical</li>
<li class="">Correct and simplify evaluation loop for <code>simplify()</code>, <code>evaluate()</code> and <code>N()</code>.</li>
<li class=""><strong>#41</strong> Preserve the parsed LaTeX verbatim for top-level expressions</li>
<li class=""><strong>#40</strong> Correctly calculate the synthetic LaTeX metadata for numbers</li>
<li class="">Only require Node LTS (16.14.2)</li>
<li class="">Improved documentation, including Dark Mode support</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="044">0.4.4<a href="#044" class="hash-link" aria-label="Direct link to 0.4.4" title="Direct link to 0.4.4" translate="no">​</a></h2><p><strong>Release Date</strong>: 2022-03-27</p><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-18">Improvements<a href="#improvements-18" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">Added option to specify custom LaTeX dictionaries in <code>ComputeEngine</code>
constructor</li>
<li class=""><code>expr.valueOf</code> returns rational numbers as <code>[number, number]</code> when applicable</li>
<li class="">The non-ESM builds (<code>compute-engine.min.js</code>) now targets vintage JavaScript
for improved compatibility with outdated toolchains (e.g. Webpack 4) and
environments. The ESM build (<code>compute-engine.min.esm.js</code>) targets evergreen
JavaScript (currently ECMAScript 2020).</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="043">0.4.3<a href="#043" class="hash-link" aria-label="Direct link to 0.4.3" title="Direct link to 0.4.3" translate="no">​</a></h2><p><strong>Release Date</strong>: 2022-03-21</p><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="transition-guide-from-042">Transition Guide from 0.4.2<a href="#transition-guide-from-042" class="hash-link" aria-label="Direct link to Transition Guide from 0.4.2" title="Direct link to Transition Guide from 0.4.2" translate="no">​</a></h3><p>The API has changed substantially between 0.4.2 and 0.4.3, however adapting code
to the new API is very straightforward.</p><p>The two major changes are the introduction of the <code>BoxedExpression</code> class and
the removal of top level functions.</p><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="boxed-expression">Boxed Expression<a href="#boxed-expression" class="hash-link" aria-label="Direct link to Boxed Expression" title="Direct link to Boxed Expression" translate="no">​</a></h3><p>The <code>BoxedExpression</code> class is a immutable box (wrapper) that encapsulates a
MathJSON <code>Expression</code>. It provides some member functions that can be used to
manipulate the expression, for example <code>expr.simplify()</code> or <code>expr.evaluate()</code>.</p><p>The boxed expresson itself is immutable. For example, calling <code>expr.simplify()</code>
will return a new, simplified, expression, without modifying <code>expr</code>.</p><p>To create a &quot;boxed&quot; expression from a &quot;raw&quot; MathJSON expression, use <code>ce.box()</code>.
To create a boxed expression from a LaTeX string, use <code>ce.parse()</code>.</p><p>To access the &quot;raw&quot; MathJSON expression, use the <code>expr.json</code> property. To
serialize the expression to LaTeX, use the <code>expr.latex</code> property.</p><p>The top level functions such as <code>parse()</code> and <code>evaluate()</code> are now member
functions of the <code>ComputeEngine</code> class or the <code>BoxedExpression</code> class.</p><p>There are additional member functions to examine the content of a boxed
expression. For example, <code>expr.symbol</code> will return <code>null</code> if the expression is
not a MathJSON symbol, otherwise it will return the name of the symbol as a
string. Similarly, <code>expr.ops</code> return the arguments (operands) of a function,
<code>expr.asFloat</code> return <code>null</code> if the expression does not have a numeric value
that can be represented by a float, a <code>number</code> otherwise, etc...</p><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="canonical-form">Canonical Form<a href="#canonical-form" class="hash-link" aria-label="Direct link to Canonical Form" title="Direct link to Canonical Form" translate="no">​</a></h3><p>Use <code>expr.canonical</code> to obtain the canonical form of an expression rather than
the <code>ce.format()</code> method.</p><p>The canonical form is less aggressive in its attempt to simplify than what was
performed by <code>ce.format()</code>.</p><p>The canonical form still accounts for distributive and associative functions,
and will collapse some integer constants. However, in some cases it may be
necessary to invoke <code>expr.simplify()</code> in order to get the same results as
<code>ce.format(expr)</code>.</p><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="rational-and-division">Rational and Division<a href="#rational-and-division" class="hash-link" aria-label="Direct link to Rational and Division" title="Direct link to Rational and Division" translate="no">​</a></h3><p>In addition to machine floating points, arbitrary precision numbers and complex
numbers, the Compute Engine now also recognize and process rational numbers.</p><p>This is mostly an implementation detail, although you may see
<code>[&quot;Rational&quot;, 3, 4]</code>, for example, in the value of a <code>expr.json</code> property.</p><p>If you do not want rational numbers represented in the value of the <code>.json</code>
property, you can exclude the <code>Rational</code> function from the serialization of JSON
(see below) in which case <code>Divide</code> will be used instead.</p><p>Note also that internally (as a result of boxing), <code>Divide</code> is represented as a
product of a power with a negative exponent. This makes some pattern detection
and simplifications easier. However, when the <code>.json</code> property is accessed,
product of powers with a negative exponents are converted to a <code>Divide</code>, unless
you have included <code>Divide</code> as an excluded function for serialization.</p><p>Similarly, <code>Subtract</code> is converted internally to <code>Add</code>, but may be serialized
unless excluded.</p><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="parsing-and-serialization-customization">Parsing and Serialization Customization<a href="#parsing-and-serialization-customization" class="hash-link" aria-label="Direct link to Parsing and Serialization Customization" title="Direct link to Parsing and Serialization Customization" translate="no">​</a></h3><p>Rather than using a separate instance of the <code>LatexSyntax</code> class to customize
the parsing or serialization, use a <code>ComputeEngine</code> instance and its
<code>ce.parse()</code> method and the <code>expr.latex</code> property.</p><p>Custom dictionaries (to parse/serialize custom LaTeX syntax) can be passed as an
argument to the <code>ComputeEngine</code> constructor.</p><p>For more advanced customizations, use <code>ce.latexOptions = {...}</code>. For example, to
change the formatting options of numbers, how the invisible operator is
interpreted, how unknown commands and symbols are interpreted, etc...</p><p>Note that there are also now options available for the &quot;serialization&quot; to
MathJSON, i.e. when the <code>expr.json</code> property is used. It is possible to control
for example if metadata should be included, if shorthand forms are allowed, or
whether some functions should be avoided (<code>Divide</code>, <code>Sqrt</code>, <code>Subtract</code>, etc...).
These options can be set using <code>ce.jsonSerializationOptions = {...}</code>.</p><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="comparing-expressions">Comparing Expressions<a href="#comparing-expressions" class="hash-link" aria-label="Direct link to Comparing Expressions" title="Direct link to Comparing Expressions" translate="no">​</a></h3><p>There are more options to compare two expressions.</p><p>Previously, <code>match()</code> could be used to check if one expression matched another
as a pattern.</p><p>If <code>match()</code> returned <code>null</code>, the first expression could not be matched to the
second. If it returned an object literal, the two expressions matched.</p><p>The top-level <code>match()</code> function is replaced by the <code>expr.match()</code> method.
However, there are two other options that may offer better results:</p><ul>
<li class=""><code>expr.isSame(otherExpr)</code> return true if <code>expr</code> and <code>otherExpr</code> are
structurally identical. Structural identity is closely related to the concept
of pattern matching, that is <code>[&quot;Add&quot;, 1, &quot;x&quot;]</code> and <code>[&quot;Add&quot;, &quot;x&quot;, 1]</code> are not
the same, since the order of the arguments is different. It is useful for
example to compare some input to an answer that is expected to have a specific
form.</li>
<li class=""><code>expr.isEqual(otherExpr)</code> return true if <code>expr</code> and <code>otherExpr</code> are
mathematically identical. For example <code>ce.parse(&quot;1+1&quot;).isEqual(ce.parse(&quot;2&quot;))</code>
will return true. This is useful if the specific structure of the expression
is not important.</li>
</ul><p>It is also possible to evaluate a boolean expression with a relational operator,
such as <code>Equal</code>:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token builtin" style="color:var(--base-09)">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">[</span><span class="token string" style="color:var(--base-0b)">&quot;Equal&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> expr</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">]</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token builtin" style="color:var(--base-09)">symbol</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; &quot;True&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token builtin" style="color:var(--base-09)">console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">isEqual</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">box</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token number" style="color:var(--base-09)">2</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; true</span><br></span></code></pre></div></div><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="before--after">Before / After<a href="#before--after" class="hash-link" aria-label="Direct link to Before / After" title="Direct link to Before / After" translate="no">​</a></h3><table><thead><tr><th style="text-align:left">Before</th><th style="text-align:left">After</th></tr></thead><tbody><tr><td style="text-align:left"><code>expr = [&quot;Add&quot;, 1, 2]</code></td><td style="text-align:left"><code>expr = ce.box([&quot;Add&quot;, 1, 2])</code></td></tr><tr><td style="text-align:left"><code>expr = ce.evaluate(expr)</code></td><td style="text-align:left"><code>expr = expr.evaluate()</code></td></tr><tr><td style="text-align:left"><code>console.log(expr)</code></td><td style="text-align:left"><code>console.log(expr.json)</code></td></tr><tr><td style="text-align:left"><code>expr = new LatexSyntax().parse(&quot;x^2+1&quot;)</code></td><td style="text-align:left"><code>expr = ce.parse(&quot;x^2+1&quot;)</code></td></tr><tr><td style="text-align:left"><code>new LatexSyntax().serialize(expr)</code></td><td style="text-align:left"><code>expr.latex</code></td></tr><tr><td style="text-align:left"><code>ce.simplify(expr)</code></td><td style="text-align:left"><code>expr.simplify()</code></td></tr><tr><td style="text-align:left"><code>await ce.evaluate(expr)</code></td><td style="text-align:left"><code>expr.evaluate()</code></td></tr><tr><td style="text-align:left"><code>ce.N(expr)</code></td><td style="text-align:left"><code>expr.N()</code></td></tr><tr><td style="text-align:left"><code>ce.domain(expr)</code></td><td style="text-align:left"><code>expr.domain</code></td></tr><tr><td style="text-align:left"><code>ce.format(expr...)</code></td><td style="text-align:left"><code>expr.canonical</code> <br> <code>expr.simplify()</code></td></tr></tbody></table><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="030">0.3.0<a href="#030" class="hash-link" aria-label="Direct link to 0.3.0" title="Direct link to 0.3.0" translate="no">​</a></h2><p><strong>Release Date</strong>: 2021-06-18</p><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improvements-19">Improvements<a href="#improvements-19" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements" translate="no">​</a></h3><ul>
<li class="">In LaTeX, parse <code>\operatorname{foo}</code> as the MathJSON symbol <code>&quot;foo&quot;</code>.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_VsjB"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/compute-engine/demo/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Demo</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/compute-engine/guides/expressions/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Expressions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#coming-soon" class="table-of-contents__link toc-highlight">Coming Soon</a></li><li><a href="#0330-2026-01-30" class="table-of-contents__link toc-highlight">0.33.0 <em>2026-01-30</em></a></li><li><a href="#0320-2026-01-28" class="table-of-contents__link toc-highlight">0.32.0 <em>2026-01-28</em></a></li><li><a href="#0310-2026-01-27" class="table-of-contents__link toc-highlight">0.31.0 <em>2026-01-27</em></a></li><li><a href="#0302-2025-07-15" class="table-of-contents__link toc-highlight">0.30.2 <em>2025-07-15</em></a></li><li><a href="#0291-2025-03-31" class="table-of-contents__link toc-highlight">0.29.1 <em>2025-03-31</em></a></li><li><a href="#0280-2025-02-06" class="table-of-contents__link toc-highlight">0.28.0 <em>2025-02-06</em></a></li><li><a href="#0270-2024-12-02" class="table-of-contents__link toc-highlight">0.27.0 <em>2024-12-02</em></a></li><li><a href="#0264-2024-10-17" class="table-of-contents__link toc-highlight">0.26.4 <em>2024-10-17</em></a></li><li><a href="#0263-2024-10-17" class="table-of-contents__link toc-highlight">0.26.3 <em>2024-10-17</em></a></li><li><a href="#0261-2024-10-04" class="table-of-contents__link toc-highlight">0.26.1 <em>2024-10-04</em></a></li><li><a href="#0260-2024-10-01" class="table-of-contents__link toc-highlight">0.26.0 <em>2024-10-01</em></a></li><li><a href="#0251-2024-06-27" class="table-of-contents__link toc-highlight">0.25.1 <em>2024-06-27</em></a></li><li><a href="#0250-2024-06-25" class="table-of-contents__link toc-highlight">0.25.0 <em>2024-06-25</em></a></li><li><a href="#0240-2024-02-23" class="table-of-contents__link toc-highlight">0.24.0 <em>2024-02-23</em></a></li><li><a href="#0231-2024-01-27" class="table-of-contents__link toc-highlight">0.23.1 <em>2024-01-27</em></a></li><li><a href="#0230-2024-01-01" class="table-of-contents__link toc-highlight">0.23.0 <em>2024-01-01</em></a></li><li><a href="#0220-2023-11-13" class="table-of-contents__link toc-highlight">0.22.0 <em>2023-11-13</em></a></li><li><a href="#0210-2023-11-02" class="table-of-contents__link toc-highlight">0.21.0 <em>2023-11-02</em></a></li><li><a href="#0202-2023-10-31" class="table-of-contents__link toc-highlight">0.20.2 <em>2023-10-31</em></a></li><li><a href="#0201-2023-10-31" class="table-of-contents__link toc-highlight">0.20.1 <em>2023-10-31</em></a></li><li><a href="#0200-2023-10-30" class="table-of-contents__link toc-highlight">0.20.0 <em>2023-10-30</em></a></li><li><a href="#0191-2023-10-26" class="table-of-contents__link toc-highlight">0.19.1 <em>2023-10-26</em></a></li><li><a href="#0190-2023-10-25" class="table-of-contents__link toc-highlight">0.19.0 <em>2023-10-25</em></a></li><li><a href="#0181-2023-10-16" class="table-of-contents__link toc-highlight">0.18.1 <em>2023-10-16</em></a></li><li><a href="#0180-2023-10-16" class="table-of-contents__link toc-highlight">0.18.0 <em>2023-10-16</em></a></li><li><a href="#0170-2023-10-12" class="table-of-contents__link toc-highlight">0.17.0 <em>2023-10-12</em></a></li><li><a href="#0160-2023-09-29" class="table-of-contents__link toc-highlight">0.16.0 <em>2023-09-29</em></a></li><li><a href="#0150-2023-09-14" class="table-of-contents__link toc-highlight">0.15.0 <em>2023-09-14</em></a></li><li><a href="#0140-2023-09-13" class="table-of-contents__link toc-highlight">0.14.0 <em>2023-09-13</em></a></li><li><a href="#0130-2023-09-09" class="table-of-contents__link toc-highlight">0.13.0 <em>2023-09-09</em></a></li><li><a href="#0127-2023-09-08" class="table-of-contents__link toc-highlight">0.12.7 <em>2023-09-08</em></a></li><li><a href="#0126-2023-09-08" class="table-of-contents__link toc-highlight">0.12.6 <em>2023-09-08</em></a></li><li><a href="#0121-2022-12-01" class="table-of-contents__link toc-highlight">0.12.1 <em>2022-12-01</em></a></li><li><a href="#0120-2022-11-27" class="table-of-contents__link toc-highlight">0.12.0 <em>2022-11-27</em></a></li><li><a href="#0110-2022-11-18" class="table-of-contents__link toc-highlight">0.11.0 <em>2022-11-18</em></a></li><li><a href="#0100-2022-11-17" class="table-of-contents__link toc-highlight">0.10.0 <em>2022-11-17</em></a></li><li><a href="#090-2022-11-15" class="table-of-contents__link toc-highlight">0.9.0 <em>2022-11-15</em></a></li><li><a href="#080-2022-10-02" class="table-of-contents__link toc-highlight">0.8.0 <em>2022-10-02</em></a></li><li><a href="#070-2022-09-30" class="table-of-contents__link toc-highlight">0.7.0 <em>2022-09-30</em></a></li><li><a href="#060-2022-04-18" class="table-of-contents__link toc-highlight">0.6.0 <em>2022-04-18</em></a></li><li><a href="#050-2022-04-05" class="table-of-contents__link toc-highlight">0.5.0 <em>2022-04-05</em></a></li><li><a href="#044" class="table-of-contents__link toc-highlight">0.4.4</a></li><li><a href="#043" class="table-of-contents__link toc-highlight">0.4.3</a></li><li><a href="#030" class="table-of-contents__link toc-highlight">0.3.0</a></li></ul></div></div></div></div></main></div></div></div><div class="shared-footer"><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">SDKs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mathfield/">Mathfield</a></li><li class="footer__item"><a class="footer__link-item" href="/compute-engine/">Compute Engine</a></li><li class="footer__item"><a class="footer__link-item" href="/math-json/">MathJSON</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/cortex-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">
            <svg class="icon-one-rem"><use role="none" xlink:href="/icons.svg#github"></use></svg>
            GitHub
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg>
          </a></li><li class="footer__item"><a href="https://discord.gg/yhmvVeJ4Hd" target="_blank" rel="noopener noreferrer" class="footer__link-item">
            <svg class="icon-one-rem"><use role="none" xlink:href="/icons.svg#discord"></use></svg>
            Discord
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg>
          </a></li><li class="footer__item"><a href="https://chatgpt.com/g/g-8YgEfR7ig-mathlive-gpt" target="_blank" rel="noopener noreferrer" class="footer__link-item">
            <svg class="icon-one-rem"><use role="none" xlink:href="/icons.svg#openai"></use></svg>
            MathLive GPT
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg>
          </a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about/">About Us</a></li></ul></div></div></div></footer></div></div>
</body>
</html>