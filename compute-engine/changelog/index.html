<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-compute-engine/changelog" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Changelog - Compute Engine · MathLive</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mathlive.io/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://mathlive.io/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://mathlive.io/compute-engine/changelog/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Changelog - Compute Engine · MathLive"><meta data-rh="true" name="description" content="Coming Soon"><meta data-rh="true" property="og:description" content="Coming Soon"><link data-rh="true" rel="icon" href="/img/logo.webp"><link data-rh="true" rel="canonical" href="https://mathlive.io/compute-engine/changelog/"><link data-rh="true" rel="alternate" href="https://mathlive.io/compute-engine/changelog/" hreflang="en"><link data-rh="true" rel="alternate" href="https://mathlive.io/compute-engine/changelog/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://Q23Y5RN3UQ-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Changelog","item":"https://mathlive.io/compute-engine/changelog/"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="MathLive" href="/opensearch.xml">

<link rel="stylesheet" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/codemirror.min.css">
<script>!function(){var e,t;window.moduleMap||(window.moduleMap={}),window.moduleMap={...window.moduleMap,mathlive:"https://esm.run/mathlive","compute-engine":"https://esm.run/@cortex-js/compute-engine"},(e=["https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js","https://unpkg.com/@cortex-js/compute-engine","https://cdn.jsdelivr.net/npm/mathlive","https://cdn.jsdelivr.net/npm/@ui-js/code-playground/dist/code-playground.min.js@module"]).forEach((o,n)=>{const m=o.endsWith("@module"),d="script"+function(e,t=0){let o=3735928559^t,n=1103547991^t;for(let t=0;t<e.length;t++){const m=e.charCodeAt(t);o=Math.imul(o^m,2654435761),n=Math.imul(n^m,1597334677)}return o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(o^o>>>13,3266489909),4294967296*(2097151&n)+(o>>>0)}(o=o.replace("@module","")).toString(36);if(document.getElementById(d))return;const i=document.createElement("script");m&&(i.type="module"),i.id=d,i.src=o,i.async=!1,t&&n===e.length-1&&(i.onload=t),document.head.appendChild(i)})}()</script>
<link rel="preconnect" href="https://rsms.me/">
<link rel="stylesheet" href="https://rsms.me/inter/inter.css" media="print" onload="this.media=&#39;all&#39;"><link rel="stylesheet" href="/assets/css/styles.167eb63e.css">
<script src="/assets/js/runtime~main.ab61b09c.js" defer="defer"></script>
<script src="/assets/js/main.7c760711.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.webp"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="MathLive Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="42" width="42"><img src="/img/logo.webp" alt="MathLive Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="42" width="42"></div><b class="navbar__title text--truncate">MathLive</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mathfield/">Mathfield</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/compute-engine/">Compute Engine</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/cortex-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" icon="github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/mathfield/">Mathfield</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/compute-engine/">Compute Engine</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item compass-icon"><a class="menu__link" tabindex="0" href="/compute-engine/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item flask-icon"><a class="menu__link" tabindex="0" href="/compute-engine/demo/">Demo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item changelog-icon"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/compute-engine/changelog/">Changelog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/expressions/">Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/evaluate/">Evaluation of Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/symbolic-computing/">Symbolic Computing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/numeric-evaluation/">Numeric Evaluation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/canonical-form/">Canonical Form</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/symbols/">Symbols</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/augmenting/">Custom Functions and Symbols</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/latex-syntax/">LaTeX Syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/types/">Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/simplify/">Simplify</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/compiling/">Compiling Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/assumptions/">Assumptions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/patterns-and-rules/">Patterns and Rules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sdk-icon"><a class="menu__link" tabindex="0" href="/math-json/">MathJSON Format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sdk-icon"><a class="menu__link" tabindex="0" href="/compute-engine/api/">API Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item compass-icon"><a class="menu__link" tabindex="0" href="/compute-engine/standard-library/">MathJSON Standard Library</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/arithmetic/">Arithmetic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/calculus/">Calculus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/collections/">Collections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/complex/">Complex</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/control-structures/">Control Structures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/core/">Core</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/functions/">Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/linear-algebra/">Linear Algebra</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/logic/">Logic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/sets/">Sets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/special-functions/">Special Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/statistics/">Statistics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/combinatorics/">Combinatorics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/number-theory/">Number Theory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/strings/">Strings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/styling/">Styling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/compute-engine/reference/trigonometry/">Trigonometry</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Tutorials</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item tutorial-icon"><a class="menu__link" tabindex="0" href="/tutorials/simple-quiz/">Simple Quiz</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/about/">Additional Resources</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Compute Engine</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Changelog</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Compute Engine Changelog</h1></header>
<!-- -->
<style>
    .markdown h2 {
      align-items: center;
      border-bottom: 2px solid var(--blue-600);
      color: var(--blue-600);
      display: flex;
    }      


    .markdown h2 em {
      margin-left: auto;
      color: var(--blue-600);
      display: block;
      float: right;
      font-size: .6em;
      font-style: normal;
      font-weight: 400
    }
  
    </style><h2 class="anchor anchorWithStickyNavbar_LWe7" id="coming-soon">Coming Soon<a href="#coming-soon" class="hash-link" aria-label="Direct link to Coming Soon" title="Direct link to Coming Soon">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes">Breaking Changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">​</a></h3><ul>
<li>
<p>The <code>expr.value</code> property reflects the value of the expression if it is a
number literal or a symbol with a literal value. If you previously used the
<code>expr.value</code> property to get the value of an expression, you should now use
the <code>expr.N().valueOf()</code> method instead. The <code>valueOf()</code> method is suitable
for interoperability with JavaScript, but it may result in a loss of precision
for numbers with more than 15 digits.</p>
</li>
<li>
<p><code>BoxedExpr.sgn</code> now returns <em>undefined</em> for complex numbers, or symbols with a
complex-number value.</p>
</li>
<li>
<p>The <code>ce.assign()</code> method previously accepted
<code>ce.assign(&quot;f(x, y)&quot;, ce.parse(&quot;x+y&quot;))</code>. This is now deprecated. Use
<code>ce.assign(&quot;f&quot;, ce.parse(&quot;(x, y) \\mapsto x+y&quot;)</code> instead.</p>
</li>
<li>
<p>It was previously possible to invoke <code>expr.evaluate()</code> or <code>expr.N()</code> on a
non-canonical expression. This will now return the expression itself.</p>
<p>To evaluate a non-canonical expression, use <code>expr.canonical.evaluate()</code> or
<code>expr.canonical.N()</code>.</p>
<p>That&#x27;s also the case for the methods <code>numeratorDenominator()</code>, <code>numerator()</code>,
and <code>denominator()</code>.</p>
<p>In addition, invoking the methods <code>inv()</code>, <code>abs()</code>, <code>add()</code>, <code>mul()</code>, <code>div()</code>,
<code>pow()</code>, <code>root()</code>, <code>ln()</code> will throw an error if the expression is not
canonical.</p>
</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-and-improvements">New Features and Improvements<a href="#new-features-and-improvements" class="hash-link" aria-label="Direct link to New Features and Improvements" title="Direct link to New Features and Improvements">​</a></h3><ul>
<li>
<p>The bindings of symbols and function expressions is now consistently done
during canonicalization.</p>
</li>
<li>
<p>It was previously not possible to change the type of an identifier from a
function to a value or vice versa. This is now possible.</p>
</li>
<li>
<p><strong>Antiderivatives</strong> are now computed symbolically:</p>
</li>
</ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token template-string template-punctuation string" style="color:var(--base-0b)">`</span><span class="token template-string string" style="color:var(--base-0b)">\\int_0^1 \\sin(\\pi x) dx</span><span class="token template-string template-punctuation string" style="color:var(--base-0b)">`</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 2 / pi</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token template-string template-punctuation string" style="color:var(--base-0b)">`</span><span class="token template-string string" style="color:var(--base-0b)">\\int \\sin(\\pi x) dx</span><span class="token template-string template-punctuation string" style="color:var(--base-0b)">`</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; -cos(pi * x) / pi</span><br></span></code></pre></div></div><p>Requesting a numeric approximation of the integral will use a Monte Carlo
method:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token template-string template-punctuation string" style="color:var(--base-0b)">`</span><span class="token template-string string" style="color:var(--base-0b)">\\int_0^1 \\sin(\\pi x) dx</span><span class="token template-string template-punctuation string" style="color:var(--base-0b)">`</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token constant" style="color:var(--base-09)">N</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token comment" style="color:var(--base-05)">// -&gt; 0.6366</span><br></span></code></pre></div></div><ul>
<li>
<p>Numeric approximations of integrals is several order of magnitude faster.</p>
</li>
<li>
<p>Added <strong>Number Theory</strong> functions: <code>Totient</code>, <code>Sigma0</code>, <code>Sigma1</code>,
<code>SigmaMinus1</code>, <code>IsPerfect</code>, <code>Eulerian</code>, <code>Stirling</code>, <code>NPartition</code>,
<code>IsTriangular</code>, <code>IsSquare</code>, <code>IsOctahedral</code>, <code>IsCenteredSquare</code>, <code>IsHappy</code>,
<code>IsAbundant</code>.</p>
</li>
<li>
<p>Added <strong>Combinatorics</strong> functions: <code>Choose</code>, <code>Fibonacci</code>, <code>Binomial</code>,
<code>CartesianProduct</code>, <code>PowerSet</code>, <code>Permutations</code>, <code>Combinations</code>, <code>Multinomial</code>,
<code>Subfactorial</code> and <code>BellNumber</code>.</p>
</li>
<li>
<p>The <code>symbol</code> type can be refined to match a specific symbol. For example
<code>symbol&lt;True&gt;</code>. The type <code>expression</code> can be refined to match expressions with
a specific operator, for example <code>expression&lt;Add&gt;</code> is a type that matches
expressions with the <code>Add</code> operator. The numeric types can be refined with a
lower and upper bound. For example <code>integer&lt;0..10&gt;</code> is a type that matches
integers between 0 and 10. The type <code>real&lt;1..&gt;</code> matches real numbers greater
than 1 and <code>rational&lt;..0&gt;</code> matches non-positive rational numbers.</p>
</li>
<li>
<p>Numeric types can now be constrtained with a lower and upper bound. For
example, <code>real&lt;0..10&gt;</code> is a type that matches real numbers between 0 and 10.
The type <code>integer&lt;1..&gt;</code> matches integers greater than or equal to 1.</p>
</li>
<li>
<p>Collections that can be indexed (<code>list</code>, <code>tuple</code>) are now a subtype of
<code>indexed_collection</code>.</p>
</li>
<li>
<p>The <code>map</code> type has been replaced with <code>dictionary</code> for collections of
arbitrary key-value pairs and <code>record</code> for collections of structured key-value
pairs.</p>
</li>
<li>
<p>Support for structural typing has been added. To define a structural type, use
<code>ce.declareType()</code> with the <code>alias</code> flag, for example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declareType</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token string" style="color:var(--base-0b)">&quot;point&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;tuple&lt;x: integer, y: integer&gt;&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:var(--base-0c)">alias</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token boolean" style="color:var(--base-09)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
</li>
<li>
<p>Recursive types are now supported by using the <code>type</code> keyword to forward
reference types. For example, to define a type for a binary tree:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declareType</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token string" style="color:var(--base-0b)">&quot;binary_tree&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token string" style="color:var(--base-0b)">&quot;tuple&lt;value: integer, left: type binary_tree?, right: type binary_tree?&gt;&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
</li>
<li>
<p>The syntax for variadic arguments has changeed. To indicate a variadic
argument, use a <code>+</code> or <code>*</code> after the type, for example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">declare</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;f&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;(number+) -&gt; number&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
<p>Use <code>+</code> for a non-empty list of arguments and <code>*</code> for a possibly empty list.</p>
</li>
<li>
<p>Added a rule to solve the equation <code>a^x + b = 0</code></p>
</li>
<li>
<p>The LaTeX parser now supports the <code>\placeholder[]{}</code>, <code>\phantom{}</code>,
<code>\hphantom{}</code>, <code>\vphantom{}</code>, <code>\mathstrut</code>, <code>\strut</code> and <code>\smash{}</code> commands.</p>
</li>
<li>
<p>The range of recognized sign values, i.e. as returned from
<code>BoxedExpression.sgn</code> has been simplified (e.g. &#x27;...-infinity&#x27; and &#x27;nan&#x27; have
been removed)</p>
</li>
<li>
<p>The Power canonical-form is less aggressive - only carrying-out ops. as listed
in doc. - is much more careful in its consideration of operand types &amp;
values... (for example, typically, exponents are required to be <em>numbers</em>:
e.g. <code>x^1</code> will simplify, but <code>x^y</code> (where <code>y===0</code>), or <code>x^{1+0}</code>, will not)</p>
</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved">Issues Resolved<a href="#issues-resolved" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">​</a></h3><ul>
<li>
<p>Ensure expression LaTeX serialization is based on MathJSON generated with
matching &quot;pretty&quot; formatting (or not), therefore resulting in LaTeX with less
prettification, where <code>prettify === false</code> (#daef87f)</p>
</li>
<li>
<p>Symbols declare with a <code>constant</code> flag are now not marked as &quot;inferred&quot;</p>
</li>
<li>
<p>Some <code>BoxedSymbols</code> properties now more consistently return <code>undefined</code>,
instead of a <code>boolean</code> (i.e. because the symbol is non-bound)</p>
</li>
<li>
<p>Some <code>expr.root()</code> computations</p>
</li>
<li>
<p>Canonical-forms</p>
<ul>
<li>Fixes the <code>Number</code> form</li>
<li>Forms (at least, <code>Number</code>, <code>Power</code>) do not mistakenly <em>fully</em> canonicalize
operands</li>
<li>This (partial canonicalization) now substitutes symbols (constants) with a
<code>holdUntil</code> value of <code>&quot;never&quot;</code> during/prior-to canonicalization (i.e. just
like for full canonicalization)</li>
</ul>
</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0291-2025-03-31">0.29.1 <em>2025-03-31</em><a href="#0291-2025-03-31" class="hash-link" aria-label="Direct link to 0291-2025-03-31" title="Direct link to 0291-2025-03-31">​</a></h2><ul>
<li><strong>#231</strong> During evaluation, some numbers, for example <code>10e-15</code> were
incorrectly rounded to 0.</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0280-2025-02-06">0.28.0 <em>2025-02-06</em><a href="#0280-2025-02-06" class="hash-link" aria-label="Direct link to 0280-2025-02-06" title="Direct link to 0280-2025-02-06">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved-1">Issues Resolved<a href="#issues-resolved-1" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">​</a></h3><ul>
<li>
<p><strong>#211</strong> More consistent canonicalization and serialization of exact numeric
values of the form <code>(a√b)/c</code>.</p>
</li>
<li>
<p><strong>#219</strong> The <code>invisibleOperator</code> canonicalization previously also
canonicalized some multiplication.</p>
</li>
<li>
<p><strong>#218</strong> Improved performance of parsing invisible operators, including fixing
some cases where the parsing was incorrect.</p>
</li>
<li>
<p><strong>#216</strong> Correctly parse subscripts with a single character, for example
<code>x_1</code>.</p>
</li>
<li>
<p><strong>#216</strong> Parse some non-standard integral signs, for example
<code>\int x \cdot \differentialD x</code> (both the <code>\cdot</code> and the <code>\differentialD</code> are
non-standard).</p>
</li>
<li>
<p><strong>#210</strong> Numeric approximation of odd nth roots of negative numbers evaluate
correctly.</p>
</li>
<li>
<p><strong>#153</strong> Correctly parse integrals with <code>\limits</code>, e.g.
<code>\int\limits_0^1 x^2 \mathrm{d} x</code>.</p>
</li>
<li>
<p>Correctly serialize to ASCIIMath <code>Delimiter</code> expressions.</p>
</li>
<li>
<p>When inferring the type of numeric values do not constrain them to be <code>real</code>.
As a result:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">assign</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;a&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;i&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">parse</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;a+1&#x27;</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">evaluate</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">print</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
</li>
</ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">now returns `1 + i` instead of throwing a type error.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly parse and evaluate unary and binary `\pm` and `\mp` operators.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features and Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `expr.isEqual()` will now return true/false if the expressions include the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  same unknowns and are structurally equal after expansion and simplifications.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(ce.parse(&#x27;(x+1)^2&#x27;).isEqual(ce.parse(&#x27;x^2+2x+1&#x27;)));</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; true</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">#### Asynchronous Operations</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Some computations can be time-consuming, for example, computing a very large</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">factorial. To prevent the browser from freezing, the Compute Engine can now</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">perform some operations asynchronously.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">To perform an asynchronous operation, use the `expr.evaluateAsync` method. For</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">try {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const fact = ce.parse(&#x27;(70!)!&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const factResult = await fact.evaluateAsync();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  factResult.print();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">} catch (e) {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.error(e);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">}</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">It is also possible to interrupt an operation, for example by providing a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">pause/cancel button that the user can press. To do so, use an `AbortController`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">object and a `signal`. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">const abort = new AbortController();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">const signal = abort.signal;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">setTimeout(() =&gt; abort.abort(), 500);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">try {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const fact = ce.parse(&#x27;(70!)!&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const factResult = await fact.evaluateAsync({ signal });</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  factResult.print();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">} catch (e) {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.error(e);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">}</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">In the example above, we trigger an abort after 500ms.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">It is also possible to control how long an operation can run by setting the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">`ce.timeLimit` property with a value in milliseconds. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce.timeLimit = 1000;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">try {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const fact = ce.parse(&#x27;(70!)!&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  fact.evaluate().print();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">} catch (e) {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.error(e);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">}</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">The time limit applies to either the synchronous or asynchronous evaluation.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">The default time limit is 2,000ms (2 seconds).</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">When an operation is canceled either because of a timeout or an abort, a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">`CancellationError` is thrown.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.27.0 _2024-12-02_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#217** Correctly parse LaTeX expressions that include a command followed by</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  a `*` such as `\\pi*2`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#217** Correctly calculate the angle of trigonometric expressions with an</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expression containing a reference to `Pi`, for example `\\sin(\\pi^2)`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `Factorial` function will now time out if the argument is too large. The</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  timeout is signaled by throwing a `CancellationError`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When specifying `exp.toMathJSON({shorthands:[]})`, i.e., not to use shorthands</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  in the MathJSON, actually avoid using shorthands.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly use custom multiply, plus, etc. for LaTeX serialization.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When comparing two numeric values, the tolerance is now used to determine if</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  the values are equal. The tolerance can be set with the `ce.tolerance`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  property.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When comparing two expressions with `isEqual()` the values are compared</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  structurally when necessary, or with a stochastic test when the expressions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  are too complex to compare structurally.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly serialize nested superscripts, e.g. `x^{y^z}`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The result of evaluating a `Hold` expression is now the expression itself.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- To prevent evaluation of an expression temporarily, use the `Unevaluated`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  function. The result of evaluating an `Unevaluated` expression is its</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  argument.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The type of a `Hold` expression was incorrectly returned as `string`. It now</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  returns the type of its argument.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The statistics function (`Mean`, `Median`, `Variance`, `StandardDeviation`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `Kurtosis`, `Skewness`, `Mode`, `Quartiles` and `InterQuartileRange`) now</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  accept as argument either a collection or a sequence of values.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.parse(&quot;\\mathrm{Mean}([7, 2, 11])&quot;).evaluate().print();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; 20/3</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.parse(&quot;\\mathrm{Mean}(7, 2, 11)&quot;).evaluate().print();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; 20/3</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `Variance` and `StandardDeviation` functions now have variants for</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  population statistics, `PopulationVariance` and `PopulationStandardDeviation`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The default is to use sample statistics.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.parse(&quot;\\mathrm{PopulationVariance}([7, 2, 11])&quot;).evaluate().print();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; 13.555</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.parse(&quot;\\mathrm{Variance}([7, 2, 11])&quot;).evaluate().print();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; 20.333</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The statistics function can now be compiled to JavaScript:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const code = ce.parse(&quot;\\mathrm{Mean}(7, 2, 11)&quot;).compile();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.log(code());</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; 13.555</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The statistics function calculate either using machine numbers or bignums</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  depending on the precision. The precision can be set with the `precision`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  property of the Compute Engine.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The argument of compiled function is now optional.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Compiled expressions can now reference external JavaScript functions. For</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.defineFunction(&#x27;Foo&#x27;, {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    signature: &#x27;number -&gt; number&#x27;,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    evaluate: ([x]) =&gt; ce.box([&#x27;Add&#x27;, x, 1]),</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  });</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const fn = ce.box([&#x27;Foo&#x27;, 3]).compile({</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    functions: { Foo: (x) =&gt; x + 1 },</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  })!;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(fn());</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; 4</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.defineFunction(&#x27;Foo&#x27;, {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    signature: &#x27;number -&gt; number&#x27;,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    evaluate: ([x]) =&gt; ce.box([&#x27;Add&#x27;, x, 1]),</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  });</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  function foo(x) {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    return x + 1;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  }</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const fn = ce.box([&#x27;Foo&#x27;, 3]).compile({</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    functions: { Foo: foo },</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  })!;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(fn());</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; 4</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Additionally, functions can be implicitly imported (in case they are needed by</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  other JavaScript functions):</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.defineFunction(&#x27;Foo&#x27;, {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    signature: &#x27;number -&gt; number&#x27;,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    evaluate: ([x]) =&gt; ce.box([&#x27;Add&#x27;, x, 1]),</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  });</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  function bar(x, y) {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    return x + y;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  }</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  function foo(x) {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    return bar(x, 1);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  }</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const fn = ce.box([&#x27;Foo&#x27;, 3]).compile({</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    functions: { Foo: &#x27;foo&#x27; },</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    imports: [foo, bar],</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  })!;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(fn());</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; 4</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Compiled expression can now include an arbitrary preamble (JavaScript source)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  that is executed before the compiled function is executed. This can be used to</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  define additional functions or constants.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.defineFunction(&#x27;Foo&#x27;, {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    signature: &#x27;number -&gt; number&#x27;,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    evaluate: ([x]) =&gt; ce.box([&#x27;Add&#x27;, x, 1]),</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  });</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const code = ce.box([&#x27;Foo&#x27;, 3]).compile({</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    preamble: &quot;function Foo(x) { return x + 1};&quot;,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  });</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `hold` function definition flag has been renamed to `lazy`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.26.4 _2024-10-17_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#201** Identifiers of the form `A_\text{1}` were not parsed correctly.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#202** Fixed serialization of integrals and bigops.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.26.3 _2024-10-17_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly account for `fractionalDigits` when formatting numbers.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#191** Correctly handle `\\lnot\\forall` and `\\lnot\\exists`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#206** The square root of 1000000 was canonicalized to 0.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#207** When a square root with a literal base greater than 1e6 was preceded</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  by a non-integer literal number, the literal number was ignored during</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  canonicalization.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#208** **#204** Correctly evaluate numeric approximation of roots, e.g.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `\\sqrt[3]{125}`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#205** `1/ln(0)` was incorrectly evaluated to `1`. It now returns `0`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.26.1 _2024-10-04_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#194** Correctly handle the precedence of unary negate, for example in</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `-5^{\frac12}` or `-5!`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When using a function definition with `ce.declare()`, do not generate a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  runtime error.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features and Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `.expand()` method to boxed expression. This method expands the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expression, for example `ce.parse(&quot;(x+1)^2&quot;).expand()` will return</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `x^2 + 2x + 1`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.26.0 _2024-10-01_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The property `expr.head` has been deprecated. Use `expr.operator` instead.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `expr.head` is still supported in this version but will be removed in a future</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  update.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The MathJSON utility functions `head()` and `op()` have been renamed to</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `operator()` and `operand()` respectively.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The methods for algebraic operations (`add`, `div`, `mul`, etc...) have been</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  moved from the Compute Engine to the Boxed Expression class. Instead of</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  calling `ce.add(a, b)`, call `a.add(b)`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Those methods also behave more consistently: they apply some additional</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  simplication rules over canonicalization. For example, while</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.parse(&#x27;1 + 2&#x27;)` return `[&quot;Add&quot;, 1, 2]`, `ce.box(1).add(2)` will return</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `3`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `ce.numericMode` option has been removed. Instead, set the `ce.precision`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  property to the desired precision. Set the precision to `&quot;machine&quot;` for</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  machine precision calculations (about 15 digits). Set it to `&quot;auto&quot;` for a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  default of 21 digits. Set it to a number for a greater fixed precision.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The MathJSON Dictionary element has been deprecated. Use a `Dictionary`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expression instead.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `ExtendedRealNumbers`, `ExtendedComplexNumbers` domains have been</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  deprecated. Use the `RealNumbers` and `ComplexNumbers` domains instead.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The &quot;Domain&quot; expression has been deprecated. Use types instead (see below).</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Some `BoxedExpression` properties have been removed:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - Instead of `expr.isZero`, use `expr.is(0)`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - Instead of `expr.isNotZero`, use `!expr.is(0)`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - Instead of `expr.isOne`, use `expr.is(1)`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - Instead of `expr.isNegativeOne`, use `expr.is(-1)`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The signature of `ce.declare()` has changed. In particular, the `N` handler</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  has been replaced with `evaluate`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```ts</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// Before</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce.declare(&#x27;Mean&#x27;, {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  N: (ce: IComputeEngine): BoxedExpression =&gt; {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    return ce.number(1);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  },</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">});</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// Now</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce.declare(&#x27;Mean&#x27;, { evaluate: (ops, { engine }) =&gt; ce.number(1) });</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features and Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **New Simplification Engine**</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The way expressions are simplified has been completely rewritten. The new</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  engine is more powerful and more flexible.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The core API remains the same: to simplify an expression, use</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `expr.simplify()`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  To use a custom set of rules, pass the rules as an argument to `simplify()`:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr.simplify({rules: [</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    &quot;|x:&lt;0| -&gt; -x&quot;,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    &quot;|x:&gt;=0| -&gt; x&quot;,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ]});</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  There are a few changes to the way rules are represented. The `priority`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  property has been removed. Instead, rules are applied in the order in which</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  they are defined.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  A rule can also now be a function that takes an expression and returns a new</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expression. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr.simplify({rules: [</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    (expr) =&gt; {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">      if (expr.operator !== &#x27;Abs&#x27;) return undefined;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">      const x = expr.args[0];</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">      return x.isNegative ? x.negate() : expr;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ]});</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  This can be used to perform more complex transformations at the cost of more</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  verbose JavaScript code.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The algorithm for simplification has been simplified. It attempts to apply</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  each rule in the rule set in turn, then restarts the process until no more</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  rules can be applied or the result of applying a rule returns a previously</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  seen expression.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Function definitions previously included a `simplify` handler that could be</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  used to perform simplifications specific to this function. This has been</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  removed. Instead, use a rule that matches the function and returns the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  simplified expression.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **Types**</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Previously, an expression was associated with a domain such as `RealNumbers`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  or `ComplexNumbers`. This has been replaced with a more flexible system of</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  types.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  A type is a set of values that an expression can take. For example, the type</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `real` is the set of real numbers, the type `integer` is the set of integers,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The type of an expression can be set with the `type` property. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const expr = ce.parse(&#x27;\\sqrt{-1}&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(expr.type); // -&gt; imaginary</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The type of a symbol can be set when declaring the symbol. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.declare(&#x27;x&#x27;, &#x27;imaginary&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  In addition to primitive types, the type system supports more complex types</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  such union types, intersection types, and function types.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  For example, the type `real|imaginary` is the union of the real and imaginary</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  numbers.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  When declaring a function, the type of the arguments and the return value can</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  be specified. For example, to declare a function `f` that takes two integers</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  and returns a real number:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.declare(&#x27;f&#x27;, &#x27;(integer, integer) -&gt; real&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The sets of numbers are defined as follows:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `number` - any number, real or complex, including NaN and infinity</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `non_finite_number` - NaN or infinity</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `real`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `finite_real` - finite real numbers (exclude NaN and infinity)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `imaginary` - imaginary numbers (complex numbers with a real part of 0)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `finite_imaginary`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `complex` - complex numbers with a real and imaginary part not equal to 0</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `finite_complex`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `rational`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `finite_rational`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `integer`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `finite_integer`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  To check the type of an expression, use the `isSubtypeOf()` method. For</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  let expr = ce.parse(&#x27;5&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(expr.type.isSubtypeOf(&#x27;rational&#x27;)); // -&gt; true</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(expr.type.isSubtypeOf(&#x27;integer&#x27;)); // -&gt; true</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr = ce.parse(&#x27;\\frac{1}{2}&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(expr.type.isSubtypeOf(&#x27;rational&#x27;)); // -&gt; true</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(expr.type.isSubtypeOf(&#x27;integer&#x27;)); // -&gt; false</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  As a shortcut, the properties `isReal`, `isRational`, `isInteger` are</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  available on boxed expressions. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  let expr = ce.parse(&#x27;5&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(expr.isInteger); // -&gt; true</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(expr.isRational); // -&gt; true</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  They are equivalent to `expr.type.isSubtypeOf(&#x27;integer&#x27;)` and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `expr.type.isSubtypeOf(&#x27;rational&#x27;)` respectively.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  To check if a number has a non-zero imaginary part, use:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  let expr = ce.parse(&#x27;5i&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(expr.isNumber &amp;&amp; expr.isReal === false); // -&gt; true</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **Collections**</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Support for collections has been improved. Collections include `List`, `Set`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `Tuple`, `Range`, `Interval`, `Linspace` and `Dictionary`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  It is now possible to check if an element is contained in a collection using</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  an `Element` expression. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  let expr = ce.parse(&#x27;[1, 2, 3]&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.box([&#x27;Element&#x27;, 3, expr]).print(); // -&gt; True</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.box([&#x27;Element&#x27;, 5, expr]).print(); // -&gt; False</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  To check if a collection is a subset of another collection, use the `Subset`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expression. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.box([&#x27;Subset&#x27;, &#x27;Integers&#x27;, &#x27;RealNumbers&#x27;]).print(); // -&gt; True</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Collections can also be compared for equality. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  let set1 = ce.parse(&#x27;\\lbrace 1, 2, 3 \\rbrace&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  let set2 = ce.parse(&#x27;\\lbrace 3, 2, 1 \\rbrace&#x27;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.info(set1.isEqual(set2)); // -&gt; true</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  There are also additional convenience methods on boxed expressions:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.isCollection`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.contains(element)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.size`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.isSubsetOf(other)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.indexOf(element)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.at(index)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.each()`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.get(key)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **Exact calculations**</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The Compute Engine has a new backed for numerical calculations. The new backed</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  can handle arbitrary precision calculations, including real and complex</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  numbers. It can also handle exact calculations, preserving calculations with</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  rationals and radicals (square root of integers). For example `1/2 + 1/3` is</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  evaluated to `5/6` instead of `0.8(3)`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  To get an approximate result, use the `N()` method, for example</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.parse(&quot;\\frac12 + \\frac13&quot;).N()`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Previously the result of calculations was not always an exact number but</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  returned a numerical approximation instead.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  This has now been improved by introducing a `NumericValue` type that</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  encapsulates exact numbers and by doing all calculations in this type.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Previously the calculations were handled manually in the various evaluation</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  functions. This made the code complicated and error prone.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  A `NumericValue` is made of:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - an imaginary part, represented as a fixed-precision number</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - a real part, represented either as a fixed or arbitrary precision number or</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    as the product of a rational number and the square root of an integer.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - 234.567</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - 1/2</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - 3√5</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - √7/3</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - 4-3i</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  While this is a significant change internally, the external API remains the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  same. The result of calculations should be more predictable and more accurate.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  One change to the public API is that the `expr.numericValue` property is now</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  either a machine precision number or a `NumericValue` object.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **Rule Wildcards**</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  When defining a rule as a LaTeX expression, single character identifiers are</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  interpreted as wildcards. For example, the rule `x + x -&gt; 2x` will match any</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expression with two identical terms. The wildcard corresponding to `x` is</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `_x`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  It is now possible to define sequence wildcards and optional sequence</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  wildcards. Sequence wildcards match 1 or more expressions, while optional</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  sequence wildcards match 0 or more expressions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  They are indicated in LaTeX as `...x` and `...x?` respectively. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr.simplify(&quot;x + ...y -&gt; 2x&quot;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  If `expr` is `a + b + c` the rule will match and return `2a`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr.simplify(&quot;x + ...y? -&gt; 3x&quot;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  If `expr` is `a + b + c` the rule will match and return `3a`. If `expr` is `a`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  the rule will match and return `3a`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **Conditional Rules**</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Rules can now include conditions that are evaluated at runtime. If the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  condition is not satisfied, the rules does not apply.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  For example, to simplify the expression `|x|`:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr.simplify({rules: [</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    &quot;|x_{&gt;=0}| -&gt; x&quot;,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    &quot;|x_{&lt;0}| -&gt; -x&quot;,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ]});</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The condition is indicated as a subscript of the wildcard. The condition can</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  be one of:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `boolean` - a boolean value, True or False</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `string` - a string of characters</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `number` - a number literal</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `symbol`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expression`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `numeric` - an expression that has a numeric value, i.e. 2√3, 1/2, 3.14</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `integer` - an integer value, -2, -1, 0, 1, 2, 3, ...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `natural` - a natural number, 0, 1, 2, 3, ...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `real` - real numbers, including integers</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `imaginary` - imaginary numbers, i.e. 2i, 3√-1 (not including real numbers)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `complex` - complex numbers, including real and imaginary</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `rational` - rational numbers, 1/2, 3/4, 5/6, ...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `irrational` - irrational numbers, √2, √3, π, ...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `algebraic` - algebraic numbers, rational and irrational</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `transcendental` - transcendental numbers, π, e, ...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `positive` - positive real numbers, \&gt; 0</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `negative` - negative real numbers, \&lt; 0</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `nonnegative` - nonnegative real numbers, \&gt;= 0</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `nonpositive` - nonpositive real numbers, \&lt;= 0</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `even` - even integers, 0, 2, 4, 6, ...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `odd` - odd integers, 1, 3, 5, 7, ...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `prime` :A000040 - prime numbers, 2, 3, 5, 7, 11, ...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `composite` :A002808 - composite numbers, 4, 6, 8, 9, 10, ...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `notzero` - a value that is not zero</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `notone` - a value that is not one</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `finite` - a finite value, not infinite</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `infinite`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `constant`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `variable`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `function`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `operator`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `relation` - an equation or inequality</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `equation`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `inequality`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `vector` - a tensor of rank 1</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `matrix` - a tensor of rank 2</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `list` - a collection of values</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `set` - a collection of unique values</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `tuple` - a fixed length list</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `single` - a tuple of length 1</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `pair` - a tuple of length 2</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `triple` - a tuple of length 3</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `collection` - a list, set, or tuple</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `tensor` - a nested list of values of the same type</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `scalar` - not a tensor or list</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  or one of the following expressions:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `&gt;0&#x27;` -&gt; `positive`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\gt0&#x27;` -&gt; `positive`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `&lt;0&#x27;` -&gt; `negative`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\lt0&#x27;` -&gt; `negative`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `&gt;=0&#x27;` -&gt; `nonnegative`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\geq0&#x27;` -&gt; `nonnegative`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `&lt;=0&#x27;` -&gt; `nonpositive`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\leq0&#x27;` -&gt; `nonpositive`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `!=0&#x27;` -&gt; `notzero`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\neq0&#x27;` -&gt; `notzero`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `!=1&#x27;` -&gt; `notone`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\neq1&#x27;` -&gt; `notone`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\Z&#x27;` -&gt; `integer`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\mathbb{Z}&#x27;` -&gt; `integer`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\N&#x27;` -&gt; `natural`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\mathbb{N}&#x27;` -&gt; `natural`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\R&#x27;` -&gt; `real`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\mathbb{R}&#x27;` -&gt; `real`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\C&#x27;` -&gt; `complex`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\mathbb{C}&#x27;` -&gt; `complex`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\Q&#x27;` -&gt; `rational`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\mathbb{Q}&#x27;` -&gt; `rational`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\Z^+&#x27;` -&gt; `integer,positive`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\Z^-&#x27;` -&gt; `intger,negative`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\Z^*&#x27;` -&gt; `nonzero`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\R^+&#x27;` -&gt; `positive`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\R^-&#x27;` -&gt; `negative`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\R^*&#x27;` -&gt; `real,nonzero`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\N^*&#x27;` -&gt; `integer,positive`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\N_0&#x27;` -&gt; `integer,nonnegative`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\in\R\backslash\Q&#x27;` -&gt; `irrational`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  More complex conditions can be specified following a semi-colon, for example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr.simplify({x -&gt; 2x; x &lt; 10});</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Note that this syntax complements the existing rule syntax, and can be used</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  together with the existing, more verbose, rule syntax.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr.simplify({rules: [</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    {match: &quot;x + x&quot;, replace: &quot;2x&quot;, condition: &quot;x &lt; 10&quot;}</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ]});</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  This advanced syntax can specify more complex conditions, for example above</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  the rule will only apply if `x` is less than 10.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved results for `Expand`. In some cases the expression was not fully</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expanded. For example, `4x(3x+2)-5(5x-4)` now returns `12x^2 - 17x + 20`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Previously it returned `4x(3x+2)+25x-20`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **AsciiMath serialization** The `expr.toString()` method now returns a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  serialization of the expression using the [AsciiMath](https://asciimath.org/)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  format.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The serialization to AsciiMath can be customized using the `toAsciiMath()`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  method. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.log(ce.box([&#x27;Sigma&#x27;, 2]).toAsciiMath({functions: {Sigma: &#x27;sigma&#x27;}}));</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; sigma(2)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The tolerance can now be specified with a value of `&quot;auto&quot;` which will use the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  precision to determine a reasonable tolerance. The tolerance is used when</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  comparing two numbers for equality. The tolerance can be specified with the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.tolerance` property or in the Compute Engine constructor.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Boxed expressions have some additional properties:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.isNumberLiteral` - true if the expression is a number literal.This is</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    equivalent to checking if `expr.numericValue` is not `null`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.re` - the real part of the expression, if it is a number literal,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    `undefined` if not a number literal.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.im` - the imaginary part of the expression, if it is a number literal,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    `undefined` if not a number literal.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.bignumRe` - the real part of the expression as a bignum, if it is a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    number literal, `undefined` if not a number literal or a bignum</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    representation is not available.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.bignumIm` - the imaginary part of the expression as a bignum, if it is</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    a number literal, `undefined` if not a number literal or if a bignum</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    representation is not available.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `expr.root()` to get the root of the expression. For example, `expr.root(3)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    will return the cube root of the expression.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - Additionally, the relational operators (`expr.isLess(), expr.isEqual()`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    etc...) now accept a number argument. For example, `expr.isGreater(1)` will</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    return true if the expression is greater than 1.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added LaTeX syntax to index collections. If `a` is a collection:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `a[i]` is parsed as `[&quot;At&quot;, &quot;a&quot;, &quot;i&quot;]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `a[i,j]` is parsed as `[&quot;At&quot;, &quot;a&quot;, &quot;i&quot;, &quot;j&quot;]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `a_i` is parsed as `[&quot;At&quot;, &quot;a&quot;, &quot;i&quot;]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `a_{i,j}` is parsed as `[&quot;At&quot;, &quot;a&quot;, &quot;i&quot;, &quot;j&quot;]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added support for Kronecker delta notation, i.e. `\delta_{ij}`, which is</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  parsed as `[&quot;KroneckerDelta&quot;, &quot;i&quot;, &quot;j&quot;]` and is equal to 1 if `i = j` and 0</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  otherwise.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  When a single index is provided the value of the function is 1 if the index is</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  0 and 0 otherwise</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  When multiple index are provided, the value of the function is 1 if all the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  indexes are equal and 0 otherwise.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added support for Iverson Bracket notation, i.e. `[a = b]`, which is parsed as</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;Boole&quot;, [&quot;Equal&quot;, &quot;a&quot;, &quot;b&quot;]]` and is equal to 1 if its argument is true and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  0 otherwise. The argument is expected to be a relational expression.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Implemented `Unique` and `Tally` on collections. `Unique` returns a collection</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  with only the unique elements of the input collection, and `Tally` returns a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  collection with the count of each unique element.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.log(ce.box([&#x27;Unique&#x27;, [&#x27;List&#x27;, 1, 2, 3, 1, 2, 3, 4, 5]]).value);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; [1, 2, 3, 4, 5]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.log(ce.box([&#x27;Tally&#x27;, [&#x27;List&#x27;, 1, 2, 3, 1, 2, 3, 4, 5]]).value);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; [[&#x27;List&#x27;, 1, 2, 3, 4, 5], [&#x27;List&#x27;, 2, 2, 2, 1, 1]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Implemented the `Map`, `Filter` and `Tabulate` functions. These functions can</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  be used to transform collections, for example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // Using LaTeX</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.log(ce.parse(&#x27;\\mathrm{Map}([3, 5, 7], x \\mapsto x^2)&#x27;).toString());</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; [9, 25, 49]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // Using boxed expressions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.log(</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    ce.box([&#x27;Map&#x27;, [&#x27;List&#x27;, 3, 5, 7], [&#x27;Square&#x27;, &#x27;_&#x27;]]).value</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  );</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; [9, 25, 49]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.log(ce.box([&#x27;Tabulate&#x27;,[&#x27;Square&#x27;, &#x27;_&#x27;], 5]).value);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; [1, 4, 9, 16, 25]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `Tabulate` can be used with multiple indexes. For example, to generate a 4x4</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  unit matrix:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.log(ce.box([&#x27;Tabulate&#x27;, [&#x27;If&#x27;, [&#x27;Equal&#x27;, &#x27;_1&#x27;, &#x27;_2&#x27;], 1, 0]], 4, 4).value);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // Using the Kronecker delta notation:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.log(ce.parse(&#x27;\\mathrm{Tabulate}(i, j \\mapsto \\delta_{ij}, 4, 4)&#x27;).value);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Random` function. `[&quot;Random&quot;]` returns a real pseudo-random number</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  betwen 0 and 1. `[&quot;Random&quot;, 10]` returns an integer between 0 and 9,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;Random&quot;, 5, 10]` returns an integer between 5 and 10.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Extended the definition of `expr.isConstant`. Previously, it only applied to</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  symbols, e.g. `Pi`. Now it apply to all expressions. `expr.isConstant` is true</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  if the expression is a number literal, a symbol with a constant value, or a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  pure function with constant arguments.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The boxed expression properties `isPositive`, `isNegative`, `isNonNegative`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `isNonPositive`, `isZero`, `isNotZero` now return a useful value for most</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  function expressions. For example, `ce.parse(&#x27;|x + 1|&#x27;).isPositive` is true.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  If the value cannot be determined, the property will return `undefined`. For</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  example, `ce.parse(&#x27;|x + 1|&#x27;).isZero` is `undefined`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  If the expression is not a real number, the property will return `NaN`. For</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  example, `ce.parse(&#x27;i&#x27;).isPositive` is `NaN`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Choose` function to compute binomial coefficients, i.e. `Choose(5, 2)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  is equal to 10.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The fallback for non-constructible complex values of trigonometric functions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  is now implemented via rules.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The canonical order of the arguments has changed and should be more consistent</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  and predictable. In particular, for polynomials, the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  [monomial order](https://en.wikipedia.org/wiki/Monomial_order) is now</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  **degrevlex**.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Canonical expressions can now include a `Root` expression. For example, the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  canonical form of `\\sqrt[3]{5}` is `[&quot;Root&quot;, 5, 3]`. Previously, these were</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  represented as `[&quot;Power&quot;, 5, [&quot;Divide&quot;, 1, 3]]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The function definitions no longer have a `N` handler. Instead the `evaluate`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  handler has an optional `{numericApproximation}` argument.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#188** Throw an error when invalid expressions are boxed, for example</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.box([&quot;Add&quot;, [&quot;3&quot;]])`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Some LaTeX renderer can&#x27;t render `\/`, so use `/` instead.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When definitions are added to the LaTeX dictionary, they now take precedence</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  over the built-in definitions. This allows users to override the built-in</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  definitions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved parsing of functions, including when a mixture of named and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  positional arguments are used.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#175** Matching some patterns when the target had not enough operands would</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  result in a runtime error.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.25.1 _2024-06-27_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#174** Fixed some simplifications, such as `\frac{a^n}{a^m} = a^{n-m)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Rules can be defined using a new shorthand syntax, where each rule is a string</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  of LaTeX:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr.simplify([&quot;\\frac{x}{x} -&gt; 1&quot;, &quot;x + x -&gt; 2x&quot;]);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Single letter variables are assumed to be wildcards, so `x` is interpreted as</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">the wildcard `_x`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Additionally, the expanded form can also include LaTeX strings. The previous</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">syntax using expressions can still be used, and the new and old syntax can be</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">mixed.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">expr.simplify([</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    match: &quot;\\frac{x}{x}&quot;,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    replace: &quot;1&quot;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  },</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    match: [&quot;Add&quot;, &quot;x&quot;, &quot;x&quot;],</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    replace: &quot;2x&quot;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  }</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">]);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">The `condition` function can also be expressed as a LaTeX string.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr.simplify([ { match: &quot;\\frac{x}{x}&quot;, replace: 1, condition: &quot;x != 0&quot; }, ]);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">The shorthand syntax can be used any where a ruleset is expected, including with</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">the `ce.rule()` function.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- A new `ce.getRuleSet()` method gives access to the built-in rules.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#171** The `Subtract` and `Divide` function can now accept an arbitrary</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  number of arguments. For example, `[&quot;Subtract&quot;, 1, 2, 3]` is equivalent to</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;Subtract&quot;, [&quot;Subtract&quot;, 1, 2], 3]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.25.0 _2024-06-25_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The canonical form of expressions has changed. It is now more consistent and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  simpler and should produce more predictable results.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  For example, previously `ce.parse(&quot;1-x^2&quot;)` would produce</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;Subtract&quot;, 1, [&quot;Square&quot;, &quot;x&quot;]]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  While this is a readable form, it introduces some complications when</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  manipulating the expression: both the `Subtract` and `Square` functions have</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  to be handled, in addition to `Add` and `Power`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The new canonical form of this expression is</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;Add&quot;, 1, [&quot;Negate&quot;, [&quot;Power&quot;, &quot;x&quot;, 2]]]`. It is a bit more verbose, but it</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  is simpler to manipulate.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `ce.serialize()` method has been replaced with `expr.toLatex()` and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `expr.toMathJson()`. The `ce.latexOptions` and `ce.jsonSerializationOptions`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  properties have been removed. Instead, pass the formating options directly to</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  the `toLatex()` and `toMathJson()` methods. The `ce.parse()` method now takes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  an optional argument to specify the format of the input string.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The default JSON serialization of an expression has changed.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Previously, the default JSON serialization, accessed via the `.json` property,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  had some transformations applied to it (sugaring) to make the JSON more human</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  readable.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  For example, `ce.parse(&quot;\frac12&quot;).json` would return the symbol `&quot;Half&quot;`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  instead of `[&quot;Divide&quot;, 1, 2]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  However, this could lead to some confusion when manipulating the JSON</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  directly. Since the JSON is intended to be used by machine more than humans,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  these additional transformations have been removed.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The `expr.json` property now returns the JSON representing the expression,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  without any transformations.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  To get a version of JSON with some transformations applied use the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.toMathJson()` function.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr = ce.box([&quot;Subtract&quot;, 1, [&quot;Square&quot;, &quot;x&quot;]]);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.log(expr.json);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; [&quot;Add&quot;, 1, [&quot;Negate&quot;, [&quot;Power&quot;, &quot;x&quot;, 2]]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr.toMathJson()</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; [&quot;Subtract&quot;, 1, [&quot;Square&quot;, &quot;x&quot;]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expr.toMathJson({exclude: &quot;Square&quot;})</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; [&quot;Subtract&quot;, 1, [&quot;Power&quot;, &quot;x&quot;, 2]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  In practice, the impact of both of these changes should be minimal. If you</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  were manipulating expressions using `BoxedExpression`, the new canonical form</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  should make it easier to manipulate expressions. You can potentially simplify</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  your code by removing special cases for functions such as `Square` and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `Subtract`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  If you were using the JSON serialization directly, you may also be able to</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  simplify you code since the default output from `expr.json` is now more</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  consistent and simpler.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The name of some number formatting options has changed. The number formatting</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  options are an optional argument of `ce.parse()` and `ce.toLatex()`. See the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `NumberFormat` and `NumberSerializationFormat` types.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The values +infinity, -infinity and NaN are now represented preferably with</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  the symbols `PositiveInfinity`, `NegativeInfinity` and `NaN` respectively.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Previously they were represented with numeric values, i.e.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `{num: &quot;+Infinity&quot;}`, `{num: &quot;-Infinity&quot;}` and `{num: &quot;NaN&quot;}`. The numeric</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  values are still supported, but the symbols are preferred.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The method `expr.isNothing` has been removed. Instead, use</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `expr.symbol === &quot;Nothing&quot;`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When serializing to LaTeX, the output can be &quot;prettified&quot;. This involves</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  modifying the LaTeX output to make it more pleasant to read, for example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `a+\\frac{-b}{c}` -&gt; `a-\\frac{b}{c}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `a\\times b^{-1}` -&gt; `\\frac{a}{b}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\\frac{a}{b}\\frac{c}{d}` -&gt; `\\frac{a\\cdot c}{b\\cdot d}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `--2` -&gt; `2`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  This is on by default and can be turned off by setting the `prettify` option</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  to `false`. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.parse(&quot;a+\\frac{-b}{c}&quot;).toLatex({prettify: true})</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; &quot;a-\\frac{b}{c}&quot;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.parse(&quot;a+\\frac{-b}{c}&quot;).toLatex({prettify: false})</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; &quot;a+\\frac{-b}{c}&quot;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Numbers can have a different digit group length for the whole and fractional</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  part of a number. For example,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.toLatex(ce.parse(&quot;1234.5678&quot;), {digitGroup: [3, 0]})` will return</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `1\,234.5678`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Numbers can now be formatted using South-East Asian Numbering System, i.e.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  lakh and crore. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.toLatex(ce.parse(&quot;12345678&quot;), {digitGroup: &quot;lakh&quot;})</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  // -&gt; &quot;1,23,45,678&quot;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Expressions with Integrate functions can now be compiled to JavaScript. The</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  compiled function can be used to evaluate the integral numerically. For</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const f = ce.parse(&quot;\\int_0^1 x^2 dx&quot;);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  const compiled = f.compile();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console.log(compiled()); // -&gt; 0.33232945619482307</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#82** Support for angular units. The default is radians, but degrees can be</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  used by setting `ce.angularUnit = &quot;deg&quot;`. Other possible values are &quot;grad&quot; and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  &quot;turn&quot;. This affects how unitless numbers with a trigonometric function are</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  interpreted. For example, `sin(90)` will return 1 when `ce.angularUnit` is</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  &quot;deg&quot;, 0.8939966636005579 when `ce.angularUnit` is &quot;grad&quot; and 0 when</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.angularUnit` is &quot;turn&quot;.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `expr.map(fn)` method to apply a function to each subexpression of an</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expression. This can be useful to apply custom canonical forms and compare two</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expressions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- An optional canonical form can now be specified with the `ce.function()`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#173** Parsing `1++2` would result in an expression with a `PreIncrement`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  function. It is now correctly parsed as `[&quot;Add&quot;, 1, 2]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#161** Power expressions would not be processed when their argument was a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Divide expression.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#165** More aggressive simplification of expressions with exponent greater</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  than 3.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#169** Calculating a constant integral (and integral that did not depend on</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  the variable) would result in a runtime error.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#164** Negative mixed fractions (e.g. `-1\frac23`) are now parsed correctly.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#162** Numeric evaluation of expressions with large exponents could result</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  in machine precision numbers instead of bignum numbers.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#155** The expression</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;Subtract&quot;, [&quot;Multiply&quot;, 0.5, &quot;x&quot;], [&quot;Divide&quot;, &quot;x&quot;, 2]]` will now evaluate</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  to `0`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#154** In some cases, parsing implicit argument of trig function return more</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  natural results, for example `\cos a \sin b` is now parsed as</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `(\cos a)(\sin b)` and not `\cos (a \sin b)`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#147** The associativity of some operators, including `/` was not applied</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  correctly, resulting in unexpected results. For example, `1/2/3` would be</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  parsed as `[&quot;Divide&quot;, 1, [&quot;Divide&quot;, 2, 3]]` instead of</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;Divide&quot;, [&quot;Divide&quot;, 1, 2], 3]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#146** When parsing an expression like `x(x+1)` where `x` is an undeclared</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  symbol, do not infer that `x` is a function. Instead, infer that `x` is a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  variable and that the expression is a product.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#145** The expression `[&quot;Or&quot;, &quot;False&quot;, &quot;False&quot;]`, that is when all the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  arguments are `False`, is now evaluates to `False`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed canonical form of `e^x^2`, and more generally apply power rule in more</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  cases.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added missing &quot;Sech&quot; and &quot;Csch&quot; functions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The digit grouping serializing would place the separator in the wrong place</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  for some numbers.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `avoidExponentsInRange` formating option would not always avoid exponents</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  in the specified range.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.24.0 _2024-02-23_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fix parsing of very deeply nested expressions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly apply rules to deeply nested expressions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `expr.print()` now correctly prints the expression when using the minified</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  version of the library.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `expr.isEqual()` now correctly compares equalities and inequalities.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `expr.match()` has been improved and works correctly in more cases. The</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  signature of the `match` function has been changed so that the pattern is the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  first argument, i.e. instead of `pattern.match(expr)` use</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `expr.match(pattern)`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fix `expr.print()` when using the minified version of the library.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#142** Accept complex expressions as the subcript of `\ln` and `\log` in</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  LaTeX.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#139** Parse quantifiers `\forall` and `\exists` in LaTeX.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.23.1 _2024-01-27_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Using a custom canonical order of `&quot;Multiply&quot;` would not distribute the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `Negate` function.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#141** The canonical form `&quot;Order&quot;` was applied to non-commutative</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  functions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.23.0 _2024-01-01_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `ExpandAll` function to expand an expression recursively.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Factor` function to factor an expression.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Together` function to combine rational expressions into a single</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  fraction.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The expression `\frac5 7` is now parsed correctly as `\frac{5}{7}` instead of</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `\frac{5}{}7`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Do not sugar non-canonical expression. Previously,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.parse(&#x27;\\frac{1}{2}&#x27;, {canonical: false})` would return `Half` instead of</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&#x27;Divide&#x27;, &#x27;1&#x27;, &#x27;2&#x27;]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#132** Attempting to set a value to 0 with</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.defineSymbol(&quot;count&quot;, {value: 0})` would fail: the symbol would be</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  undefined.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly evaluate power expressions in some cases, for example</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `(\sqrt2 + \sqrt2)^2`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Comparison of expressions containing non-exact numbers could fail. For</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  example: `2(13.1+3.1x)` and `26.2+6.2x` would not be considered equal.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Significant improvements to symbolic computation. Now, boxing,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  canonicalization and evaluation are more consistent and produce more</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  predictable results.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Adedd the `\neg` command, synonym for `\lnot` -&gt; `Not`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Relational expressions (inequalities, etc...) are now properly factored.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Integers are now factored when simplifying, i.e. `2x = 4x` -&gt; `x = 2x`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.22.0 _2023-11-13_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **Rule Syntax**</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The syntax to describe rules has changed. The syntax for a rule was previously</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  a tuple `[lhs, rhs, {condition} ]`. The new syntax is an object with the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  properties `match`, `replace` and `condition`. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - previous syntax: `[[&quot;Add&quot;, &quot;_x&quot;, &quot;_x&quot;], [&quot;Multiply&quot;, 2, &quot;_x&quot;]]`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - new syntax: `{match: [&quot;Add&quot;, &quot;_x&quot;, &quot;_x&quot;], replace: [&quot;Multiply&quot;, 2, &quot;_x&quot;]}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The `condition` property is optional, and is either a boxed function or a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  JavaScript function. For example, to add a condition that checks that `_x` is</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  a number literal:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  {</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    match: [&quot;Add&quot;, &quot;_x&quot;, &quot;_x&quot;],</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    replace: [&quot;Multiply&quot;, 2, &quot;_x&quot;],</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    condition: ({_x}) =&gt; _x.isNumberLiteral</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  }</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **`CanonicalForm`**</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The `CanonicalOrder` function has been replaced by the more flexible</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `CanonicalForm` function. The `CanonicalForm` function takes an expression and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  a list of transformations to apply. To apply the same transformations as</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `CanonicalOrder`, use:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```json</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  [&#x27;CanonicalForm&#x27;, expr, &#x27;Order&#x27;]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  These canonical forms can also be specified with `box()` and `parse()`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  options:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.box(expr, { canonical: &quot;Order&quot; });</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.parse(&quot;x^2 + 2x + 1&quot;, { canonical: &quot;Order&quot; });</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Work In Progress</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Linear algebra functions: `Rank`, `Shape`,`Reshape`, `Flatten`, `Determinant`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `Trace`, `Transpose`, `ConjugateTranspose`, `Inverse`. See the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  [Linear Algebra](/compute-engine/reference/linear-algebra/) reference guide.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Some of these function may not yet return correct result in all cases.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added a `expr.print()` method as a synonym for `console.log(expr.toString())`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added an `exact` option (false by default) to the `expr.match()` pattern</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  matching method. When `true` some additional patterns are automatically</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  recognized, for example, `x` will match `[&quot;Multiply&quot;, &#x27;_a&#x27;, &#x27;x&#x27;]` when `exact`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  is `false`, but not when `exact` is `true`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The equation solver used by `expr.solve()` has been improved and can now solve</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  more equations.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The pattern matching engine has been improved and can now match more</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expressions, including sequences for commutative functions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.21.0 _2023-11-02_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#125** Parse and serialize environemnts, i.e.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `\begin{matrix} 1 &amp; 2 \\ 3 &amp; 4 \end{matrix}` will be parsed as</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;Matrix&quot;, [&quot;List&quot;, [&quot;List&quot;, 1, 2], [&quot;List&quot;, 3, 4]]]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  A new section on</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  [Linear Algebra](/compute-engine/reference/linear-algebra/#formatting) has</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  some details on the supported formats.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The linear algebra operations are limited at the moment, but will be expanded</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  in the future.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `IsSame` function, which is the function expression corresponding to</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `expr.isSame()`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- &lt;s&gt;Added `CanonicalOrder` function, which sorts the arguments of commutative</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  functions into canonical order. This is useful to compare two non-canonical</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expressions for equality.&lt;/s&gt;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce.box([&quot;CanonicalOrder&quot;, [&quot;Add&quot;, 1, &quot;x&quot;]]).isSame(</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.box([&quot;CanonicalOrder&quot;, [&quot;Add&quot;, &quot;x&quot;, 1]])</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; true</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issue Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When evaluating a sum (`\sum`) with a bound that is not a number, return the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  sum expression instead of an error.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.20.2 _2023-10-31_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed numerical evaluation of integrals and limits when parsed from LaTeX.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console.info(ce.parse(&quot;\\lim_{x \\to 0} \\frac{\\sin(x)}{x}&quot;).value);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; 1</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console.info(ce.parse(&quot;\\int_{0}^{2} x^2 dx&quot;).value);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; 2.6666666666666665</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.20.1 _2023-10-31_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed evaluation of functions with multiple arguments</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed compilation of some function assignments</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved serialization of function assignment</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.20.0 _2023-10-30_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **Architectural changes**: the invisible operator is used to represent the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  multiplication of two adjacent symbols, i.e. `2x`. It was previously handled</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  during parsing, but it is now handled during canonicalization. This allows</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  more complex syntactic structures to be handled correctly, for example</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `f(x) := 2x`: previously, the left-hand-side argument would have been parsed</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  as a function application, while in this case it should be interpreted as a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  function definition.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  A new `InvisibleOperator` function has been added to support this.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The `applyInvisibleOperator` parsing option has been removed. To support</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  custom invisible operators, use the `InvisibleOperator` function.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#25** Correctly parse chained relational operators, i.e. `a &lt; b &lt;= c`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#126** Logic operators only accepted up to two arguments.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#127** Correctly compile `Log` with bases other than 10.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly parse numbers with repeating patterns but no fractional digits, i.e.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `0.(1234)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly parse `|1+|a|+2|`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features and Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Function assignment can now be done with this syntax: `f(x) := 2x+1`. This</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  syntax is equivalent to `f := x -&gt; 2x+1`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Implement the `Mod` and `Congruent` function.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly parse `11 \bmod 5` (`Mod`) and `26\equiv 11 \pmod5` (`Congruent`)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Better handle empty argument lists, i.e. `f()`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When a function is used before being declared, infer that the symbol is a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  function, e.g. `f(12)` will infer that `f` is a function (and not a variable</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `f` multiplied by 12)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When a constant is followed by some parentheses, don&#x27;t assume this is a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  function application, e.g. `\pi(3+n)` is now parsed as</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;Multiply&quot;, &quot;Pi&quot;, [&quot;Add&quot;, 3, &quot;n&quot;]]` instead of `[&quot;Pi&quot;, [&quot;Add&quot;, 3, &quot;n&quot;]]`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved parsing of nested lists, sequences and sets.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved error messages when syntax errors are encountered during LaTeX</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  parsing.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When parsing with the canonical option set to false, preserve more closely the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  original LaTeX syntax.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When parsing text strings, convert some LaTeX commands to Unicode, including</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  spacing commands. As a result, `ce.parse(&quot;\\text{dead\;beef}_{16}&quot;)` correctly</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  gets evaluated to 3,735,928,559.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.19.1 _2023-10-26_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Assigning a function to an indentifier works correctly now, i.e.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce.parse(&quot;\\operatorname{f} := x \\mapsto 2x&quot;).evaluate();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.19.0 _2023-10-25_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `domain` property of the function definition `signature` is deprecated and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  replaced with the `params`, `optParams`, `restParam` and `result` properties</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  instead. The `domain` property is still supported for backward compatibility,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  but will be removed in a future version.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When invoking a declared function in a numeric operation, correctly infer the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  result type.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```json</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;Assign&quot;, &quot;f&quot;, [&quot;Add&quot;, &quot;_&quot;, 1]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;Add&quot;, [&quot;f&quot;, 1], 1]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; 3</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Previously a domain error was returned, now `f` is inferred to have a numeric</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">return type.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed a runtime error when inverting a fraction, i.e. `\frac{3}{4}^{-1}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The tangent of π/2 now correctly returns `ComplexInfinity`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The exact values of some constructible trigonometric operations (e.g.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `\tan 18\degree = \frac{\sqrt{25-10\sqrt5}}{5}`) returned incorrect results.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  The unit test case was incorrect and did not detect the problem. The unit test</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  case has been fixed and the returned values are now correct.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Implemented `Union` and `Intersection` of collections, for example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```json</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;Intersection&quot;, [&quot;List&quot;, 3, 5, 7], [&quot;List&quot;, 2, 5, 9]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; [&quot;Set&quot;, 5]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;Union&quot;, [&quot;List&quot;, 3, 5, 7], [&quot;List&quot;, 2, 5, 9]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; [&quot;Set&quot;, 3, 5, 7, 2, 9]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Parse ranges, for example `1..5` or `1, 3..10`. Ranges are collections and can</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  be used anywhere collections can be used.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The functions `Sum`, `Product`, `Min`, `Max`, and the statistics functions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  (`Mean`, `Median`, `Variance`, etc...) now handle collection arguments:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  collections:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `[&quot;Range&quot;]`, `[&quot;Interval&quot;]`, `[&quot;Linspace&quot;]` expressions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `[&quot;List&quot;]` or `[&quot;Set&quot;]` expressions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `[&quot;Tuple&quot;]`, `[&quot;Pair&quot;]`, `[&quot;Pair&quot;]`, `[&quot;Triple&quot;]` expressions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `[&quot;Sequence&quot;]` expressions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Most mathematical functions are now threadable, that is their arguments can be</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  collections, for example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```json</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;Sin&quot;, [&quot;List&quot;, 0, 1, 5]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; [&quot;List&quot;, 0, 0.8414709848078965, -0.9589242746631385]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;Add&quot;, [&quot;List&quot;, 1, 2], [&quot;List&quot;, 3, 4]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; [&quot;List&quot;, 4, 6]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `GCD` and `LCM` functions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```json</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;GCD&quot;, 10, 5, 15]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; 5</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;LCM&quot;, 10, 5, 15]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; 30</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Numerator`, `Denominator`, `NumeratorDenominator` functions. These</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  functions can be used on non-canonical expressions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Head` and `Tail` functions which can be used on non-canonical</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expressions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `display-quotient` and `inline-quotient` style for formatting of</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  division expressions in LaTeX.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved parsing of `\degree` command</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce.parse(&quot;30\\degree)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; [&quot;Divide&quot;, &quot;Pi&quot;, 6]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved interoperability with JavaScript: `expr.value` will return a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  JavaScript primitive (`number`, `boolean`, `string`, etc...) when possible.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  This is a more succinct version of `expr.N().valueOf()`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.18.1 _2023-10-16_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Parsing of whole numbers while in `rational` mode would return incorrect</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  results.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `ND` function to evaluate derivatives numerically now return correct</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  values.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce.parse(&quot;\\mathrm{ND}(x \\mapsto 3x^2+5x+7, 2)&quot;).N();</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; 17.000000000001</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Speed up `NIntegrate` by temporarily switching the numeric mode to `machine`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  while computing the Monte Carlo approximation.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.18.0 _2023-10-16_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Expanded LaTeX dictionary with `\max`, `\min`, `\sup`, `\inf` and `\lim`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  functions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Supremum` and `Infimum` functions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Compilation of `Block` expressions, local variables, return statements and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  conditionals `If`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added numerical evaluation of limits with `Limit` functions and `NLimit`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  functions, using a Richardson Extrapolation.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console.info(ce.parse(&quot;\\lim_{x\\to0} \\frac{\\sin x}{x}&quot;).N().json);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; 1</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console.info(</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  ce.box([&quot;NLimit&quot;, [&quot;Divide&quot;, [&quot;Sin&quot;, &quot;_&quot;], &quot;_&quot;], 0]).evaluate().json</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; 1</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console.info(ce.parse(&quot;\\lim_{x\\to \\infty} \\cos \\frac{1}{x}&quot;).N().json);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; 1</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Assign` and `Declare` functions to assign values to symbols and declare</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  symbols with a domain.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `Block` evaluations with local variables work now. For example:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```js</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">ce.box([&quot;Block&quot;, [&quot;Assign&quot;, &quot;c&quot;, 5], [&quot;Multiply&quot;, &quot;c&quot;, 2]]).evaluate().json;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; 10</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When decimal numbers are parsed they are interpreted as inexact numbers by</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  default, i.e. &quot;1.2&quot; -&gt; `{num: &quot;1.2&quot;}`. To force the number to be interpreted</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  as a rational number, set `ce.latexOptions.parseNumbers = &quot;rational&quot;`. In that</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  case, &quot;1.2&quot; -&gt; `[&quot;Rational&quot;, 12, 10]`, an exact number.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  While regular decimals are considered &quot;inexact&quot; numbers (i.e. they are assumed</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  to be an approximation), rationals are assumed to be exact. In most cases, the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  safest thing to do is to consider decimal numbers as inexact to avoid</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  introducing errors in calculations. If you know that the decimal numbers you</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  parse are exact, you can use this option to consider them as exact numbers.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- LaTeX parser: empty superscripts are now ignored, e.g. `4^{}` is interpreted</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  as `4`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.17.0 _2023-10-12_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `Nothing` domain has been renamed to `NothingDomain`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `Functions`, `Maybe`, `Sequence`, `Dictionary`, `List` and `Tuple` domain</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  constructors have been renamed to `FunctionOf`, `OptArg`, `VarArg`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `DictionaryOf`, `ListOf` and `TupleOf`, respectively.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Domains no longer require a `[&quot;Domain&quot;]` expression wrapper, so for example</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.box(&quot;Pi&quot;).domain` returns `&quot;TranscendentalNumbers&quot;` instead of</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;Domain&quot;, &quot;TranscendentalNumbers&quot;]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `VarArg` domain constructor now indicates the presence of 0 or more</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  arguments, instead of 1 or more arguments.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `MaybeBooleans` domain has been dropped. Use</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;Union&quot;, &quot;Booleans&quot;, &quot;NothingDomain&quot;]` instead.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `ce.defaultDomain` has been dropped. The domain of a symbol is now</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  determined by the context in which it is used, or by the `ce.assume()` method.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  In some circumstances, the domain of a symbol can be `undefined`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Symbolic derivatives of expressions can be calculated using the `D` function.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  For example, `ce.box([&quot;D&quot;, ce.parse(&quot;x^2 + 3x + 1&quot;), &quot;x&quot;]).evaluate().latex`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  returns `&quot;2x + 3&quot;`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Some frequently used expressions are now available as predefined constants,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  for example `ce.Pi`, `ce.True` and `ce.Numbers`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved type checking and inference, especially for functions with</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  complicated or non-numeric signatures.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Bugs Fixed</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Invoking a function repeatedly would invoke the function in the original scope</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  rather than using a new scope for each invocation.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.16.0 _2023-09-29_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The methods `ce.let()` and `ce.set()` have been renamed to `ce.declare()` and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.assign()` respectively.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The method `ce.assume()` requires a predicate.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The signatures of `ce.assume()` and `ce.ask()` have been simplified.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The signature of `ce.pushScope()` has been simplified.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `expr.freeVars` property has been renamed to `expr.unknowns`. It returns</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  the identifiers used in the expression that do not have a value associated</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  with them. The `expr.freeVariables` property now return the identifiers used</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  in the expression that are defined outside of the local scope and are not</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  arguments of the function, if a function.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **Domain Inference** when the domain of a symbol is not set explicitly (for</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  example with `ce.declare()`), the domain is inferred from the value of the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  symbol or from the context of its usage.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Assume`, `Identity`, `Which`, `Parse`, `N`, `Evaluate`, `Simplify`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `Domain`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Assignments in LaTeX: `x \\coloneq 42` produce `[&quot;Assign&quot;, &quot;x&quot;, 42]`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `ErfInv` (inverse error function)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Factorial2` (double factorial)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">#### Functions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Functions can now be defined:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - using `ce.assign()` or `ce.declare()`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - evaluating LaTeX: `(x, y) \mapsto x^2 + y^2`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - evaluating MathJSON:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    `[&quot;Function&quot;, [&quot;Add&quot;, [&quot;Power&quot;, &quot;x&quot;, 2], [&quot;Power&quot;, &quot;y&quot;, 2]]], &quot;x&quot;, &quot;y&quot;]`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Function can be applied using `\operatorname{apply}` or the operators `\rhd`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  and `\lhd`:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\operatorname{apply}(f, x)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `f \rhd x`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `x \lhd f`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">See</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[Adding New Definitions](https://cortexjs.io/compute-engine/guides/augmenting/)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">and [Functions](https://cortexjs.io/compute-engine/reference/functions/).</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">#### Control Structures</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `FixedPoint`, `Block`, `If`, `Loop`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Break`, `Continue` and `Return` statements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">See</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[Control Structures](https://cortexjs.io/compute-engine/reference/control-structures/)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">#### Calculus</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added numeric approximation of derivatives, using an 8-th order centered</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  difference approximation, with the `ND` function.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added numeric approximation of integrals, using a Monte Carlo method with</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  rebasing for improper integrals, with the `NIntegrate` function</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added symbolic calculation of derivatives with the `D` function.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">#### Collections</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Added support for **collections** such as lists, tuples, ranges, etc...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">See [Collections](https://cortexjs.io/compute-engine/reference/collections/)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Collections can be used to represent various data structures, such as lists,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">vectors, matrixes and more.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">They can be iterated, sliced, filtered, mapped, etc...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```json example</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;Length&quot;, [&quot;List&quot;, 19, 23, 5]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; 3</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;IsEmpty&quot;, [&quot;Range&quot;, 1, 10]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; &quot;False&quot;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;Take&quot;, [&quot;Linspace&quot;, 0, 100, 50], 4]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; [&quot;List&quot;, 0, 2, 4, 6]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;Map&quot;, [&quot;List&quot;, 1, 2, 3], [&quot;Function&quot;, &quot;x&quot;, [&quot;Power&quot;, &quot;x&quot;, 2]]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; [&quot;List&quot;, 1, 4, 9]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;Exclude&quot;, [&quot;List&quot;, 33, 45, 12, 89, 65], -2, 2]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; [&quot;List&quot;, 33, 12, 65]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;First&quot;, [&quot;List&quot;, 33, 45, 12, 89, 65]]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; 33</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The [documentation](https://cortexjs.io/compute-engine/) has been</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  significantly rewritten with help from an AI-powered writing assistant.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The LaTeX string returned in `[&quot;Error&quot;]` expression was incorrectly tagged as</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `Latex` instead of `LatexString`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.15.0 _2023-09-14_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `ce.serialize()` function now takes an optional `canonical` argument. Set</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  it to `false` to prevent some transformations that are done to produce more</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  readable LaTeX, but that may not match exactly the MathJSON. For example, by</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  default `ce.serialize([&quot;Power&quot;, &quot;x&quot;, -1])` returns `\frac{1}{x}` while</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.serialize([&quot;Power&quot;, &quot;x&quot;, -1], {canonical: false})` returns `x^{-1}`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved parsing of delimiters, i.e. `\left(`, `\right]`, etc...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added complex functions `Real`, `Imaginary`, `Arg`, `Conjugate`, `AbsArg`. See</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  [Complex](https://cortexjs.io/compute-engine/reference/complex/)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added parsing and evaluation of `\Re`, `\Im`, `\arg`, `^\star` (Conjugate).</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#104** Added the `[&quot;ComplexRoots&quot;, x, n]` function which returns the nthroot</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  of `x`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added parsing and evaluation of statistics functions `Mean`, `Median`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `StandardDeviation`, `Variance`, `Skewness`, `Kurtosis`, `Quantile`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `Quartiles`, `InterquartileRange`, `Mode`, `Count`, `Erf`, `Erfc`. See</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  [Statistics](https://cortexjs.io/compute-engine/reference/statistics/)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.14.0 _2023-09-13_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The entries in the LaTeX syntax dictionary can now have LaTeX triggers</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  (`latexTrigger`) or triggers based on identifiers (`symbolTrigger`). The</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  former replaces the `trigger` property. The latter is new. An entry with a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `triggerIdentifier` of `average` will match `\operatorname{average}`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `\mathrm{average}` and other variants.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `ce.latexOptions` and `ce.jsonSerializationOptions` properties are more</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  robust. They can be modified directly or one of their properties can be</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  modified.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added more functions and symbols supported by `expr.compile()`:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Factorial` postfix operator `5!`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Gamma` function `\Gamma(2)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `LogGamma` function `\operatorname{LogGamma}(2)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Gcd` function `\operatorname{gcd}(20, 5)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Lcm` function `\operatorname{lcm}(20, 5)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Chop` function `\operatorname{chop}(0.00000000001)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Half` constant `\frac{1}{2}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - &#x27;MachineEpsilon&#x27; constant</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `GoldenRatio` constant</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `CatalanConstant` constant</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `EulerGamma` constant `\gamma`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Max` function `\operatorname{max}(1, 2, 3)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Min` function `\operatorname{min}(13, 5, 7)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - Relational operators: `Less`, `Greater`, `LessEqual`, `GreaterEqual`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    &#x27;Equal&#x27;, &#x27;NotEqual&#x27;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - Some logical operators and constants: `And`, `Or`, `Not`, `True`, `False`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- More complex identifiers syntax are recognized, including `\mathbin{}`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `\mathord{}`, etc... `\operatorname{}` is the recommended syntax, though: it</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  will display the identifier in upright font and with the propert spacing, and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  is properly enclosing. Some commands, such as `\mathrm{}` are not properly</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  enclosing: two adjacent `\mathrm{}` command could be merged into one.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Environments are now parsed and serialized correctly.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When parsing LaTeX, function application is properly handled in more cases,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  including custom functions, e.g. `f(x)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When parsing LaTeX, multiple arguments are properly handled, e.g. `f(x, y)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Add LaTeX syntax for logical operators:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `And`: `\land`, `\operatorname{and}` (infix or function)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Or`: `\lor`, `\operatorname{or}` (infix or function)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Not`: `\lnot`, `\operatorname{not}` (prefix or function)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Xor`: `\veebar` (infix)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Nand`: `\barwedge` (infix)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Nor`: `^^^^22BD` (infix)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Implies`: `\implies` (infix)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `Equivalent`: `\iff` (infix)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When a postfix operator is defined in the LaTeX syntax dictionary of the form</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `^` plus a single token, a definition with braces is added automatically so</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  that both forms will be recognized.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Extended the LaTeX dictionary with:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `floor`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `ceil`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `round`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `sgn`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `exp`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `abs`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `gcd`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `lcm`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `apply`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Properly handle inverse and derivate notations, e.g. `\sin^{-1}(x)`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `\sin&#x27;(x)`, `\cos&#x27;&#x27;(x)`, \cos^{(4)}(x)`or even`\sin^{-1}&#x27;&#x27;(x)`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.13.0 _2023-09-09_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### New Features</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **Compilation** Some expressions can be compiled to Javascript. This is useful</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  to evaluate an expression many times, for example in a loop. The compiled</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  expression is faster to evaluate than the original expression. To get the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  compiled expression, use `expr.compile()`. Read more at</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  [Compiling](https://cortexjs.io/compute-engine/guides/compiling)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved and Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed parsing and serialization of extended LaTeX synonyms for `e` and `i`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed serialization of `Half`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed serialization of `Which`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved serialization of `[&quot;Delimiter&quot;]` expressions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.12.7 _2023-09-08_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Made customization of the LaTeX dictionary simpler. The `ce.latexDictionary`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  property can be used to access and modify the dictionary. The</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  [documentation](https://cortexjs.io/compute-engine/guides/latex-syntax/#customizing-the-latex-dictionary)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  has been updated.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.12.6 _2023-09-08_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- New API for the `Parser` class.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements and Bux Fixes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `ComputeEngine` now exports the `bignum()` and `complex()` methods that</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  can be used to create bignum and complex numbers from strings or numbers. The</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  methods `isBigNum()` and `isComplex()` have also been added to check if a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  value is a bignum (`Decimal`) or complex (`Complex`) number, for example as</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  returned by `expr.numericValue`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#69** `\leq` was incorrectly parsed as `Equals` instead of `LessEqual`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#94** The `\exp` command was not parsed correctly.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Handle `PlusMinus` in infix and prefix position, i.e. `a\pm b` and `\pm a`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved parsing, serialization</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved simplification</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved evaluation of `Sum` and `Product`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Support complex identifiers (i.e. non-latin scripts, emojis).</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed serialization of mixed numbers.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.12.1 _2022-12-01_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Work around unpckg.com issue with libraries using BigInt.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.12.0 _2022-11-27_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `expr.symbols` property return an array of `string`. Previously it</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  returned an array of `BoxedExpression`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Rewrote the rational computation engine to use JavaScript `bigint` instead of</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `Decimal` instances. Performance improvements of up to 100x.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `expr.freeVars` provides the free variables in an expression.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved performance of prime factorization of big num by x100.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `[&quot;RandomExpression&quot;]`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved accuracy of some operations, for example</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `expr.parse(&quot;1e999 + 1&quot;).simplify()`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When `ce.numericMode === &quot;auto&quot;`, square roots of negative numbers would</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  return an expression instead of a complex number.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The formatting of LaTeX numbers when using</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.latexOptions.notation = &quot;engineering&quot;` or `&quot;scientific&quot;` was incorrect.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The trig functions no longer &quot;simplify&quot; to the less simple exponential</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  formulas.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The canonical order of polynomials now orders non-lexicographic terms of</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  degree 1 last, i.e. &quot;ax^2+ bx+ c&quot; instead of &quot;x + ax^2 + bx&quot;.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed evaluation of inverse functions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed `expr.isLess`, `expr.isGreater`, `expr.isLessEqual`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `expr.isGreaterEqual` and `[&quot;Min&quot;]`, `[&quot;Max&quot;]`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.11.0 _2022-11-18_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The signature of `ce.defineSymbol()`, `ce.defineFunction()` and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `ce.pushScope()` have changed</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When a constant should be held or substituted with its value can now be more</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  precisely controlled. The `hold` symbol attribute is now `holdUntil` and can</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  specify at which stage the substitution should take place.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Some constants would return a value as bignum or complex even when the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `numericMode` did not allow it.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Changing the value or domain of a symbol is now correctly taken into account.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  Changes can be made with `ce.assume()`, `ce.set()` or `expr.value`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- When a symbol does not have a value associated with it, assumptions about it</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  (e.g. &quot;x &gt; 0&quot;) are now correctly tracked and reflected.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.10.0 _2022-11-17_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `expr.isLiteral` has been removed. Use `expr.numericValue !== null` and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `expr.string !== null` instead.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Issues Resolved</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Calling `ce.forget()` would not affect expressions that previously referenced</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  the symbol.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- More accurate calculations of some trig functions when using bignums.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved performance when changing a value with `ce.set()`. Up to 10x faster</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  when evaluating a simple polynomial in a loop.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `ce.strict` can be set to `false` to bypass some domain and validity checks.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.9.0 _2022-11-15_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The head of a number expression is always `Number`. Use `expr.domain` to be</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  get more specific info about what kind of number this is.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- By default, `ce.box()` and `ce.parse()` return a canonical expression. A flag</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  can be used if a non-canonical expression is desired.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The API surface of `BoxedExpression` has been reduced. The properties</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `machineValue`, `bignumValue`, `asFloat`, `asSmallInteger`, `asRational`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  etc... have been replaced with a single `numericValue` property.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `parseUnknownSymbol` is now `parseUnknownIdentifier`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Support angles in degrees with `30\degree`, `30^\circ` and `\ang{30}`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- More accurate error expressions, for example if there is a missing closing</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  delimiter an `[&quot;Error&quot;, [&quot;ErrorCode&quot;, &quot;&#x27;expected-closing-delimiter&#x27;&quot;, &quot;&#x27;)&#x27;&quot;]]`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  is produced.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `[&quot;Expand&quot;]` handles more cases</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The trig functions can now have a regular exponent, i.e.`\cos^2(x)` in</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  addition to `-1` for inverse, and a combination of `\prime`, `\doubleprime`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  and `&#x27;` for derivatives.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `ce.assume()` handle more expressions and can be used to define new symbols by</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  domain or value.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Better error message when parsing, e.g. `\sqrt(2)` (instead of `\sqrt{2}`)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Better simplification for square root expressions:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\sqrt{25x^2}` -&gt; `5x`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved evaluation of `[&quot;Power&quot;]` expressions, including for negative</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  arguments and non-integer exponents and complex arguments and exponents.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Arccot`, `Arcoth`, `Arcsch`, `Arcscc`, `Arsech` and `Arccsc`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `expr.solve()` returns result for polynomials of order up to 2.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `pattern.match()` function now work correctly for commutative functions,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  i.e. `ce.pattern([&#x27;Add&#x27;, &#x27;_a&#x27;, &#x27;x&#x27;]).match(ce.parse(&#x27;x+y&#x27;)) -&gt; {&quot;_a&quot;: &quot;y&quot;}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `ce.let()` and `ce.set()` to declare and assign values to identifiers.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Preserve exact calculations involving rationals or square root of rationals.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\sqrt{\frac{49}{25}}` -&gt; `\frac{7}{5}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Addition and multiplication provide more consistent results for `evaluate()`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  and `N()`. Evaluate returns an exact result when possible.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - EXACT</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - 2 + 5 -&gt; 7</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - 2 + 5/7 -&gt; 19/7</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - 2 + √2 -&gt; 2 + √2</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - 2 + √(5/7) -&gt; 2 + √(5/7)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - 5/7 + 9/11 -&gt; 118/77</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - 5/7 + √2 -&gt; 5/7 + √2</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - 10/14 + √(18/9) -&gt; 5/7 + √2</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - √2 + √5 -&gt; √2 + √5</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - √2 + √2 -&gt; 2√2</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - sin(2) -&gt; sin(2)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - sin(π/3) -&gt; √3/2</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - APPROXIMATE</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - 2 + 2.1 -&gt; 4.1</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - 2 + √2.1 -&gt; 3.44914</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - 5/7 + √2.1 -&gt; 2.16342</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    - sin(2) + √2.1 -&gt; 2.35844</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- More consistent behavior of the `auto` numeric mode: calculations are done</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  with `bignum` and `complex` in most cases.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `JsonSerializationOptions` has a new option to specify the numeric precision</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  in the MathJSON serialization.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Shorthand numbers can now be strings if they do not fit in a float-64:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```json example</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// Before</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;Rational&quot;, { &quot;num&quot;: &quot;1234567890123456789&quot;}, { &quot;num&quot;: &quot;2345678901234567889&quot;}]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// Now</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[&quot;Rational&quot;, &quot;1234567890123456789&quot;, &quot;2345678901234567889&quot;]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `\sum` is now correctly parsed and evaluated. This includes creating a local</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  scope with the index and expression value of the sum.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Bugs Fixed</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The parsing and evaluation of log functions could produce unexpected results</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `\gamma` command now correctly maps to `[&quot;Gamma&quot;]`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed numeric evaluation of the `[&quot;Gamma&quot;]` function when using bignum</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#57** Substituting `0` (i.e. with `expr.subs({})`) did not work.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#60** Correctly parse multi-char symbols with underscore, i.e.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `\mathrm{V_a}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Parsing a number with repeating decimals and an exponent would drop the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  exponent.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correct calculation of complex square roots</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  - `\sqrt{-49}` -&gt; `7i`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Calculations were not always performed as bignum in `&quot;auto&quot;` numeric mode if</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  the precision was less than 15. Now, if the numeric mode is `&quot;auto&quot;`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  calculations are done as bignum or complex numbers.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- If an identifier contained multiple strings of digits, it would not be</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  rendered to LaTeX correctly, e.g. `V20_20`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly return `isReal` for real numbers</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.8.0 _2022-10-02_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Corrected the implementation of `expr.toJSON()`, `expr.valueOf()` and added</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  the esoteric `[Symbol.toPrimitive]()` method. These are used by JavaScript</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  when interacting with other primitive types. A major change is that</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `expr.toJSON()` now returns an `Expression` as an object literal, and not a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  string serialization of the `Expression`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Changed from &quot;decimal&quot; to &quot;bignum&quot;. &quot;Decimal&quot; is a confusing name, since it is</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  used to represent both integers and floating point numbers. Its key</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  characteristic is that it is an arbitrary precision number, aka &quot;bignum&quot;. This</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  affects `ce.numericMode` which now uses `bignum` instead of</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `decimal&#x27;, `expr.decimalValue`-&gt;`expr.bignumValue`, `decimalValue()`-&gt; `bignumValue()`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Bugs Fixed</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Numerical evaluation of expressions containing complex numbers when in</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `decimal` or `auto` mode produced incorrect results. Example: `e^{i\\pi}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.7.0 _2022-09-30_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Breaking Changes</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The `ce.latexOptions.preserveLatex` default value is now `false`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The first argument of the `[&quot;Error&quot;]` expression (default value) has been</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  dropped. The first argument is now an error code, either as a string or an</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;ErrorCode&quot;]` expression.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Features</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Much improved LaTeX parser, in particular when parsing invalid LaTeX. The</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  parser now avoids throwing, but will return a partial expression with</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `[&quot;Error&quot;]` subexpressions indicating where the problems were.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Implemented new domain computation system (similar to type systems in</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  programming languages)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added support for multiple signatures per function (ad-hoc polymorphism)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `FixedPoint`, `Loop`, `Product`, `Sum`, `Break`, `Continue`, `Block`,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `If`, `Let`, `Set`, `Function`, `Apply`, `Return`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added `Min`, `Max`, `Clamp`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Parsing of `\sum`, `\prod`, `\int`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added parsing of log functions, `\lb`, `\ln`, `\ln_{10}`, `\ln_2`, etc...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `expr.`subexpressions`, `expr.getSubexpressions()`, `expr.errors`, `expr.symbols`, `expr.isValid`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Symbols can now be used to represent functions, i.e. `ce.box(&#x27;Sin&#x27;).domain`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  correctly returns `[&quot;Domain&quot;, &quot;Function&quot;]`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly handle rational numbers with a numerator or denominator outside the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  range of a 64-bit float.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Instead of a `Missing` symbol an `[&quot;Error&quot;, &quot;&#x27;missing&#x27;&quot;]` expression is used.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Name binding is now done lazily</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly handle MathJSON numbers with repeating decimals, e.g. `1.(3)`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly evaluate inverse functions, e.g. `ce.parse(&#x27;\\sin^{-1}(.5)).N()`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Fixed some LaTeX serialization issues</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Read more at</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[Core Reference](https://cortexjs.io/compute-engine/reference/core/) and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">[Arithmetic Reference]</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">(https://cortexjs.io/compute-engine/reference/arithmetic/)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Bugs Fixed</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#43** If the input of `ce.parse()` is an empty string, return an empty</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  string for `expr.latex` or `expr.json.latex`: that is, ensure verbatim LaTeX</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  round-tripping</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Evaluating some functions, such as `\arccos` would result in a crash</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly handle parsing of multi-token decimal markers, e.g. `{,}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.6.0 _2022-04-18_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Parse more cases of tabular environments</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Handle simplify and evaluate of inert functions by default</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Avoid unnecessary wrapping of functions when serializing LaTeX</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Parse arguments of LaTeX commands (e.g. `\vec{}`)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#42** Export static `ComputeEngine.getLatexDictionary`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Parse multi-character constants and variables, e.g. `\mathit{speed}` and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `\mathrm{radius}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Parse/serialize some LaTeX styling commands: `\displaystyle`, `\tiny` and more</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.5.0 _2022-04-05_</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly parse tabular content (for example in</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  `\begin{pmatrix}...\end{pmatrix}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correctly parse LaTeX groups, i.e. `{...}`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Ensure constructible trigonometric values are canonical</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Correct and simplify evaluation loop for `simplify()`, `evaluate()` and `N()`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#41** Preserve the parsed LaTeX verbatim for top-level expressions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- **#40** Correctly calculate the synthetic LaTeX metadata for numbers</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Only require Node LTS (16.14.2)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Improved documentation, including Dark Mode support</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.4.4</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">**Release Date**: 2022-03-27</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- Added option to specify custom LaTeX dictionaries in `ComputeEngine`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  constructor</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `expr.valueOf` returns rational numbers as `[number, number]` when applicable</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- The non-ESM builds (`compute-engine.min.js`) now targets vintage JavaScript</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  for improved compatibility with outdated toolchains (e.g. Webpack 4) and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  environments. The ESM build (`compute-engine.min.esm.js`) targets evergreen</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  JavaScript (currently ECMAScript 2020).</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.4.3</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">**Release Date**: 2022-03-21</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Transition Guide from 0.4.2</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">The API has changed substantially between 0.4.2 and 0.4.3, however adapting code</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">to the new API is very straightforward.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">The two major changes are the introduction of the `BoxedExpression` class and</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">the removal of top level functions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Boxed Expression</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">The `BoxedExpression` class is a immutable box (wrapper) that encapsulates a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">MathJSON `Expression`. It provides some member functions that can be used to</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">manipulate the expression, for example `expr.simplify()` or `expr.evaluate()`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">The boxed expresson itself is immutable. For example, calling `expr.simplify()`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">will return a new, simplified, expression, without modifying `expr`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">To create a &quot;boxed&quot; expression from a &quot;raw&quot; MathJSON expression, use `ce.box()`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">To create a boxed expression from a LaTeX string, use `ce.parse()`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">To access the &quot;raw&quot; MathJSON expression, use the `expr.json` property. To</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">serialize the expression to LaTeX, use the `expr.latex` property.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">The top level functions such as `parse()` and `evaluate()` are now member</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">functions of the `ComputeEngine` class or the `BoxedExpression` class.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">There are additional member functions to examine the content of a boxed</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">expression. For example, `expr.symbol` will return `null` if the expression is</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">not a MathJSON symbol, otherwise it will return the name of the symbol as a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">string. Similarly, `expr.ops` return the arguments (operands) of a function,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">`expr.asFloat` return `null` if the expression does not have a numeric value</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">that can be represented by a float, a `number` otherwise, etc...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Canonical Form</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Use `expr.canonical` to obtain the canonical form of an expression rather than</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">the `ce.format()` method.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">The canonical form is less aggressive in its attempt to simplify than what was</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">performed by `ce.format()`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">The canonical form still accounts for distributive and associative functions,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">and will collapse some integer constants. However, in some cases it may be</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">necessary to invoke `expr.simplify()` in order to get the same results as</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">`ce.format(expr)`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Rational and Division</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">In addition to machine floating points, arbitrary precision numbers and complex</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">numbers, the Compute Engine now also recognize and process rational numbers.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">This is mostly an implementation detail, although you may see</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">`[&quot;Rational&quot;, 3, 4]`, for example, in the value of a `expr.json` property.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">If you do not want rational numbers represented in the value of the `.json`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">property, you can exclude the `Rational` function from the serialization of JSON</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">(see below) in which case `Divide` will be used instead.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Note also that internally (as a result of boxing), `Divide` is represented as a</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">product of a power with a negative exponent. This makes some pattern detection</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">and simplifications easier. However, when the `.json` property is accessed,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">product of powers with a negative exponents are converted to a `Divide`, unless</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">you have included `Divide` as an excluded function for serialization.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Similarly, `Subtract` is converted internally to `Add`, but may be serialized</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">unless excluded.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Parsing and Serialization Customization</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Rather than using a separate instance of the `LatexSyntax` class to customize</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">the parsing or serialization, use a `ComputeEngine` instance and its</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">`ce.parse()` method and the `expr.latex` property.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Custom dictionaries (to parse/serialize custom LaTeX syntax) can be passed as an</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">argument to the `ComputeEngine` constructor.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">For more advanced customizations, use `ce.latexOptions = {...}`. For example, to</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">change the formatting options of numbers, how the invisible operator is</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">interpreted, how unknown commands and symbols are interpreted, etc...</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Note that there are also now options available for the &quot;serialization&quot; to</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">MathJSON, i.e. when the `expr.json` property is used. It is possible to control</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">for example if metadata should be included, if shorthand forms are allowed, or</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">whether some functions should be avoided (`Divide`, `Sqrt`, `Subtract`, etc...).</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">These options can be set using `ce.jsonSerializationOptions = {...}`.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Comparing Expressions</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">There are more options to compare two expressions.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">Previously, `match()` could be used to check if one expression matched another</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">as a pattern.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">If `match()` returned `null`, the first expression could not be matched to the</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">second. If it returned an object literal, the two expressions matched.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">The top-level `match()` function is replaced by the `expr.match()` method.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">However, there are two other options that may offer better results:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `expr.isSame(otherExpr)` return true if `expr` and `otherExpr` are</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  structurally identical. Structural identity is closely related to the concept</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  of pattern matching, that is `[&quot;Add&quot;, 1, &quot;x&quot;]` and `[&quot;Add&quot;, &quot;x&quot;, 1]` are not</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  the same, since the order of the arguments is different. It is useful for</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  example to compare some input to an answer that is expected to have a specific</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  form.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- `expr.isEqual(otherExpr)` return true if `expr` and `otherExpr` are</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  mathematically identical. For example `ce.parse(&quot;1+1&quot;).isEqual(ce.parse(&quot;2&quot;))`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  will return true. This is useful if the specific structure of the expression</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  is not important.</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">It is also possible to evaluate a boolean expression with a relational operator,</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">such as `Equal`:</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```ts</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console.log(ce.box([&quot;Equal&quot;, expr, 2]).evaluate().symbol);</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; &quot;True&quot;</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">console.log(expr.isEqual(ce.box(2)));</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">// -&gt; true</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">```</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Before / After</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">| Before                                    | After                                    |</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">| :---------------------------------------- | :--------------------------------------- |</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">| `expr = [&quot;Add&quot;, 1, 2]`                    | `expr = ce.box([&quot;Add&quot;, 1, 2])`           |</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">| `expr = ce.evaluate(expr)`                | `expr = expr.evaluate()`                 |</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">| `console.log(expr)`                       | `console.log(expr.json)`                 |</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">| `expr = new LatexSyntax().parse(&quot;x^2+1&quot;)` | `expr = ce.parse(&quot;x^2+1&quot;)`               |</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">| `new LatexSyntax().serialize(expr)`       | `expr.latex`                             |</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">| `ce.simplify(expr)`                       | `expr.simplify()`                        |</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">| `await ce.evaluate(expr)`                 | `expr.evaluate()`                        |</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">| `ce.N(expr)`                              | `expr.N()`                               |</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">| `ce.domain(expr)`                         | `expr.domain`                            |</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">| `ce.format(expr...)`                      | `expr.canonical` &lt;br/&gt; `expr.simplify()` |</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">## 0.3.0</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">**Release Date**: 2021-06-18</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">### Improvements</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">- In LaTeX, parse `\operatorname{foo}` as the MathJSON symbol `&quot;foo&quot;`.</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_VsjB"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/compute-engine/demo/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Demo</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/compute-engine/guides/expressions/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Expressions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#coming-soon" class="table-of-contents__link toc-highlight">Coming Soon</a></li><li><a href="#0291-2025-03-31" class="table-of-contents__link toc-highlight">0.29.1 <em>2025-03-31</em></a></li><li><a href="#0280-2025-02-06" class="table-of-contents__link toc-highlight">0.28.0 <em>2025-02-06</em></a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mathfield/">Mathfield</a></li><li class="footer__item"><a class="footer__link-item" href="/compute-engine/">Compute Engine</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/cortex-js" target="_blank" rel="noopener noreferrer" class="footer__link-item"><svg class="icon-one-rem"><use role="none" xlink:href="/icons.svg#github"></use></svg>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/yhmvVeJ4Hd" target="_blank" rel="noopener noreferrer" class="footer__link-item"><svg class="icon-one-rem"><use role="none" xlink:href="/icons.svg#discord"></use></svg>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://chatgpt.com/g/g-8YgEfR7ig-mathlive-gpt" target="_blank" rel="noopener noreferrer" class="footer__link-item"><svg class="icon-one-rem"><use role="none" xlink:href="/icons.svg#openai"></use></svg>MathLive GPT<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about/">About Us</a></li></ul></div></div></div></footer></div>
</body>
</html>