<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">




<title>
    CortexJS
</title>
<meta name="description" content="" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ECEC8YT7XS"></script>
<script async>
  if(/cortexjs\.io/.test(window.location.hostname)) {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ECEC8YT7XS');
  }
</script>


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="CortexJS Feed">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="strict-origin" />


<link rel="icon" href="data:," />

<script>
  document.documentElement.classList.remove("no-js");
  document.documentElement.classList.add("js");
</script>





  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/codemirror.min.js" crossorigin="anonymous"></script>
  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/mode/javascript/javascript.min.js" crossorigin="anonymous"></script>
  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/mode/xml/xml.min.js" crossorigin="anonymous"></script>
  





<link rel="stylesheet" href="/assets/css/main.css" crossorigin>

  
    
      
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/codemirror.min.css" crossorigin>
  









    <link rel="preconnect" href="https://kit.fontawesome.com" crossorigin>
<script defer src="https://kit.fontawesome.com/523e3eb8bb.js" crossorigin="anonymous"></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>


<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Source+Sans+Pro:ital,wght@0,200;0,400;0,600;0,700;0,900;1,200;1,400;1,600;1,700&subset=latin" rel="stylesheet" crossorigin>
 



<!-- 
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;400;600;700;900&family=JetBrains+Mono:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=swap" rel="stylesheet" crossorigin> -->
  </head>

  <body class="layout--single">
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
      <defs>
          <symbol id=svg-chevron aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill="currentColor" d="m4.81347656 13.1269531c.22558594 0 .41015625-.0820312.56738282-.2324219l5.31835942-5.19531245c.1845703-.19140625.2802734-.38964844.2802734-.63574219 0-.23925781-.0888672-.45117187-.2802734-.62890625l-5.31835942-5.20214843c-.15722657-.15039063-.34179688-.23242188-.56738282-.23242188-.45800781 0-.81347656.35546875-.81347656.80664062 0 .21875.09570312.43066407.24609375.58789063l4.79199219 4.67578125-4.79199219 4.6621094c-.15722656.1640625-.24609375.3623047-.24609375.5878906 0 .4511719.35546875.8066406.81347656.8066406z"></path></symbol>
      </defs>
    </svg>
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    
  




<div class="masthead ">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <input id="site-toc" name="site-toc" type="checkbox" />
        <label for="site-toc"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></label>
        
        <a class="site-title" href="/">
          Cortex<em>JS</em>
          
        </a>
        <ul class="visible-links">
              
              <li class="masthead__menu-item ">
                <a href="/mathlive/" >MathLive</a>
              </li>
              
              <li class="masthead__menu-item active">
                <a href="/compute-engine/" >Compute Engine</a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="/cortex/" >Cortex</a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="/gitter/" ><svg class='icon1quarterem' role='img'><title>Gitter Forum</title><use xlink:href='/assets/icons.svg#gitter'></use></svg></a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="https://github.com/cortex-js" ><svg class='icon1quarterem' role='img'><title>GitHub</title><use xlink:href='/assets/icons.svg#github'></use></svg></a>
              </li></ul>
        
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">




<div id="main" role="main">
  
  <div class="sidebar sticky">
    
      
      
      

      <nav class="nav__list">
  
  <input
    id=ac-toc
    name=accordion-toc
    type=checkbox />
  <label for=ac-toc>Table of Content<svg
      aria-hidden=true
      focusable=false
      role="img"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 448 512"><path fill=currentColor d="M432.6 209.3l-191.1 183.1C235.1 397.8 229.1 400 224 400s-11.97-2.219-16.59-6.688L15.41 209.3C5.814 200.2 5.502 184.1 14.69 175.4c9.125-9.625 24.38-9.938 33.91-.7187L224 342.8l175.4-168c9.5-9.219 24.78-8.906 33.91 .7187C442.5 184.1 442.2 200.2 432.6 209.3z" /></svg>
  </label>

  <ul class="nav__items">
    
      <li class="nav__section">
        
          <button class="nav__sub-title nav__sub-title_toggle">MathLive
            
              <span class="nav__sub-title_expand"><svg class="icon1em"><use xlink:href="/assets/icons.svg#plus"></use></svg></span>
              <span class="nav__sub-title_collapse"><svg class="icon1em"><use xlink:href="/assets/icons.svg#minus"></use></svg></span>
            
          </button>
        


        
          <ul>
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Introduction
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/demo/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#flask"></use>
                      </svg>
                    
                    Demo
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/virtual-keyboard/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Using the Virtual Keyboard
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/reference/commands/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    LaTeX Commands
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/reference/keybindings/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Keyboard Shortcuts
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/changelog/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#log"></use>
                      </svg>
                    
                    Changelog
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/getting-started/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#checklist"></use>
                      </svg>
                    
                    Getting Started
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/integration/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Add MathLive to your Project
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/react/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Using MathLive with React
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/interacting/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Interact
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/fill-in-the-blank/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Fill-in-the-Blank
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/customizing/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Customize the Mathfield
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/commands/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Commands
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/macros/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Macros
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/shortcuts/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Shortcuts
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/speech/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Speech
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/static/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Display Static Math
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/virtual-keyboards/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Customize the Virtual Keyboard
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/guides/lifecycle/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Lifecycle
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/mathlive/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#sdk"></use>
                      </svg>
                    
                    SDK Reference
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/mathlive/editor"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#flask"></use>
                      </svg>
                    
                    Editor
                  </a>
                </li>
              
            
          </ul>
        
      </li>
    
      <li class="nav__section">
        
          <button class="nav__sub-title nav__sub-title_toggle">Compute Engine
            
              <span class="nav__sub-title_expand"><svg class="icon1em"><use xlink:href="/assets/icons.svg#plus"></use></svg></span>
              <span class="nav__sub-title_collapse"><svg class="icon1em"><use xlink:href="/assets/icons.svg#minus"></use></svg></span>
            
          </button>
        


        
          <ul>
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Introduction
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/demo/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#flask"></use>
                      </svg>
                    
                    Demo
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/changelog/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#log"></use>
                      </svg>
                    
                    Changelog
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/expressions/"
                    data-url=/compute-engine/guides/expressions/
                    class="active">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Expressions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/augmenting/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Defining New Symbols
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/canonical-form/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Canonical Form
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/latex-syntax/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    LaTeX Syntax
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/symbols/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Symbols
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/domains/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Domains
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/symbolic-computing/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Symbolic Computing
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/evaluate/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Evaluation
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/simplify/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Simplify
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/numeric-evaluation/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Numeric Evaluation
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/assumptions/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Assumptions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/patterns-and-rules/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Patterns and Rules
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/compute-engine/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#sdk"></use>
                      </svg>
                    
                    SDK Reference
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/math-json/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    The MathJSON Format
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/guides/standard-library/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Standard Library
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/arithmetic/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Arithmetic
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/calculus/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Calculus
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/collections/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Collections
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/control-structures/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Control Structures
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/core/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Core
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/domains/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Domains
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/functions/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Functions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/logic/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Logic
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/sets/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Sets
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/special-functions/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Special Functions
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/styling/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Styling
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/reference/trigonometry/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Trigonometry
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/compute-engine/contributing/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#seedling"></use>
                      </svg>
                    
                    Contributing
                  </a>
                </li>
              
            
          </ul>
        
      </li>
    
      <li class="nav__section">
        
          <button class="nav__sub-title nav__sub-title_toggle">Cortex
            
              <span class="nav__sub-title_expand"><svg class="icon1em"><use xlink:href="/assets/icons.svg#plus"></use></svg></span>
              <span class="nav__sub-title_collapse"><svg class="icon1em"><use xlink:href="/assets/icons.svg#minus"></use></svg></span>
            
          </button>
        


        
          <ul>
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Introduction
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/goals/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Goals
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/principles/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#intro"></use>
                      </svg>
                    
                    Principles
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/source-code/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Source Code
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/comments/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Comments
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/literals/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Literals
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/naming/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Naming
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/operators/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Operators
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/pragmas/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Pragmas
                  </a>
                </li>
              
            
              
              
                <li class="separator"></li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/syntax/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#reference"></use>
                      </svg>
                    
                    Syntax
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/cortex/implementation/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#guide"></use>
                      </svg>
                    
                    Implementation
                  </a>
                </li>
              
            
          </ul>
        
      </li>
    
      <li class="nav__section">
        
          <button class="nav__sub-title nav__sub-title_toggle">Additional Resources
            
              <span class="nav__sub-title_expand"><svg class="icon1em"><use xlink:href="/assets/icons.svg#plus"></use></svg></span>
              <span class="nav__sub-title_collapse"><svg class="icon1em"><use xlink:href="/assets/icons.svg#minus"></use></svg></span>
            
          </button>
        


        
          <ul>
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/about/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#person"></use>
                      </svg>
                    
                    About Us
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/gitter/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#gitter"></use>
                      </svg>
                    
                    Discuss in Gitter Forum
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/reporting-issues/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#bug"></use>
                      </svg>
                    
                    Reporting Issues
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/contributing-code/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#code-branch"></use>
                      </svg>
                    
                    Contributing Code
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/support/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#seedling"></use>
                      </svg>
                    
                    Support the Project
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/code-of-conduct/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#handshake"></use>
                      </svg>
                    
                    Code of Conduct
                  </a>
                </li>
              
            
              
              
                
                  
                

                
                
                  
                

                <li>
                  <a
                    href="/docs/license/"
                    data-url=/compute-engine/guides/expressions/
                    class="">
                    
                      <svg class="nav__icon">
                        <use xlink:href="/assets/icons.svg#handshake"></use>
                      </svg>
                    
                    License
                  </a>
                </li>
              
            
          </ul>
        
      </li>
    
  </ul>
</nav>

<script>
  (function() {
    function findSection(el) {
      while (el && ! el.classList.contains('nav__section')) 
        el = el.parentElement;
      

      return el;
    }

// window.addEventListener('DOMContentLoaded', (event) => {
    const sidebar = document.querySelector('.sidebar');

    const activeItem = sidebar.querySelector('.nav__items a.active');
    if (activeItem) {
      const section = findSection(activeItem);
      if (section) 
        section.classList.add('active');
      


      sidebar.scrollTo(0, activeItem.offsetTop - sidebar.clientHeight + 100)
    }

    for (const el of[... sidebar.getElementsByClassName('nav__sub-title_toggle') ?? []]) 
      el.addEventListener('click', (ev) => {
        const section = findSection(ev.target);
        if (section) {
          if (section.classList.contains('active')) 
            section.classList.remove('active')
           else 
            section.classList.add('active');
          

        }
      })


    


// });
  })();
</script>
    
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">

    <div class="page__inner-wrap">
    
    
      <section class="page__content" itemprop="text">

  
    <h1>Expressions</h1>
  

  

    <nav class="toc">
      <header><h2 class="nav__title"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" style="height:16px; width:12px"><path fill="currentColor" d="M256 0v128h128L256 0zM224 128L224 0H48C21.49 0 0 21.49 0 48v416C0 490.5 21.49 512 48 512h288c26.51 0 48-21.49 48-48V160h-127.1C238.3 160 224 145.7 224 128zM272 416h-160C103.2 416 96 408.8 96 400C96 391.2 103.2 384 112 384h160c8.836 0 16 7.162 16 16C288 408.8 280.8 416 272 416zM272 352h-160C103.2 352 96 344.8 96 336C96 327.2 103.2 320 112 320h160c8.836 0 16 7.162 16 16C288 344.8 280.8 352 272 352zM288 272C288 280.8 280.8 288 272 288h-160C103.2 288 96 280.8 96 272C96 263.2 103.2 256 112 256h160C280.8 256 288 263.2 288 272z"/></svg>On This Page</h2></header>

      
        <div class="toc__menu" >
        <ol><li><a href="#boxing">Boxing</a></li><li><a href="#unboxing">Unboxing</a></li><li><a href="#canonical-expressions">Canonical Expressions</a></li><li><a href="#mutability">Mutability</a></li><li><a href="#pure-expressions">Pure Expressions</a></li><li><a href="#checking-the-kind-of-expression">Checking the Kind of Expression</a></li><li><a href="#errors">Errors</a><ol><li><a href="#parsing-errors">Parsing Errors</a></li><li><a href="#semantic-errors">Semantic Errors</a></li></ol></li><li><a href="#return-value-conventions">Return Value Conventions</a></li></ol>
      </div>
      
                              
    </nav>
  



<p class="xl">The CortexJS Compute Engine produces and manipulates
<a href="https://en.wikipedia.org/wiki/Expression_(mathematics)">symbolic expressions</a>
such as numbers, constants, variables and functions.</p>
<p>In the CortexJS Compute Engine, expressions are represented using the
<a href="/math-json/">MathJSON format</a>.</p>
<p>They are wrapped in a JavaScript object, a process called <strong>boxing</strong>, and the
resulting expressions are <strong>Boxed Expressions</strong>.</p>
<p>Boxed Expressions improve performance by implementing caching to avoid
repetitive calculations.</p>
<p>Unlike the plain data types used by JSON, Boxed Expressions allow an IDE, such
as VSCode Studio, to provide suitable hints in the editor, and to check that the
correct functions and properties are used, particularly when using TypeScript.</p>
<h2 id="boxing" tabindex="-1">Boxing</h2>
<p><strong>To create a Boxed Expression from a MathJSON expression</strong>, use the <code>ce.box()</code>
function.</p>
<p>The result is an instance of a <code>BoxedExpression</code>.</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> expr = ce.<span class="hljs-title function_">box</span>(<span class="hljs-number">1.729e3</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">machineNumber</span>);
<span class="hljs-comment">//  1729</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">isPositive</span>);
<span class="hljs-comment">//  true</span>

expr = ce.<span class="hljs-title function_">box</span>({ <span class="hljs-attr">num</span>: <span class="hljs-string">&#x27;+Infinity&#x27;</span> });
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">latex</span>);
<span class="hljs-comment">//  +\infty</span>

expr = ce.<span class="hljs-title function_">box</span>([<span class="hljs-string">&#x27;Add&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;x&#x27;</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">head</span>);
<span class="hljs-comment">//  &quot;Add&quot;</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">isPositive</span>);
<span class="hljs-comment">// undefined</span>
</code></pre>
<p><strong>To create a Boxed Expression from a LaTeX string</strong>, call the <code>ce.parse()</code>
function.</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> expr = ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;3 + x + y&#x27;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">head</span>);
<span class="hljs-comment">//  &quot;Add&quot;</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Add&quot;, 3, &quot;x&quot;, &quot;y&quot;]</span>
</code></pre>
<p><strong>To get a Boxed Expression representing the content of a MathLive mathfield</strong>
use the <code>mf.expression</code> property:</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> mf = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;input&#x27;</span>);
mf.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;\\frac{10}{5}&#x27;</span>;
<span class="hljs-keyword">const</span> expr = mf.<span class="hljs-property">expression</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.evaluate().<span class="hljs-property">latex</span>);
<span class="hljs-comment">//  2</span>
</code></pre>
<h2 id="unboxing" tabindex="-1">Unboxing</h2>
<p><strong>To access the MathJSON expression of a boxed expression</strong>, use the <code>expr.json</code>
property. Use this property to unbox the expression.</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> expr = ce.<span class="hljs-title function_">box</span>([<span class="hljs-string">&#x27;Add&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;x&#x27;</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&#x27;Add&#x27;, 3, &#x27;x&#x27;]</span>
</code></pre>
<p><strong>To customize the format of the MathJSON expression</strong> use the
<code>ce.jsonSerializationOptions</code> property.</p>
<p>Use this option to control which metadata, if any, should be included, whether
to use shorthand notation, and to exclude some functions. See
<a href="/docs/compute-engine/?q=JsonSerializationOptions">JsonSerializationOptions</a> for
more info about the formatting options.</p>
<pre><code class="language-ts"><span class="hljs-keyword">const</span> expr = ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;2 + \\frac{q}{p}&#x27;</span>).<span class="hljs-property">canonical</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Add&quot;, 2, [&quot;Divide&quot;, &quot;q&quot;, &quot;p&quot;]]</span>

ce.<span class="hljs-property">jsonSerializationOptions</span> = {
  <span class="hljs-attr">exclude</span>: [<span class="hljs-string">&#x27;Divide&#x27;</span>], <span class="hljs-comment">// Don&#x27;t use `Divide` functions,</span>
  <span class="hljs-comment">// use `Multiply`/`Power` instead</span>
  <span class="hljs-attr">shorthands</span>: [], <span class="hljs-comment">// Don&#x27;t use any shorthands</span>
};

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;fn&quot;: [&quot;Add&quot;, [&quot;num&quot;: &quot;2&quot;],</span>
<span class="hljs-comment">//      [&quot;fn&quot;: [&quot;Multiply&quot;,</span>
<span class="hljs-comment">//        [&quot;sym&quot;: &quot;q&quot;],</span>
<span class="hljs-comment">//        [&quot;fn&quot;: [&quot;Power&quot;, [&quot;sym&quot;: &quot;p&quot;], [&quot;num&quot;: &quot;-1&quot;]]]]</span>
<span class="hljs-comment">//      ]</span>
<span class="hljs-comment">//    ]]</span>
</code></pre>
<section id='canonical'>
<h2 id="canonical-expressions" tabindex="-1">Canonical Expressions</h2>
<p>The canonical form of an expression is a conventional way of writing an
expression.</p>
<p><strong>To check if an expression is already in canonical form</strong>, use
<code>expr.isCanonical</code>.</p>
<p><strong>To obtain the canonical representation of an expression</strong>, use
<code>expr.canonical</code>.</p>
<div class='read-more'><a href="/compute-engine/guides/canonical-form/"> Read more about the
<strong>Canonical Form</strong> <svg class="svg-chevron"><use xlink:href="#svg-chevron"></use></svg></a></div>
<p>By default, <code>ce.box()</code> and <code>ce.parse()</code> produce a canonical expression.</p>
<p><strong>To get a raw (non-canonical) expression instead</strong>, use
<code>ce.box(expr, {canonical: false})</code> or <code>ce.parse(latex, {canonical: false})</code>.</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> expr = <span class="hljs-string">&#x27;\\frac{3}{-5}&#x27;</span>;

ce.<span class="hljs-title function_">parse</span>(expr);
<span class="hljs-comment">// canonical form  [&quot;Rational&quot;, -3, 5]</span>

ce.<span class="hljs-title function_">parse</span>(expr, { <span class="hljs-attr">canonical</span>: <span class="hljs-literal">false</span> });
<span class="hljs-comment">// non-canonical form  [&quot;Divide&quot;, 3, -5]</span>
</code></pre>
<p>A non-canonical expression may include errors as a result of parsing from LaTeX,
if the LaTeX input contained LaTeX syntax errors.</p>
<p>The arguments of a function in canonical form are validated to make sure they
match expectations.</p>
<p>A canonical expression may include additional errors compared to a non-canonical
expression, for example <code>[&quot;Divide&quot;, 2, 5, 6]</code> (three arguments instead of two),
<code>[&quot;Add&quot;, 2, &quot;True&quot;]</code> (mismatched argument domain, expected a number but got a
boolean).</p>
<p><strong>To check if an expression contains errors</strong> use <code>expr.isValid</code>.</p>
<p>When doing this check on a canonical expression it takes into consideration not
only possible syntax errors, but also semantic errors (incorrect number or
domain of arguments, etc).</p>
</section>
<h2 id="mutability" tabindex="-1">Mutability</h2>
<p>Unless otherwise specified, expressions are immutable.</p>
<p>The functions that manipulate Boxed Expressions, such as <code>expr.simplify()</code>,
<code>expr.evaluate()</code>, <code>expr.N()</code> return a new Boxed Expression, without modifying
<code>expr</code>.</p>
<p>However, the properties of the expression may change, since some of them may
depend on contextual information which can change over time.</p>
<p>For example, <code>expr.isPositive</code> may return <code>undefined</code> if nothing is known about
a symbol. But if an assumption about the symbol is made later, or a value
assigned to it, then <code>expr.isPositive</code> may take a different value.</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> expr = ce.<span class="hljs-title function_">box</span>(<span class="hljs-string">&#x27;x&#x27;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">isPositive</span>);
<span class="hljs-comment">//  undefined</span>

ce.<span class="hljs-title function_">assume</span>(<span class="hljs-string">&#x27;x &gt; 0&#x27;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">isPositive</span>);
<span class="hljs-comment">//  true</span>
</code></pre>
<p>What doesnt change is the fact that <code>expr</code> represents the symbol <code>&quot;x&quot;</code>.</p>
<h2 id="pure-expressions" tabindex="-1">Pure Expressions</h2>
<p>A pure expression is an expression whose value is fixed. Evaluating it produces
no side effect.</p>
<p>The \( \sin() \) function is pure: it evaluates to the same value when the
same arguments are applied to it.</p>
<p>On the other hand, the \( \mathrm{Random}() \) function is not pure: by its
nature it evaluates to a different value on every evaluation.</p>
<p>Numbers, symbols and strings are pure. A function expression is pure if the
function itself is pure, and all its arguments are pure as well.</p>
<p><strong>To check if an expression is pure</strong>, use <code>expr.isPure</code>.</p>
<h2 id="checking-the-kind-of-expression" tabindex="-1">Checking the Kind of Expression</h2>
<p>To identify if an expression is a number, symbol, function, string or
dictionary, use the following boolean expressions:</p>
<div class="symbols-table first-column-header">
<table>
<thead>
<tr>
<th style="text-align:left">Kind</th>
<th style="text-align:left">Boolean Expression</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>Number</strong></td>
<td style="text-align:left"><code>expr.numericValue !== null</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>Symbol</strong></td>
<td style="text-align:left"><code>expr.symbol !== null</code> <br> <code>expr.head === 'Symbol'</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>Function</strong></td>
<td style="text-align:left"><code>expr.ops !== null</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>String</strong></td>
<td style="text-align:left"><code>expr.string !== null</code> <br> <code>expr.head === 'String'</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>Dictionary</strong></td>
<td style="text-align:left"><code>expr.keys !== null</code> <br> <code>expr.head === 'Dictionary'</code></td>
</tr>
</tbody>
</table>
</div>
<p>A symbol may have a value if it represents a bound variable, but it may also
have no value if it represents a free variable.</p>
<section id=errors>
<h2 id="errors" tabindex="-1">Errors</h2>
<p>Sometimes, things go wrong.</p>
<p>When something goes wrong the Compute Engine uses an <code>[&quot;Error&quot;]</code> expression.</p>
<p>The <strong>first argument</strong> of an <code>[&quot;Error&quot;]</code> expression provides details about the
nature of the problem. This can be either a string or an <code>[&quot;ErrorCode&quot;]</code>
expression if there are additional arguments to the error.</p>
<p>For example if the problem is that an argument of a function expression is not
of the expected domain, an expression such as
<code>[&quot;Error&quot;, [&quot;ErrorCode&quot;, &quot;'incompatible-domain'&quot;, &quot;Number&quot;, &quot;Anything&quot;]]</code> could
be returned to indicate that a value of domain <code>&quot;Number&quot;</code> was expected.</p>
<p>The <strong>second argument</strong> of an <code>[&quot;Error&quot;]</code> expression indicate the context of the
error. This can be a <code>[&quot;Latex&quot;]</code> expression when the problem occurred while
parsing a LaTeX string, or another expression if the problem was detected later.</p>
<h3 id="parsing-errors" tabindex="-1">Parsing Errors</h3>
<p>When parsing a LaTeX expression, the Compute Engine uses the <strong>maximum effort</strong>
doctrine. That is, even partially complete expressions are parsed, and as much
of the input as possible is reflected in the MathJSON result.</p>
<p>If required operands are missing (the denominator of a fraction, for example), a
<code>[&quot;Error&quot;, &quot;'missing'&quot;]</code> error expression is inserted where the missing operand
should have been.</p>
<p>Problems that occur while parsing a LaTeX string will usually indicate a LaTeX
syntax error or typo: missing <code>}</code>, mistyped command name, etc</p>
<h3 id="semantic-errors" tabindex="-1">Semantic Errors</h3>
<p>Some errors are not caught until an expression is bound, that is until an
attempt is made to associate its symbol or function identifiers to a definition.
This could include errors such as missing or mismatched arguments.</p>
<p>Some errors that could be considered LaTeX syntax errors may not surface until
binding occurs.</p>
<p>For example <code>\frac{1}{2=x}</code> (instead of <code>\frac{1}{2}=x</code>) will be parsed as
<code>[&quot;Divide&quot;, 1, [&quot;Equal&quot;, 2, x]]</code>. The fact that the second argument of the
<code>&quot;Divide&quot;</code> function is a boolean and not a number will not be detected until the
definition for <code>&quot;Divide&quot;</code> has been located.</p>
<p>Name binding is done lazily, not upon boxing. To force the binding to occur,
request the canonical version of the expression.</p>
<p><strong>To check if an expression includes an <code>[&quot;Error&quot;]</code> subexpression</strong> check the
<code>expr.isValid</code> property.</p>
<p><strong>To get the list of all the <code>[&quot;Error&quot;]</code> subexpression</strong> use the <code>expr.errors</code>
property.</p>
<div class="symbols-table first-column-header">
<table>
<thead>
<tr>
<th style="text-align:left">Error Code</th>
<th style="text-align:left">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>syntax-error</code></td>
<td style="text-align:left">the parsing could not continue</td>
</tr>
<tr>
<td style="text-align:left"><code>missing</code></td>
<td style="text-align:left">an expression was expected</td>
</tr>
<tr>
<td style="text-align:left"><code>expected-expression</code></td>
<td style="text-align:left">an expression was expected inside an enclosure (parentheses)</td>
</tr>
<tr>
<td style="text-align:left"><code>unexpected-command</code></td>
<td style="text-align:left">the command is unknown, or not applicable in the current parsing context</td>
</tr>
<tr>
<td style="text-align:left"><code>unexpected-token</code></td>
<td style="text-align:left">the character does not apply to the current parsing context</td>
</tr>
<tr>
<td style="text-align:left"><code>incompatible-domain</code></td>
<td style="text-align:left">the argument provided does not match the expected domain</td>
</tr>
<tr>
<td style="text-align:left"><code>unexpected-argument</code></td>
<td style="text-align:left">too many arguments provided</td>
</tr>
<tr>
<td style="text-align:left"><code>expected-argument</code></td>
<td style="text-align:left">not enough arguments provided</td>
</tr>
<tr>
<td style="text-align:left"><code>invalid-identifier</code></td>
<td style="text-align:left">the identifier cannot be used (see <a href="/math-json/#symbols">MathJSON Symbols</a>)</td>
</tr>
<tr>
<td style="text-align:left"><code>invalid-domain</code></td>
<td style="text-align:left">the domain is not a valid domain literal or domain expression</td>
</tr>
<tr>
<td style="text-align:left"><code>expected-closing-delimiter</code></td>
<td style="text-align:left">a closing <code>}</code> was expected, but is missing</td>
</tr>
<tr>
<td style="text-align:left"><code>unexpected-closing-delimiter</code></td>
<td style="text-align:left">a closing <code>}</code> was encountered, but not expected</td>
</tr>
<tr>
<td style="text-align:left"><code>expected-environment-name</code></td>
<td style="text-align:left">the name of an environment should be provided with a <code>\begin</code> or <code>\end</code> command</td>
</tr>
<tr>
<td style="text-align:left"><code>unknown-environment</code></td>
<td style="text-align:left">the environment name provided cannot be parsed</td>
</tr>
<tr>
<td style="text-align:left"><code>unbalanced-environment</code></td>
<td style="text-align:left">the named used with the <code>\begin</code> and <code>\end</code> commands should match</td>
</tr>
<tr>
<td style="text-align:left"><code>unexpected-operator</code></td>
<td style="text-align:left">the operator does not apply to the current parsing context. Could be an infix or postfix operator without a rhs.</td>
</tr>
<tr>
<td style="text-align:left"><code>unexpected-digit</code></td>
<td style="text-align:left">the string included some characters outside of the range of expected digits</td>
</tr>
<tr>
<td style="text-align:left"><code>expected-string-argument</code></td>
<td style="text-align:left">the argument was expected to be a string</td>
</tr>
<tr>
<td style="text-align:left"><code>unexpected-base</code></td>
<td style="text-align:left">the base is outside of the expected range (236)</td>
</tr>
<tr>
<td style="text-align:left"><code>iteration-limit-exceeded</code></td>
<td style="text-align:left">a loop has reached the maximum iteration limit</td>
</tr>
</tbody>
</table>
</div>
<pre><code class="language-ts"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;\\oops&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Error&quot;, [&quot;ErrorCode&quot;,&quot;&#x27;unexpected-command&#x27;&quot;,&quot;&#x27;\\oops&#x27;&quot;], [&quot;Latex&quot;,&quot;&#x27;\\oops&#x27;&quot;]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;\\oops{bar}+2&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">//   [&quot;Add&quot;,</span>
<span class="hljs-comment">//        [&quot;Error&quot;,</span>
<span class="hljs-comment">//          [&quot;ErrorCode&quot;,&quot;&#x27;unexpected-command&#x27;&quot;,&quot;&#x27;\\oops&#x27;&quot;],</span>
<span class="hljs-comment">//          [&quot;Latex&quot;,&quot;&#x27;\\oops{bar}&#x27;&quot;]</span>
<span class="hljs-comment">//        ],</span>
<span class="hljs-comment">//        2</span>
<span class="hljs-comment">//    ]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;\\begin{oops}\\end{oops}&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Error&quot;,[&quot;ErrorCode&quot;,&quot;&#x27;unknown-environment&#x27;&quot;,&quot;&#x27;oops&#x27;&quot;],[&quot;Latex&quot;,&quot;&#x27;\\\\begin{oops}\\\\end{oops}&#x27;&quot;]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;1+\\sqrt&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Add&quot;, 1 ,[&quot;Sqrt&quot;, [&quot;Error&quot;, &quot;&#x27;missing&#x27;&quot;]]]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;1+\\frac{2}&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Add&quot;, 1, [&quot;Divide&quot;, 2, [&quot;Error&quot;,&quot;&#x27;missing&#x27;&quot;]]]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;1+(2=2)+2&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Add&quot;, 1, [&quot;Delimiter&quot;, [&quot;Equal&quot;, 2, 2]]]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;1+(2=2)+3&#x27;</span>).<span class="hljs-property">canonical</span>.<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Add&quot;,</span>
<span class="hljs-comment">//      1,</span>
<span class="hljs-comment">//      [&quot;Error&quot;,</span>
<span class="hljs-comment">//          [&quot;ErrorCode&quot;, &quot;&#x27;incompatible-domain&#x27;&quot;, &quot;Number&quot;, &quot;Boolean&quot;],</span>
<span class="hljs-comment">//          [&quot;Delimiter&quot;, [&quot;Equal&quot;, 2, 2]]</span>
<span class="hljs-comment">//      ],</span>
<span class="hljs-comment">//      3</span>
<span class="hljs-comment">//    ]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;\\times 3&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Sequence&quot;, [&quot;Error&quot;, [&quot;ErrorCode&quot;, &quot;&#x27;unexpected-operator&#x27;&quot;, &quot;&#x27;\\times&#x27;&quot;], [&quot;Latex&quot;,&quot;&#x27;\\times&#x27;&quot;]], 3]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;x__+1&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Add&quot;, [&quot;Subscript&quot;, &quot;x&quot;, [&quot;Error&quot;,&quot;&#x27;syntax-error&#x27;&quot;, [&quot;Latex&quot;,&quot;&#x27;_&#x27;&quot;]]], 1]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;x_{a&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Subscript&quot;, &quot;x&quot;, [&quot;Error&quot;, &quot;&#x27;expected-closing-delimiter&#x27;&quot;, [&quot;Latex&quot;,&quot;&#x27;{a&#x27;&quot;]]]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;1()&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Multiply&quot;,1,[&quot;Error&quot;,&quot;&#x27;expected-expression&#x27;&quot;,[&quot;Latex&quot;,&quot;&#x27;()&#x27;&quot;]]]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;x@2&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">//  [&quot;Sequence&quot;, &quot;x&quot;, [&quot;Error&quot;, [&quot;ErrorCode&quot;, &quot;&#x27;unexpected-token&#x27;&quot;, &quot;&#x27;@&#x27;&quot;], [&quot;Latex&quot;, &quot;&#x27;@2&#x27;&quot;]]]</span>
</code></pre>
</section>
<h2 id="return-value-conventions" tabindex="-1">Return Value Conventions</h2>
<p>The Compute Engine API uses the following conventions for the return values of a
function and the values of an object property:</p>
<ul>
<li><strong><code>null</code></strong>: this property/function does not apply, and will never apply. You
can think of this as an answer of never. Example: <code>expr.isPositive</code> on a
Boxed String.</li>
<li><strong><code>undefined</code></strong>: at the moment, the result is not available, but it may be
available later. You can think of this as an answer of maybe. For example,
<code>expr.sgn</code> for a symbol with no assigned value and no assumptions.</li>
<li><strong><code>this</code></strong>: this function was not applicable, or there was nothing to do. For
example, invoking <code>expr.simplify()</code> on a boxed string.</li>
</ul>




      </section>

      <footer class="page__meta">
        
        


        <meta itemprop="datePublished" content="August 25, 2023">
                

        


        
          <p class="page__date"><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#calendar-days"/></svg><strong> Updated</strong> <time datetime='2023-08-25'>August 25, 2023</time></p>
        

          <p class="page__meta-link"><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#bug"/></svg> <strong>Problem? Feedback?</strong> File a report at&nbsp;<a href="https://github.com/cortex-js/cortexjs.io">github.com/cortex-js/cortexjs.io</a></p>
      </footer>


      
    </div>

  </article>

  
  


<aside class="sidebar__right">
  <nav class="toc">
    <header><h2 class="nav__title"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" style="height:16px; width:12px"><path fill="currentColor" d="M256 0v128h128L256 0zM224 128L224 0H48C21.49 0 0 21.49 0 48v416C0 490.5 21.49 512 48 512h288c26.51 0 48-21.49 48-48V160h-127.1C238.3 160 224 145.7 224 128zM272 416h-160C103.2 416 96 408.8 96 400C96 391.2 103.2 384 112 384h160c8.836 0 16 7.162 16 16C288 408.8 280.8 416 272 416zM272 352h-160C103.2 352 96 344.8 96 336C96 327.2 103.2 320 112 320h160c8.836 0 16 7.162 16 16C288 344.8 280.8 352 272 352zM288 272C288 280.8 280.8 288 272 288h-160C103.2 288 96 280.8 96 272C96 263.2 103.2 256 112 256h160C280.8 256 288 263.2 288 272z"/></svg>On This Page</h2></header>
  
    
      <div class="toc__menu" >
        <ol><li><a href="#boxing">Boxing</a></li><li><a href="#unboxing">Unboxing</a></li><li><a href="#canonical-expressions">Canonical Expressions</a></li><li><a href="#mutability">Mutability</a></li><li><a href="#pure-expressions">Pure Expressions</a></li><li><a href="#checking-the-kind-of-expression">Checking the Kind of Expression</a></li><li><a href="#errors">Errors</a><ol><li><a href="#parsing-errors">Parsing Errors</a></li><li><a href="#semantic-errors">Semantic Errors</a></li></ol></li><li><a href="#return-value-conventions">Return Value Conventions</a></li></ol>
      </div>
    
                            
  </nav>
</aside>

</div>


</div>

    

    <footer id="footer" class="page__footer" role="contentinfo">
      <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
      <div class="page__footer-follow">
  <ul class="social-icons">
     
     
     
    
    <li>
      <a href="https://github.com/cortex-js" rel="nofollow noopener noreferrer"
          ><svg class='icon1quarterem'><use role='none' xlink:href='/assets/icons.svg#github'></use></svg>GitHub</a
      >
    </li>
     
     
    
    <li>
      <a href="/gitter/" rel="nofollow noopener noreferrer"
          ><svg class='icon1quarterem'><use role='none' xlink:href='/assets/icons.svg#gitter'></use></svg>Gitter Forum</a
      >
    </li>
     
     
    

  </ul>
</div>
<div class="page__footer-pages">
   
    <ul>
       
      
      <li>
        <a href="/about/" rel="nofollow noopener noreferrer">About Us</a>
      </li>
       
       
    </ul>
  

</div>
    </footer>

    
  <!-- <script defer src="/assets/js/main.min.js"></script> -->









  </body>
</html>