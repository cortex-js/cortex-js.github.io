<!doctype html><html class=no-js lang=en><meta charset=utf-8><title>CortexJS</title><meta content=""name=description><link href=/feed.xml rel=alternate title="CortexJS Feed"type=application/atom+xml><meta content="width=device-width,initial-scale=1"name=viewport><meta content=strict-origin name=referrer><script>document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';</script><link href=/assets/css/main.css rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:100,100i,400,400i,700,700i,900,900i&display=swap"rel=stylesheet crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&family=IBM+Plex+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap"rel=stylesheet crossorigin><script src=https://kit.fontawesome.com/523e3eb8bb.js crossorigin=anonymous></script><script>((window.gitter = {}).chat = {}).options = {
    room: 'cortex-js/community',
    activationElement: '.my-special-button',
    targetElement: '.my-special-target-element'
  };</script><script src=https://sidecar.gitter.im/dist/sidecar.v1.js async defer></script><body class=layout--single><nav class=skip-links><h2 class=screen-reader-text>Skip links</h2><ul><li><a href=#site-nav class=screen-reader-shortcut>Skip to primary navigation</a><li><a href=#main class=screen-reader-shortcut>Skip to content</a><li><a href=#footer class=screen-reader-shortcut>Skip to footer</a></ul></nav><!--[if lt IE 9]><div class="notice--danger align-center"style=margin:0>You are using an <strong>outdated</strong> browser. Please <a href=https://browsehappy.com/ >upgrade your browser</a> to improve your experience.</div><![endif]--><div class=masthead><div class=masthead__inner-wrap><div class=masthead__menu><nav class=greedy-nav id=site-nav><a href=/ class=site-logo><img alt=""src=""></a><a href=/ class=site-title>Cortex<em>JS</em></a><ul class=visible-links><li class=masthead__menu-item><a href=/mathlive/ >MathLive</a><li class=masthead__menu-item><a href=/docs/ >Docs</a><li class=masthead__menu-item><a href=/funding/ >Funding</a><li class=masthead__menu-item><a href=https://gitter.im/cortex-js title="Chat on Gitter"><svg class=icon1em><use role=none xlink:href=/assets/icons.svg#gitter></use></svg></a><li class=masthead__menu-item><a href=https://github.com/cortex-js title="Get source code on GitHub"><svg class=icon1em><use role=none xlink:href=/assets/icons.svg#github></use></svg></a></ul><button class="hidden greedy-nav__toggle"type=button><span class=visually-hidden>Toggle menu</span><div class=navicon></div></button><ul class="hidden hidden-links"></ul></nav></div></div></div><div class=initial-content><div id=main role=main><article class=page itemscope itemtype=https://schema.org/CreativeWork><div class=page__inner-wrap><header></header><section class=page__content itemprop=text><h1>Coding Style Guide</h1><h2>Guiding Principles</h2><p>Good style is subjective and many decisions are arbitrary. The project uses these guiding principles:<ul><li><strong>Consistency.</strong> The code in the project should look as if it had been written by a single person. Don‚Äôt write code for yourself, but for the many people who will read it later.<li><strong>Clarity before performance.</strong> Write code that is easy to read, and avoid obscure constructs that may obfuscate the code to improve performance. For example, RegEx are crazy fast in all modern browsers, and trying to roll out your own pattern matching will result in more code and less performance. If you think something could be made faster, use <a href=https://http://jsben.ch/ >http://jsben.ch/</a> to try out options in various browsers and compare the results. You might be surprised.<li><strong>Robustness Principle (Postel‚Äôs Law).</strong> ‚ÄúBe conservative in what you do, be liberal in what you accept from others‚Äù. For example, functions that are invoked internally do not need to check that the input parameters are valid. However, public APIs should check the validity of parameters, and behave reasonably when they are invalid. See <a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode">this plugin</a> for Visual Studio Code.</ul><p>The project is setup to use <a href=https://prettier.io/ ><code>prettier</code></a> an opinionated code formatter. Formatting will be applied before pushing to the repo. You can also configure your editor to apply the formatting automatically on save, for example.<p>In general:<ol><li>Follow the conventions already in use in the codebase<li>Follow the <a href=https://google.github.io/styleguide/jsguide.html>Google Javascript Style Guide</a>, with the exception of the indentation with 4-spaces instead of 2-spaces.</ol><h2>Summary of Naming Conventions</h2><table><thead><tr><th style=text-align:left><th style=text-align:left><tbody><tr><td style=text-align:left><strong>Repo</strong><td style=text-align:left><code>math-json</code><tr><td style=text-align:left><strong>Directory</strong><td style=text-align:left><code>html-test-cases</code><tr><td style=text-align:left><strong>File</strong><td style=text-align:left><code>json-parser.ts</code><tr><td style=text-align:left><strong>Module</strong><td style=text-align:left><code>jsonParser</code><tr><td style=text-align:left><strong>Class, Enum</strong><td style=text-align:left><code>ComplexNumber</code>, <code>JsonParser</code><tr><td style=text-align:left><strong>Method, Function</strong><td style=text-align:left><code>readFile()</code><br>Use an action verb<br><code>isDirty</code> or <code>hasFinished</code> for boolean<br><tr><td style=text-align:left><strong>Private Method</strong><td style=text-align:left><code>private resetBuffer()</code><tr><td style=text-align:left><strong>Private Function</strong><td style=text-align:left>Like function, marked <code>@private</code> and not exported<tr><td style=text-align:left><strong>Parameter</strong><td style=text-align:left><code>initialPosition</code><tr><td style=text-align:left><strong>Unused parameter</strong><td style=text-align:left><code>_initialPosition</code> or <code>_</code><tr><td style=text-align:left><strong>Accessor</strong><td style=text-align:left><code>getContent</code> or <code>get content</code><tr><td style=text-align:left><strong>Constant, Enum Value</strong><td style=text-align:left><code>HTTP_HEADER_SIZE</code><tr><td style=text-align:left><strong>Template parameter</strong><td style=text-align:left><code>T</code>, <code>TYPE</code></table><h2>Other best practices</h2><ul><li>Don‚Äôt use <strong><code>default</code></strong> for exports <a href=https://blog.neufund.org/why-we-have-banned-default-exports-and-you-should-do-the-same-d51fdc2cf2ad>*</a><li><strong>Avoid boolean as arguments.</strong> Instead, use an <code>options</code> object literal with key/value pairs spelling out the meaning of the boolean.<li><strong>Functions should have at most 3 arguments</strong>. If additional configuration is necessary, use an optional object literal as the last argument.</ul><pre><code class=language-javascript><span class=hljs-comment>// üí©</span>
<span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>renderText</span>(<span class=hljs-params>text: string,
    fontFamily = <span class=hljs-string>'Helvetica'</span>,
    fontSize = <span class=hljs-number>12</span>,
    lineSpacing = <span class=hljs-number>1.2</span>,
    style = <span class=hljs-string>''</span>
</span>);
<span class=hljs-title>renderText</span>(<span class=hljs-params><span class=hljs-string>"hello world"</span>, <span class=hljs-string>"Helvetica"</span>, <span class=hljs-number>18</span>, <span class=hljs-number>1.5</span>, <span class=hljs-string>"bold"</span></span>);

// üëç
<span class=hljs-title>function</span> <span class=hljs-title>renderText</span>(<span class=hljs-params>text: string, {
    fontFamily = <span class=hljs-string>'Helvetica'</span>,
    fontSize = <span class=hljs-number>12</span>,
    lineSpacing = <span class=hljs-number>1.2</span>,
    style = <span class=hljs-string>''</span>
}</span>);
<span class=hljs-title>renderText</span>(<span class=hljs-params><span class=hljs-string>"hello world"</span></span>);
<span class=hljs-title>renderText</span>(<span class=hljs-params><span class=hljs-string>"hello world"</span>, {
    fontFamily: <span class=hljs-string>"Helvetica"</span>,
    fontSize: <span class=hljs-number>18</span>,
    lineSpacing: <span class=hljs-number>1.5</span>,
    style: <span class=hljs-string>"bold"</span>
}</span>);
</span></code></pre><ul><li>Avoid providing an explicit type when the compiler can infer it.</ul><pre><code class=language-javascript><span class=hljs-comment>// üí©</span>
<span class=hljs-keyword>let</span> action: string = <span class=hljs-string>'fly'</span>;
<span class=hljs-keyword>let</span> distance: number = <span class=hljs-number>100</span>;

<span class=hljs-comment>// üëç</span>
<span class=hljs-keyword>let</span> action = <span class=hljs-string>'fly'</span>;
<span class=hljs-keyword>let</span> distance = <span class=hljs-number>100</span>;
</code></pre><ul><li>Use <strong>higher order functions</strong>: <code>.map()</code>, <code>.reduce()</code>, <code>.filter()</code>, <code>.some()</code>, <code>.every()</code> and <code>.find()</code>.<li>To make a shallow clone of an object literal or of an array, use the spread operator</ul><pre><code class=language-javascript><span class=hljs-keyword>const</span> array = [<span class=hljs-string>'Thranduil'</span>, <span class=hljs-string>'Legolas'</span>, <span class=hljs-string>'Thingol'</span>, <span class=hljs-string>'Glorfindel'</span>, <span class=hljs-string>'Galadriel'</span>];
<span class=hljs-keyword>const</span> object = { <span class=hljs-attr>name</span>: <span class=hljs-string>'Gandalf'</span>, <span class=hljs-attr>cloak</span>: <span class=hljs-string>'Grey'</span> };
<span class=hljs-keyword>const</span> objectCopy = { ...object };
<span class=hljs-keyword>const</span> arrayCopy = { ...array };
</code></pre><ul><li>To make a deep clone of an object literal or an array, use JSON.<br>However, be aware that Dates, functions, <code>undefined</code>, <code>Infinity</code>, <code>RegExp</code>, <code>Map</code>, <code>Set</code>, <code>Blob</code>, <code>FileList</code>, <code>ImageData</code>, sparse <code>Array</code>, Typed Arrays and circular references cannot be serialized to JSON, and will be replaced by <code>null</code> or throw.<br>There is <a href=https://github.com/whatwg/html/issues/793_>a proposal</a> for an API for deep cloning making its way through the standardization process.</ul><pre><code class=language-javascript><span class=hljs-keyword>const</span> array = [
    [<span class=hljs-string>'Frodo'</span>, <span class=hljs-string>'Samwise'</span>, <span class=hljs-string>'Meriadoc'</span>, <span class=hljs-string>'Peregrin'</span>],
    [<span class=hljs-string>'Gandalf'</span>],
    [<span class=hljs-string>'Legolas'</span>],
    [<span class=hljs-string>'Gimli'</span>],
    [<span class=hljs-string>'Aragorn'</span>, <span class=hljs-string>'Boromir'</span>],
];
<span class=hljs-keyword>const</span> object = {
    <span class=hljs-attr>name</span>: <span class=hljs-string>'Gandalf'</span>,
    <span class=hljs-attr>aliases</span>: [<span class=hljs-string>'Mithrandir'</span>, <span class=hljs-string>'Thark√ªn'</span>, <span class=hljs-string>'Ol√≥rin'</span>, <span class=hljs-string>' Inc√°nus'</span>],
};

<span class=hljs-keyword>const</span> deepClone = <span class=hljs-built_in>JSON</span>.parse(<span class=hljs-built_in>JSON</span>.stringify(object));
<span class=hljs-keyword>const</span> arrayDeepCopy = <span class=hljs-built_in>JSON</span>.parse(<span class=hljs-built_in>JSON</span>.stringify(array));
</code></pre></section><footer class=page__meta><meta content="October 09, 2020"itemprop=datePublished><p class=page__date><strong><i aria-hidden=true class="fa-calendar-alt fa-fw fas"></i> Updated:</strong> <time datetime="Fri Oct 09 2020 21:48:18 GMT+0200 (Central European Summer Time)">October 09, 2020</time></footer></div></article></div></div><div class=page__footer id=footer><footer><div class=page__footer-follow><ul class=social-icons><li><a href=https://github.com/cortex-js rel="nofollow noopener noreferrer"><svg class=icon1em><use role=none xlink:href=/assets/icons.svg#github></use></svg>GitHub</a><li><a href=https://gitter.im/cortex-js rel="nofollow noopener noreferrer"><svg class=icon1em><use role=none xlink:href=/assets/icons.svg#gitter></use></svg>Gitter</a></ul></div><div class=page__footer-pages><ul><li><a href=/about rel="nofollow noopener noreferrer">About Us</a></ul></div></footer></div>