<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-mathfield/changelog" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Changelog - Mathfield Â· MathLive</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mathlive.io/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://mathlive.io/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://mathlive.io/mathfield/changelog/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Changelog - Mathfield Â· MathLive"><meta data-rh="true" name="description" content="Coming Soon"><meta data-rh="true" property="og:description" content="Coming Soon"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://mathlive.io/mathfield/changelog/"><link data-rh="true" rel="alternate" href="https://mathlive.io/mathfield/changelog/" hreflang="en"><link data-rh="true" rel="alternate" href="https://mathlive.io/mathfield/changelog/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://Q23Y5RN3UQ-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Changelog","item":"https://mathlive.io/mathfield/changelog/"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="MathLive" href="/opensearch.xml">

<link rel="stylesheet" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/codemirror.min.css">
<script>!function(){var e,t;window.moduleMap||(window.moduleMap={}),window.moduleMap={...window.moduleMap,mathlive:"https://esm.run/mathlive","compute-engine":"https://esm.run/@cortex-js/compute-engine"},(e=["https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js","https://unpkg.com/@cortex-js/compute-engine","https://cdn.jsdelivr.net/npm/mathlive","https://cdn.jsdelivr.net/npm/@ui-js/code-playground/dist/code-playground.min.js@module"]).forEach((o,n)=>{const m=o.endsWith("@module"),d="script"+function(e,t=0){let o=3735928559^t,n=1103547991^t;for(let t=0;t<e.length;t++){const m=e.charCodeAt(t);o=Math.imul(o^m,2654435761),n=Math.imul(n^m,1597334677)}return o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(o^o>>>13,3266489909),4294967296*(2097151&n)+(o>>>0)}(o=o.replace("@module","")).toString(36);if(document.getElementById(d))return;const i=document.createElement("script");m&&(i.type="module"),i.id=d,i.src=o,i.async=!1,t&&n===e.length-1&&(i.onload=t),document.head.appendChild(i)})}()</script>
<link rel="preconnect" href="https://rsms.me/">
<link rel="stylesheet" href="https://rsms.me/inter/inter.css" media="print" onload="this.media=&#39;all&#39;"><link rel="stylesheet" href="/assets/css/styles.ae3be8d9.css">
<script src="/assets/js/runtime~main.5f155480.js" defer="defer"></script>
<script src="/assets/js/main.417d8555.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="MathLive Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="42" width="42"><img src="/img/logo.svg" alt="MathLive Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="42" width="42"></div><b class="navbar__title text--truncate">MathLive</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mathfield/">Mathfield</a><a class="navbar__item navbar__link" href="/compute-engine/">Compute Engine</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/cortex-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" icon="github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/mathfield/">Mathfield</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item compass-icon"><a class="menu__link" tabindex="0" href="/mathfield/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item flask-icon"><a class="menu__link" tabindex="0" href="/mathfield/demo/">Demo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item changelog-icon"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mathfield/changelog/">Changelog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/mathfield/virtual-keyboard/">Using the Virtual Keyboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/mathfield/matrix/">Using the Matrix Editor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/mathfield/reference/commands/">LaTeX Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item reference-icon"><a class="menu__link" tabindex="0" href="/mathfield/reference/keybindings/">Keyboard Shortcuts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item checklist-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/getting-started/">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/integration/">Add A Mathfield to Your Project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/react/">Using React</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/svelte/">Using Svelte</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/interacting/">Interact</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/customizing/">Customize</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/menu/">Menu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/virtual-keyboard/">Virtual Keyboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/shortcuts/">Keybindings and Inline Shortcuts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/fill-in-the-blank/">Fill-in-the-Blank</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/commands/">Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/macros/">Macros</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/speech/">Speech</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/guides/static/">Static Math Formulas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/mathfield/lifecycle/">Web Component Lifecycle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item guide-icon"><a class="menu__link" tabindex="0" href="/compute-engine/guides/security/">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sdk-icon"><a class="menu__link" tabindex="0" href="/mathfield/api/">API Reference</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/compute-engine/">Compute Engine</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Tutorials</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item tutorial-icon"><a class="menu__link" tabindex="0" href="/tutorials/simple-quiz/">Simple Quiz</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/about/">Additional Resources</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Mathfield</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Changelog</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Mathfield Changelog</h1></header>
<!-- -->
<style>
    .markdown h2 {
      align-items: center;
      border-bottom: 2px solid var(--blue-600);
      color: var(--blue-600);
      display: flex;
    }      


    .markdown h2 em {
      margin-left: auto;
      color: var(--blue-600);
      display: block;
      float: right;
      font-size: .6em;
      font-style: normal;
      font-weight: 400
    }
  
    </style><h2 class="anchor anchorWithStickyNavbar_LWe7" id="coming-soon">Coming Soon<a href="#coming-soon" class="hash-link" aria-label="Direct link to Coming Soon" title="Direct link to Coming Soon">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features">New Features<a href="#new-features" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">â€‹</a></h3><ul>
<li>Export to <strong>typst</strong> format. Use <code>mf.getValue(&quot;typst&quot;)</code> to get the value of the
mathfield in typst format.</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-issues">Resolved Issues<a href="#resolved-issues" class="hash-link" aria-label="Direct link to Resolved Issues" title="Direct link to Resolved Issues">â€‹</a></h3><ul>
<li>The commands <code>\iff</code>, <code>\Coloneqq</code> and <code>\hArr</code> did not render correctly.</li>
<li>Improved rendering in dark mode.</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01053-2025-05-14">0.105.3 <em>2025-05-14</em><a href="#01053-2025-05-14" class="hash-link" aria-label="Direct link to 01053-2025-05-14" title="Direct link to 01053-2025-05-14">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-issues-1">Resolved Issues<a href="#resolved-issues-1" class="hash-link" aria-label="Direct link to Resolved Issues" title="Direct link to Resolved Issues">â€‹</a></h3><ul>
<li>
<p>Using the kebab version of commands (for example <code>&quot;select-all&quot;</code> instead of
<code>&quot;SelectAll&quot;</code>) would incorrectly result in a runtime error.</p>
</li>
<li>
<p>Using a padding with an <code>\enclose</code> command would not render the padding
correctly. To specify some padding, use
<code>\enclose{updiagonalstrike downdiagonalstrike}[padding=&quot;10px&quot;, 6px solid rgba(205, 0, 11, .4)]{42}</code>.</p>
</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01051-2025-04-18">0.105.1 <em>2025-04-18</em><a href="#01051-2025-04-18" class="hash-link" aria-label="Direct link to 01051-2025-04-18" title="Direct link to 01051-2025-04-18">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-issues-2">Resolved Issues<a href="#resolved-issues-2" class="hash-link" aria-label="Direct link to Resolved Issues" title="Direct link to Resolved Issues">â€‹</a></h3><ul>
<li><strong>#2526</strong> In the virtual keyboard, the keycap text over CSS variables was not
displayed correctly.</li>
<li><strong>#2567</strong> Avoid potential race condition when changing the focus of the
mathfield.</li>
<li><strong>#2638</strong>, <strong>#2479</strong> Fragments that were styled with some color were not
rendered correctly when the mathfield was not focused.</li>
<li><strong>#2669</strong> If a page had multiple mathfields, when using the suggestion
popover, the suggestion popover would be inserted in the wrong mathfield.</li>
<li><strong>#2584</strong> In some cases, a menu item could get inadvertently selected when
when brining up the menu.</li>
<li><strong>#2673</strong> When using the CJS version of the library, the height of the virtual
keyboard was not correctly calculated.</li>
<li><strong>#2666</strong> In some cases, the state of the Undo/Redo buttons could get out of
sync with the state of the mathfield.</li>
<li><strong>#2667</strong> The edit toolbar was not displayed in the alphabetic keyboard
layout.</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="improvements">Improvements<a href="#improvements" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements">â€‹</a></h3><ul>
<li>Accessibility: Improved support for the high-contrast mode.</li>
<li>There is a new CSS variable to control the z-index of the suggestion popover:
<code>--suggestion-zindex</code>. This allows the suggestion popover to be displayed
above other elements on the page.</li>
<li>Added support for the <code>\strut</code> and <code>\mathstrut</code> commands. These commands are
used to insert a strut, which is an invisible element that takes up space in
the math expression. This is useful for aligning expressions or for creating
space between elements.</li>
<li><strong>#2662</strong> When the command popover is displayed, pressing the <strong>Return</strong> key
will insert the command in the mathfield and close the popover.</li>
<li><strong>#2658</strong> Improved localization for Italian.</li>
<li><strong>#2671</strong> When inserting a command with an argument with the suggestion
popover, position the cursor inside the argument.</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01050-2025-03-27">0.105.0 <em>2025-03-27</em><a href="#01050-2025-03-27" class="hash-link" aria-label="Direct link to 01050-2025-03-27" title="Direct link to 01050-2025-03-27">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes">Breaking Changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">â€‹</a></h3><p>In order to support alternate CDNs, in particular <code>jsdelivr</code>, the file layout of
the <strong>npm</strong> package has changed. The files that were previously in the <code>./dist/</code>
directory are now in the root of the package. This should not affect most users,
but if you are importing the library or auxiliary files from the <code>dist</code>
directory, you will need to update your paths.</p><p>To use <code>jsdelivr</code>, use:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> MathfieldElement </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">from</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;https://esm.run/mathlive&quot;</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div><p>or:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token tag punctuation" style="color:var(--base-06)">&lt;</span><span class="token tag" style="color:var(--base-0e)">script</span><span class="token tag" style="color:var(--base-0e)"> </span><span class="token tag attr-name" style="color:var(--base-0c)">defer</span><span class="token tag" style="color:var(--base-0e)"> </span><span class="token tag attr-name" style="color:var(--base-0c)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:var(--base-06)">=</span><span class="token tag attr-value punctuation" style="color:var(--base-06)">&quot;</span><span class="token tag attr-value" style="color:var(--base-0b)">https://cdn.jsdelivr.net/npm/mathlive</span><span class="token tag attr-value punctuation" style="color:var(--base-06)">&quot;</span><span class="token tag punctuation" style="color:var(--base-06)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:var(--base-06)">&lt;/</span><span class="token tag" style="color:var(--base-0e)">script</span><span class="token tag punctuation" style="color:var(--base-06)">&gt;</span><br></span></code></pre></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved">Issues Resolved<a href="#issues-resolved" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">â€‹</a></h3><ul>
<li>
<p><strong>#2647</strong>, <strong>#2634</strong>, <strong>#2562</strong> Some accents (<code>\hat{}</code>, <code>\vec{}</code>) where not
rendered correctly in some cases.</p>
</li>
<li>
<p><strong>#2635</strong> In Chrome (and Firefox), clicking on the padding area of the
mathfield would not result in the focus getting into a zombie state and
keyboard event no longer being dispatched.</p>
</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01042-2025-03-23">0.104.2 <em>2025-03-23</em><a href="#01042-2025-03-23" class="hash-link" aria-label="Direct link to 01042-2025-03-23" title="Direct link to 01042-2025-03-23">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved-1">Issues Resolved<a href="#issues-resolved-1" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">â€‹</a></h3><ul>
<li><strong>#2588</strong> With Chrome 133+ input with the physical keyboard was disabled after
showing the virtual keyboard.</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01041-2025-03-18">0.104.1 <em>2025-03-18</em><a href="#01041-2025-03-18" class="hash-link" aria-label="Direct link to 01041-2025-03-18" title="Direct link to 01041-2025-03-18">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="improvements-1">Improvements<a href="#improvements-1" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements">â€‹</a></h3><ul>
<li>Improved support for the <code>jsdelivr</code> CDN. To use it, use:</li>
</ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"> MathfieldElement </span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">from</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;https://esm.run/mathlive&quot;</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved-2">Issues Resolved<a href="#issues-resolved-2" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">â€‹</a></h3><ul>
<li><strong>#2628</strong> Attempting to delete an empty line in a multiline environment would
not delete the line.</li>
<li><strong>#2585</strong> In some cases, the arguments of a macro were not serialized
correctly. This could happen when using a macro in conjunction with a inline
shortcut.</li>
<li><strong>#2586</strong> The <code>\pdiff{}{}</code> command was not properly serialized to LaTeX.</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01040-2025-02-08">0.104.0 <em>2025-02-08</em><a href="#01040-2025-02-08" class="hash-link" aria-label="Direct link to 01040-2025-02-08" title="Direct link to 01040-2025-02-08">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="security-advisories">Security Advisories<a href="#security-advisories" class="hash-link" aria-label="Direct link to Security Advisories" title="Direct link to Security Advisories">â€‹</a></h3><p>As a reminder, if you are handling untrusted input, you should consider using
the <code>MathfieldElement.createHTML()</code> method to sanitize content. The
<code>createHTML()</code> method follows the recommendations from the
<a href="https://www.w3.org/TR/trusted-types/" target="_blank" rel="noopener noreferrer">Trusted Type</a> specification.</p><p>For example, using the DOMPurify library (there are other HTML sanitizers
available):</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token tag punctuation" style="color:var(--base-06)">&lt;</span><span class="token tag" style="color:var(--base-0e)">script</span><span class="token tag" style="color:var(--base-0e)"> </span><span class="token tag attr-name" style="color:var(--base-0c)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:var(--base-06)">=</span><span class="token tag attr-value punctuation" style="color:var(--base-06)">&quot;</span><span class="token tag attr-value" style="color:var(--base-0b)">text/javascript</span><span class="token tag attr-value punctuation" style="color:var(--base-06)">&quot;</span><span class="token tag" style="color:var(--base-0e)"> </span><span class="token tag attr-name" style="color:var(--base-0c)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:var(--base-06)">=</span><span class="token tag attr-value punctuation" style="color:var(--base-06)">&quot;</span><span class="token tag attr-value" style="color:var(--base-0b)">https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.2.3/purify.min.js</span><span class="token tag attr-value punctuation" style="color:var(--base-06)">&quot;</span><span class="token tag punctuation" style="color:var(--base-06)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:var(--base-06)">&lt;/</span><span class="token tag" style="color:var(--base-0e)">script</span><span class="token tag punctuation" style="color:var(--base-06)">&gt;</span><br></span></code></pre></div></div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">MathfieldElement</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function-variable function" style="color:var(--base-0a)">createHTML</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter">html</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> DOMPurify</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">sanitize</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">html</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div><ul>
<li>
<p><a href="https://github.com/advisories/GHSA-qwj6-q94f-8425" target="_blank" rel="noopener noreferrer"><strong>security advisory</strong></a>
Untrusted input could be used to inject arbitrary HTML or JavaScript code in a
page using a mathfield or math content rendered by the library, if the content
included an <code>\htmlData{}</code> command with maliciously crafted input and no DOM
sanitizer was used.</p>
<p>The content of the <code>\htmlData{}</code> command is now sanitized and the ðŸš« emoji is
displayed instead in the mathfield if the content is unsafe. When using
<code>convertLatexToMarkup()</code>, an exception is thrown.</p>
</li>
<li>
<p>The <code>\href{}{}</code> command now only allows URLs with the <code>http</code> or <code>https</code>
protocol.</p>
</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved-3">Issues Resolved<a href="#issues-resolved-3" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">â€‹</a></h3><ul>
<li>
<p>Generate only standard trigonometric functions, i.e. those available in the
<code>amsmath</code> package. Use <code>\operatorname{}</code> for the others. The standard commands
are:</p>
<ul>
<li><code>\arccos</code></li>
<li><code>\arcsin</code></li>
<li><code>\arctan</code></li>
<li><code>\arg</code></li>
<li><code>\cos</code></li>
<li><code>\cosh</code></li>
<li><code>\cot</code></li>
<li><code>\coth</code></li>
<li><code>\csc</code></li>
<li><code>\sec</code></li>
<li><code>\sin</code></li>
<li><code>\sinh</code></li>
<li><code>\tan</code></li>
<li><code>\tanh</code></li>
</ul>
</li>
<li>
<p>Added support for <code>\dddot</code> and <code>\ddddot</code> commands.</p>
</li>
<li>
<p><strong>#2573</strong> The <code>\operatorname{}</code> command when round-tripped would incldue an
extraneous <code>\mathrm{}</code> command.</p>
</li>
<li>
<p><strong>#2132</strong>, <strong>#2548</strong> Improved handling of multi-line mathfields. To use a
multi-line mathfield, include a multi-line environment:</p>
<ul>
<li><code>\displaylines{}</code>: single column of left-aligned equations</li>
<li><code>gather</code>: single column of centered equations</li>
<li><code>multline</code>: centered equations with the first line aligned left and the last
line aligned to the right</li>
<li><code>align</code>: two columns, the first column right-aligned, the second column
left-aligned; used for one equation per line</li>
<li><code>split</code>: two columns of equations, the first column right-aligned, the
second column left-aligned; used for a single equation split over multiple
lines</li>
</ul>
</li>
</ul><p>For example:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token tag punctuation" style="color:var(--base-06)">&lt;</span><span class="token tag" style="color:var(--base-0e)">math-field</span><span class="token tag punctuation" style="color:var(--base-06)">&gt;</span><span class="token plain">\displaylines{x=1 \\y = 2}</span><span class="token tag punctuation" style="color:var(--base-06)">&lt;/</span><span class="token tag" style="color:var(--base-0e)">math-field</span><span class="token tag punctuation" style="color:var(--base-06)">&gt;</span><br></span></code></pre></div></div><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token tag punctuation" style="color:var(--base-06)">&lt;</span><span class="token tag" style="color:var(--base-0e)">math-field</span><span class="token tag punctuation" style="color:var(--base-06)">&gt;</span><span class="token plain">\begin{align}</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  f(0) &amp;= 1 \\</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  f(x + 1) &amp;= f(x-1) + f(x)</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">\end{align}</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token tag punctuation" style="color:var(--base-06)">&lt;/</span><span class="token tag" style="color:var(--base-0e)">math-field</span><span class="token tag punctuation" style="color:var(--base-06)">&gt;</span><br></span></code></pre></div></div><ul>
<li>
<p>When in a multi-line environment, the <strong>Return</strong> key will move to the next
line. The <strong>Backspace</strong> key will delete the current line if the cursor is at
the beginning of the line. Note that no placeholder is inserted on a new line:
the line is simply blank.</p>
</li>
<li>
<p>The <strong>Add Row Before</strong>, <strong>Add Row After</strong>, <strong>Add Column Before</strong>, <strong>Add Column
After</strong>, <strong>Delete Row</strong> and <strong>Delete Columns</strong> commands are available in the
context menu when the cursor is inside a matrix. They are not available in
multi-line environments.</p>
</li>
<li>
<p><strong>#2574</strong> The commands <code>\coloneq</code>, <code>\Coloneq</code>, <code>\Coloneqq</code>, <code>\eqcolon</code> and
<code>\Eqcolon</code> were mapped to incorrect symbols (some of them used obsolete
definitions of those commands from the mathtools package that changed in the
Summer of 2022). They are now correctly mapped to the corresponding symbols.</p>
</li>
<li>
<p><strong>#2576</strong> The command <code>\perp</code> was mapped to the wrong symbol (U+22A5). It is
now mapped to the correct symbol (U+27C2)</p>
</li>
<li>
<p>Improved ASCIIMath serialization.</p>
</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01030-2024-12-10">0.103.0 <em>2024-12-10</em><a href="#01030-2024-12-10" class="hash-link" aria-label="Direct link to 01030-2024-12-10" title="Direct link to 01030-2024-12-10">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved-4">Issues Resolved<a href="#issues-resolved-4" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">â€‹</a></h3><ul>
<li><strong>#2530</strong> The AsciiMath <code>1/2</code> is now parsed as <code>\frac{1}{2}</code></li>
<li>The <code>\displaylines</code> command is now correctly parsed as a command with an
argument, not as a group command.</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01020-2024-11-29">0.102.0 <em>2024-11-29</em><a href="#01020-2024-11-29" class="hash-link" aria-label="Direct link to 01020-2024-11-29" title="Direct link to 01020-2024-11-29">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved-5">Issues Resolved<a href="#issues-resolved-5" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">â€‹</a></h3><ul>
<li><strong>#2550</strong> The subpath exports in the main package.json have been updated to
comply with Node.js&#x27;s subpath patterns, which utilize &quot;direct static matching
and replacement.</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="improvements-2">Improvements<a href="#improvements-2" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements">â€‹</a></h3><ul>
<li>
<p><strong>#2554</strong> <strong>Option for sticky virtual keyboard variant panel</strong></p>
<p>When long pressing a key on the virtual keyboard, a variant panel is displayed
that offers alternatives (variants) for that key. The panel is only displayed
while your finger is pressing the key (like a smartphone keyboard). This new
options allows the variant panel to remain displayed even if you lift your
finger from the screen.</p>
<p>Add the <code>stickyVariantPanel</code> property to a virtual keyboard keycap definition
to make the variant panel sticky.</p>
<p>See <code>./examples/sticky-variant-panel/</code> for an example.</p>
</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01012-2024-11-15">0.101.2 <em>2024-11-15</em><a href="#01012-2024-11-15" class="hash-link" aria-label="Direct link to 01012-2024-11-15" title="Direct link to 01012-2024-11-15">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved-6">Issues Resolved<a href="#issues-resolved-6" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">â€‹</a></h3><ul>
<li>Correctly display the caret following a <code>\mathop{}</code> command.</li>
<li><strong>#2540</strong> When using <code>renderMathInElement()</code> some white space was occasionally
incorrectly removed.</li>
<li><strong>#2545</strong> (?) Use <code>\rightarrow</code> instead of <code>\rarr</code> in the virtual keyboard.</li>
<li><strong>#2543</strong> The <code>MathfieldElement.fractionNavigationOrder</code> was not respected
when navigating in a fraction with the arrow keys.</li>
<li><strong>#2251</strong> Fixed the serialization of <code>\displaylines{}</code></li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01011-2024-10-15">0.101.1 <em>2024-10-15</em><a href="#01011-2024-10-15" class="hash-link" aria-label="Direct link to 01011-2024-10-15" title="Direct link to 01011-2024-10-15">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved-7">Issues Resolved<a href="#issues-resolved-7" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">â€‹</a></h3><ul>
<li><strong>#2533</strong> When using the virtual keyboard to insert a character with a
blackboard style followed by a non-alphabetic symbol without a blackboard
style, the second symbol would incorrectly be serialized with a blackboard
style.</li>
<li>In some cases, the <code>placeholder</code> attribute would not be displayed when the
mathfield was empty.</li>
<li>When using static math, the font-familly for text content was not correctly
inherited from the parent element.</li>
<li>In some cases, the inherent style of a macro could get overriden. For example
typing the &quot;RR&quot; inline shortcut resulted in an unstyled R instead of the
expected blackboard R.</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01010-2024-07-17">0.101.0 <em>2024-07-17</em><a href="#01010-2024-07-17" class="hash-link" aria-label="Direct link to 01010-2024-07-17" title="Direct link to 01010-2024-07-17">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes-1">Breaking Changes<a href="#breaking-changes-1" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">â€‹</a></h3><ul>
<li>The properties <code>mathVirtualKeyboard.actionKeycap</code>,
<code>mathVirtualKeyboard.shiftKeycap</code>, <code>mathVirtualKeyboard.backspaceKeycap</code>, and
<code>mathVirtualKeyboard.tabKeycap</code> have been removed. Use the more general
<code>mathVirtualKeyboard.setKeycap()</code> method to customize these keycaps, that is
<code>mathVirtualKeyboard.setKeycap(&#x27;[action]&#x27;, {...})</code> etc...</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="improvements-and-new-features">Improvements and New Features<a href="#improvements-and-new-features" class="hash-link" aria-label="Direct link to Improvements and New Features" title="Direct link to Improvements and New Features">â€‹</a></h3><ul>
<li>
<p>Macros can now be specified with <code>renderMathInElement()</code> and
<code>renderMathInDocument()</code> using the <code>macros</code> option. For example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token function" style="color:var(--base-0a)">renderMathInElement</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">element</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">macros</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token constant" style="color:var(--base-09)">RR</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;\\mathbb{R}&#x27;</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><br></span></code></pre></div></div>
</li>
<li>
<p>Performance improvements for pages with many mathfields. The initial rendering
can be up to 2x as fast.</p>
</li>
<li>
<p>Some keycaps in the virtual keyboard can be customized without having to
define an entire virtual keyboard layout.</p>
<p>The <code>mathVirtualKeyboard.getKeycap()</code> give access to the definition of special
keycaps and <code>mathVirtualKeyboard.setKeycap()</code> can be used to change that
definition.</p>
<p>The keycaps are one of these special shortcuts:</p>
<ul>
<li><code>[left]</code>, <code>[right]</code>, <code>[up]</code>, <code>[down]</code>, <code>[return]</code>, <code>[action]</code>,</li>
<li><code>[space]</code>, <code>[tab]</code>, <code>[backspace]</code>, <code>[shift]</code>,</li>
<li><code>[undo]</code>, <code>[redo]</code>, <code>[foreground-color]</code>, <code>[background-color]</code>,</li>
<li><code>[hide-keyboard]</code>,</li>
<li><code>[.]</code>, <code>[,]</code>,</li>
<li><code>[0]</code>, <code>[1]</code>, <code>[2]</code>, <code>[3]</code>, <code>[4]</code>,</li>
<li><code>[5]</code>, <code>[6]</code>, <code>[7]</code>, <code>[8]</code>, <code>[9]</code>,</li>
<li><code>[+]</code>, <code>[-]</code>, <code>[*]</code>, <code>[/]</code>, <code>[^]</code>, <code>[_]</code>, <code>[=]</code>, <code>[.]</code>,</li>
<li><code>[(]</code>, <code>[)]</code></li>
</ul>
<p>For example, to change the LaTeX inserted when the multiplication key is
pressed use:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">mathVirtualKeyboard</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">setKeycap</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;[*]&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token literal-property property" style="color:var(--base-0c)">latex</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&#x27;\\times&#x27;</span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved-8">Issues Resolved<a href="#issues-resolved-8" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">â€‹</a></h3><ul>
<li><strong>#2455</strong> Serialization to ASCII Math of brackets and braces is now correct.</li>
<li>When using Chrome in some locale (such as <code>es-419</code>), the context menu would
not be displayed.</li>
<li>When the <code>MathfieldElement.isFunction</code> handler is updated, re-render all the
mathfields on the page to take it into account.</li>
<li><strong>#2415</strong> A content change event is now dispatched when the value of the
mathfield is changed as a result of switch from LaTeX mode to math mode by
changing the selection.</li>
<li>Dispatch a <code>contextmenu</code> event any time the context menu is about to be
displayed. This allows the event to be canceled.</li>
<li><strong>#2413</strong> When setting the <code>alphabeticLayout</code>, the current keyboard would not
be updated in some cases.</li>
<li><strong>#2412</strong> The serialization of some expressions to LaTeX could result in some
spaces being omitted. For example, <code>\lnot p</code> would serialize as <code>\lnotp</code>.</li>
<li><strong>#2403</strong> The virtual keyboard Keycap Variants panel was positioned
incorrectly when the page used a RTL layout direction.</li>
<li>In the virtual keyboard, the background of the variant panel was sometimes
displayed transparently.</li>
<li><strong>#2402</strong> Characters inserted after a <code>\mathbb{}</code> command were not styled
correctly.</li>
<li>The <code>math-virtual-keyboard-command</code> event was not dispatched when a mathfield
was focused and a keycap was pressed.</li>
<li>There are now CSS selectors to customize the size of glyphs in the virtual
keyboard (shift, enter, etc...):<!-- -->
<ul>
<li><code>--keycap-glyph-size</code></li>
<li><code>--keycap-glyph-size-lg</code></li>
<li><code>--keycap-glyph-size-xl</code></li>
</ul>
</li>
<li><strong>#2397</strong> When a <code>beforeinput</code> event was canceled, the text would still be
inserted when using the physical keyboard.</li>
<li><strong>#2398</strong> When a placeholder was the only element in a group, i.e.
<code>{\placeholder{}}</code>, the placeholder was not automatically selected.</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01000-2024-06-12">0.100.0 <em>2024-06-12</em><a href="#01000-2024-06-12" class="hash-link" aria-label="Direct link to 01000-2024-06-12" title="Direct link to 01000-2024-06-12">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved-9">Issues Resolved<a href="#issues-resolved-9" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">â€‹</a></h3><ul>
<li>
<p><strong>#2396</strong> Pressing the arrow keys in the virtual keyboard would not move the
selection in the mathfield and display a runtime error in the console.</p>
</li>
<li>
<p><strong>#2392</strong> Pressing the backspace key after typing several digits would delete
all the digits.</p>
</li>
<li>
<p><strong>#2395</strong> Added a <code>dispatchEvent</code> command which can be attached to a custom
keycap.</p>
<p>Its first argument is the name of the dispatched event, and the second
argument is an object with the <code>detail</code> property, which is the data associated
with the event.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    label</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;âœ¨&quot;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">    command</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--base-0b)">&quot;dispatchEvent(&#x27;customEvent&#x27;, {detail: &#x27;some data&#x27;})&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--base-06)">}</span><br></span></code></pre></div></div>
<p>To handle the event, add an event listener to the mathfield element:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">mf</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">addEventListener</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token string" style="color:var(--base-0b)">&#x27;customEvent&#x27;</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token parameter">ev</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  console</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">log</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ev</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">detail</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0990-2024-06-10">0.99.0 <em>2024-06-10</em><a href="#0990-2024-06-10" class="hash-link" aria-label="Direct link to 0990-2024-06-10" title="Direct link to 0990-2024-06-10">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes-2">Breaking Changes<a href="#breaking-changes-2" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">â€‹</a></h3><ul>
<li>
<p>The <code>mf.offsetFromPoint()</code> method has been renamed <code>mf.getOffsetFromPoint()</code></p>
</li>
<li>
<p>The <code>mf.setCaretPoint()</code> method has been replaced with
<code>mf.position = mf.getOffsetFromPoint()</code></p>
</li>
<li>
<p>The <code>mf.scriptDepth()</code> and <code>mf.hitboxFromOffset()</code> methodds have been replaced
with <code>mf.getElementInfo()</code>.</p>
<p>The <code>getElementInfo()</code> method provides more information including any id that
may have been applied with <code>\htmlId{}</code>.</p>
<p>It is useful from within a <code>click</code> handler to get more information about the
element that was clicked, e.g.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token plain">  mf</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">getElementInfo</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">mf</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token function" style="color:var(--base-0a)">getOffsetFromPoint</span><span class="token punctuation" style="color:var(--base-06)">(</span><span class="token plain">ev</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">clientX</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> ev</span><span class="token punctuation" style="color:var(--base-06)">.</span><span class="token plain">clientY</span><span class="token punctuation" style="color:var(--base-06)">)</span><span class="token punctuation" style="color:var(--base-06)">)</span><br></span></code></pre></div></div>
<p>The info returned is an object with the following properties:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--console-color);--prism-background-color:var(--console-background)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--console-color);background-color:var(--console-background)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--console-color)"><span class="token keyword" style="color:var(--base-0e)">export</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">type</span><span class="token plain"> </span><span class="token class-name" style="color:var(--base-0a)">ElementInfo</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--base-06)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">/** The depth in the expression tree. 0 for top-level elements */</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  depth</span><span class="token operator" style="color:var(--base-06)">?</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token builtin" style="color:var(--base-09)">number</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">/** The bounding box of the element */</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  bounds</span><span class="token operator" style="color:var(--base-06)">?</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> DOMRect</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">/** id associated with this element or its ancestor, set with `\htmlId` or</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token comment" style="color:var(--base-05)">     `\cssId`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token comment" style="color:var(--base-05)">  */</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  id</span><span class="token operator" style="color:var(--base-06)">?</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token builtin" style="color:var(--base-09)">string</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">/** HTML attributes associated with element or its ancestores, set with</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token comment" style="color:var(--base-05)">   * `\htmlData`</span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token comment" style="color:var(--base-05)">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  data</span><span class="token operator" style="color:var(--base-06)">?</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> Record</span><span class="token operator" style="color:var(--base-06)">&lt;</span><span class="token builtin" style="color:var(--base-09)">string</span><span class="token punctuation" style="color:var(--base-06)">,</span><span class="token plain"> </span><span class="token builtin" style="color:var(--base-09)">string</span><span class="token plain"> </span><span class="token operator" style="color:var(--base-06)">|</span><span class="token plain"> </span><span class="token keyword" style="color:var(--base-0e)">undefined</span><span class="token operator" style="color:var(--base-06)">&gt;</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">/** The mode (math, text or LaTeX) */</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  mode</span><span class="token operator" style="color:var(--base-06)">?</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> ParseMode</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">/** A LaTeX representation of the element */</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  latex</span><span class="token operator" style="color:var(--base-06)">?</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> </span><span class="token builtin" style="color:var(--base-09)">string</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  </span><span class="token comment" style="color:var(--base-05)">/** The style (color, weight, variant, etc...) of this element. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain">  style</span><span class="token operator" style="color:var(--base-06)">?</span><span class="token operator" style="color:var(--base-06)">:</span><span class="token plain"> Style</span><span class="token punctuation" style="color:var(--base-06)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--console-color)"><span class="token plain"></span><span class="token punctuation" style="color:var(--base-06)">}</span><span class="token punctuation" style="color:var(--base-06)">;</span><br></span></code></pre></div></div>
</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bold">Bold<a href="#bold" class="hash-link" aria-label="Direct link to Bold" title="Direct link to Bold">â€‹</a></h3><p>The way bold is handled in LaTeX is particularly confusing, reflecting
limitations of the text rendering technology of the time.</p><p>Various attempts have been made over the years to improve the rendering of bold,
but this has resulted in inconsistent behavior. Furthermore, various
implementations of LaTeX and LaTeX-like systems have implemented bold in
different ways.</p><p>This release introduces a more consistent and intuitive handling of bold,
although it may result in different rendering of some formulas compared to some
implementations of LaTeX.</p><p>The original bold command in LaTeX is <code>\mathbf</code>. This command renders its
argument using a bold variant of the current font. However, only letters and
numbers can be rendered by this command. It does not affect symbols, operators,
or greek characters.</p><p>For example, <code>\mathbf{a+b}</code> will render as <code>ðš+ð›</code>, with the <code>a</code> and <code>b</code> in bold,
but the <code>+</code> in normal weight. Characters rendered by <code>\mathbf</code> are rendered
upright, even if they would have been rendered as italic otherwise.</p><p>The <code>\boldsymbol</code> command is an alternative to <code>\mathbf</code> that affects more
characters, including Greek letters and symbols. It does not affect the style of
the characters, so they remain italic if they were italic before. However, the
inter-character spacing and italic correction may not be rendered correctly.</p><p>The <code>\bm</code> command from the <code>bm</code> package is a more modern alternative that
affects even more characters. It also preserves the style of the characters, so
they remain italic if they were italic before. The inter-character spacing and
italic correction are handled correctly.</p><p>The <code>\bm</code> command is recommended over <code>\boldsymbol</code> and <code>\mathbf</code>. However, it
is not part of the standard LaTeX distribution, so it may not always be
available.</p><p>When serializing to LaTeX, MathLive will now use <code>\mathbf</code> when possible, and
fall back to <code>\bm</code> when not. This should result in more consistent rendering of
bold text.</p><p>When parsing, MathLive will interpret both <code>\mathbf</code>, <code>\boldsymbol</code> and <code>\bm</code> as
bold.</p><p>The bold style is now consistently inherited by sub-expressions.</p><p>Similarly, when applying a bold style using <code>mf.applyStyle({weight: &quot;bold&quot;})</code>,
the bold attribute is applied to the entire selection, not just the letters and
numbers.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mode-switching">Mode Switching<a href="#mode-switching" class="hash-link" aria-label="Direct link to Mode Switching" title="Direct link to Mode Switching">â€‹</a></h3><ul>
<li><strong>#2375</strong> The <code>switch-mode</code> command has two optionals arguments, a prefix and
suffix. The prefix is inserted before the mode switch, and the suffix after.
The command was behaving incorrectly. It now behaves as expected.</li>
<li>It is now possible to roundtrip between math and text mode. For example,
selecting a fraction <code>\frac{a}{b}</code> and pressing <code>alt+shift+T</code> will convert the
selection to <code>(a)/(b)</code>. Pressing <code>alt+shift+T</code> again will convert it back to
<code>\frac{a}{b}</code>.</li>
<li>When in LaTeX mode, changing the selection would sometimes unexpectedly exit
LaTeX mode, for example after the Select All command. This has been fixed.</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-1">New Features<a href="#new-features-1" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">â€‹</a></h3><ul>
<li>
<p><strong><code>\href</code></strong></p>
<p>The <code>\href{url}{content}</code> command, a MathJax extension that allows a link to
be associated with some content, is now supported.</p>
<p>Clicking on the content will open the link. By default, the link is opened in
a new window, and only links with a HTTP, HTTPS or FILE protocol are allowed.
This can be controlled by the new <code>MathfieldElement.openUrl</code> property. This
property is a function with a single argument, the URL to be opened, that is
called when the content of the <code>\href</code> command is clicked on.</p>
</li>
<li>
<p><strong>Tooltip appearance</strong></p>
<p>Added CSS variables to control the appearance of the toolip displayed with
<code>\mathtip</code> and <code>\texttip</code>:</p>
<ul>
<li><code>--tooltip-border</code></li>
<li><code>--tooltip-color</code></li>
<li><code>--tooltip-background-color</code></li>
<li><code>--tooltip-box-shadow</code></li>
<li><code>--tooltip-border-radius</code>.</li>
</ul>
</li>
<li>
<p>The <code>maxMatrixCols</code> property has been added that specifies the maximum number
of columns that a matrix may have. The default value is 10, which follows the
default value from the amsmath package. The property applies to all of the
matrix environments (<code>matrix</code>, <code>pmatrix</code>, <code>bmatrix</code>, etc.). This property is
also accessible via the <code>max-matrix-cols</code> attribute.</p>
</li>
<li>
<p>The virtual keyboard now supports variants for shifted-keys. This includes
support for Swedish specific characters such as <code>Ã¥</code>, <code>Ã¤</code>, and <code>Ã¶</code> and their
uppercase variants.</p>
</li>
<li>
<p>Accept <code>&quot;true&quot;</code> and <code>&quot;false&quot;</code> as values for on/off attributes in the
<code>&lt;math-field&gt;</code> element, for example <code>&lt;math-field smart-fence=&quot;true&quot;&gt;</code>.</p>
</li>
<li>
<p>Added a <code>target</code> property (a <code>MathfieldElement</code>) to the <code>onMenuSelect</code>
arguments.</p>
</li>
<li>
<p><strong>#2337</strong> Added an option <code>MathfieldElement.restoreFocusWhenDocumentFocused</code>
to control whether a mathfield that was previously focused regains focus when
the tab or window regains focus. This is true by default and matches the
previous behavior, and the behavior of the <code>&lt;textarea&gt;</code> element.</p>
</li>
<li>
<p>An alternate syntax for selectors with arguments. Selectors are used for
example to associate actions with a keycap, such as <code>switchKeyboardLayer</code>. The
previous syntax was <code>command: [&quot;switchKeyboardLayer&quot;, &quot;alt-layer&quot;]</code>, the new
syntax is <code>command: &#x27;switchKeyboardLayer(&quot;alt-layer&quot;)&#x27;</code>. This is more concise
and easier to read.</p>
</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved-10">Issues Resolved<a href="#issues-resolved-10" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">â€‹</a></h3><ul>
<li><strong>#2387</strong> When using a macro, the spacing around the macro was incorrect in
some cases.</li>
<li><strong>#2370</strong> The order of the <code>keydown</code> and <code>input</code> event is now consistent with
the <code>&lt;textarea&gt;</code> element.</li>
<li><strong>#2369</strong> After typing a shortcut, using the backspace key could result in
unexpected behavior. Now, pressing the backspace key after a shortcut has been
typed will undo the conversion of the shortcut.</li>
<li><strong>#2380</strong> In some cases, when using the menu, some spurious focus/blur events
would be dispatched.</li>
<li><strong>#2384</strong> When using repeating decimals after a comma (i.e. <code>123{,}4(1)</code>), do
not use a <code>\left...\right</code> command in order to get the proper spacing.</li>
<li><strong>#2349</strong> The positioning of subscripts for extensible symbols, such as <code>\int</code>
was incorrect.</li>
<li><strong>#2326</strong> The Cut and Copy commands in the context menu are now working
correctly in Safari.</li>
<li><strong>#2309</strong> When using styled text (e.g. <code>\textit{}</code>), the content could
sometimes be serialized with an unnecessary <code>\text{}</code> command, i.e.
<code>\text{\textit{...}}</code>.</li>
<li><strong>#2376</strong> When <code>smart-fence</code> was off, the <code>{</code> and <code>}</code> keys would not insert
braces.</li>
<li><strong>#2273</strong> Using one of the Chinese locales would result in a runtime error.</li>
<li><strong>#2355</strong> When pressing the down arrow key in <code>\sqrt[#?]{1}</code> from the <code>#?</code>
position, a runtime exception would occur.</li>
<li><strong>#2298</strong> When using screen readers, pressing the spacebar would not always
correctly focus the mathfield.</li>
<li><strong>#2297</strong> In some cases, when using touch input, the previously selected item
in a context menu would appear to be selected.</li>
<li><strong>#2289</strong> When changing the value of the mathfield, the selection is now
preserved. In addition, when using a controlled component with React an
unnecessary update is avoided.</li>
<li><strong>#2282</strong> Don&#x27;t display selection when the mathfield is not focused</li>
<li><strong>#2280</strong> Handle better very deeply nested expressions</li>
<li><strong>#2261</strong> When a style was applied to an empty range, the style was ignored.</li>
<li><strong>#2208</strong> When setting a variant style (i.e. blackboard, fraktur, etc...) the
style is no longer adopted by subsequent characters.</li>
<li><strong>#2104</strong>, <strong>#2260</strong> When replacing the selection by typing, the new content
would not always be correctly styled. The content now inherits the style of
the selection, or the style of the insertion point if the selection is
collapsed.</li>
<li>Better handle the case where the mathlive library gets loaded before the DOM
is constructed.</li>
<li>On Safari, the Insert Matrix submenu was displayed incorrectly.</li>
<li>When the mathfield is an iframe, the <code>before-virtual-keyboard-toggle</code> and
<code>virtual-keyboard-toggle</code> events are now dispatched on the
<code>window.mathVirtualKeyboard</code> object of the iframe. This can be used to detect
a request (and prevent) for the virtual keyboard to be displayed.</li>
<li>If the unknown in an expression was a complex identifier, such as
<code>\mathcal{C}</code> it would not be displayed correctly in the &quot;Solve for&quot; menu.</li>
<li>The <code>\mathrlap</code> command was incorrectly rendering like <code>\mathllap</code>.</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0986-2024-01-27">0.98.6 <em>2024-01-27</em><a href="#0986-2024-01-27" class="hash-link" aria-label="Direct link to 0986-2024-01-27" title="Direct link to 0986-2024-01-27">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-2">New Features<a href="#new-features-2" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">â€‹</a></h3><ul>
<li>Added <code>StaticRenderOptions.TeX.className</code> to specify that an element with the
specified class name should be rendered as a LaTeX formula.</li>
<li><strong>#2273</strong> Added a <code>--keycap-width</code> CSS variable to specify the width of a
keycap in a virtual-keyboard. By default, if the CSS variable is not
specified, the width of the keycap is calculated based on the width of the
parent container. However, this requires browser that support the <code>cq</code> CSS
unit. If the browser does not support the <code>cq</code> CSS unit, this CSS variable can
be used to specify the width of the keycap. (See <strong>#2028</strong>, <strong>#2133</strong>)</li>
<li><strong>#2255</strong> Support for <code>gather*</code> environment</li>
<li><strong>#2242</strong> A virtual keyboard keycap can now include a tooltip for its shifted
variant.</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-resolved-11">Issues Resolved<a href="#issues-resolved-11" class="hash-link" aria-label="Direct link to Issues Resolved" title="Direct link to Issues Resolved">â€‹</a></h3><ul>
<li>When using some APIs such as <code>renderToMarkup()</code> or <code>renderToMathML()</code> in a
server-side environment, a runtime error would occur.</li>
<li>When tabbing in a mathfield with multiple prompts, tab out of the mathfield
when the last or first prompt is reached.</li>
<li>**#2243##, **#2245** Unicode characters such as <code>Â²</code> or <code>â„‚</code> are now
interpreted as their LaTeX equivalent only when in math mode.</li>
<li><strong>#2237</strong> The command <code>\iff</code> now renders correctly</li>
<li><strong>#2246</strong> Changing the <code>mf.value</code> property would not always update the value
of the mathfield.</li>
<li><strong>#2244</strong> Worked around an issue in Safari on iOS where doing a double-tap on
the virtual keyboard would result in the mathfield losing focus and the
virtualy keyboard closing.</li>
<li><strong>#2252</strong> At some viewport sizes, the integral sign in the symbols virtual
keyboard would be clipped.</li>
<li><strong>#2235</strong> Improved serialization to ASCIIMath.</li>
<li>Avoid conflicts with some class names when rendering static math.</li>
<li>When using <code>renderMathToElement()</code> or <code>renderMathInDocument()</code>, coalesce
adjacent text nodes.</li>
<li>Correctly parse the <code>\cfrac</code> optional alignment argument</li>
<li>The commands <code>\bf</code>, <code>\bfseries</code>, <code>\mdseries</code>, <code>\upshape</code>, <code>\itshape</code>,
<code>\slshape</code>, <code>\scshape</code>, <code>\rmfamily</code>, <code>\sffamily</code>, <code>\ttfamily</code> are now
interpreted correctly.</li>
<li>The command <code>\operatorname</code> is now spoken correctly</li>
<li><strong>#2152</strong> On Safari, fill-in-the-blank prompts containing a fraction were
rendered incorrectly.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_VsjB"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/mathfield/demo/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Demo</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/mathfield/virtual-keyboard/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using the Virtual Keyboard</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#coming-soon" class="table-of-contents__link toc-highlight">Coming Soon</a></li><li><a href="#01053-2025-05-14" class="table-of-contents__link toc-highlight">0.105.3 <em>2025-05-14</em></a></li><li><a href="#01051-2025-04-18" class="table-of-contents__link toc-highlight">0.105.1 <em>2025-04-18</em></a></li><li><a href="#01050-2025-03-27" class="table-of-contents__link toc-highlight">0.105.0 <em>2025-03-27</em></a></li><li><a href="#01042-2025-03-23" class="table-of-contents__link toc-highlight">0.104.2 <em>2025-03-23</em></a></li><li><a href="#01041-2025-03-18" class="table-of-contents__link toc-highlight">0.104.1 <em>2025-03-18</em></a></li><li><a href="#01040-2025-02-08" class="table-of-contents__link toc-highlight">0.104.0 <em>2025-02-08</em></a></li><li><a href="#01030-2024-12-10" class="table-of-contents__link toc-highlight">0.103.0 <em>2024-12-10</em></a></li><li><a href="#01020-2024-11-29" class="table-of-contents__link toc-highlight">0.102.0 <em>2024-11-29</em></a></li><li><a href="#01012-2024-11-15" class="table-of-contents__link toc-highlight">0.101.2 <em>2024-11-15</em></a></li><li><a href="#01011-2024-10-15" class="table-of-contents__link toc-highlight">0.101.1 <em>2024-10-15</em></a></li><li><a href="#01010-2024-07-17" class="table-of-contents__link toc-highlight">0.101.0 <em>2024-07-17</em></a></li><li><a href="#01000-2024-06-12" class="table-of-contents__link toc-highlight">0.100.0 <em>2024-06-12</em></a></li><li><a href="#0990-2024-06-10" class="table-of-contents__link toc-highlight">0.99.0 <em>2024-06-10</em></a></li><li><a href="#0986-2024-01-27" class="table-of-contents__link toc-highlight">0.98.6 <em>2024-01-27</em></a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mathfield/">Mathfield</a></li><li class="footer__item"><a class="footer__link-item" href="/compute-engine/">Compute Engine</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/cortex-js" target="_blank" rel="noopener noreferrer" class="footer__link-item"><svg class="icon-one-rem"><use role="none" xlink:href="/icons.svg#github"></use></svg>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/yhmvVeJ4Hd" target="_blank" rel="noopener noreferrer" class="footer__link-item"><svg class="icon-one-rem"><use role="none" xlink:href="/icons.svg#discord"></use></svg>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://chatgpt.com/g/g-8YgEfR7ig-mathlive-gpt" target="_blank" rel="noopener noreferrer" class="footer__link-item"><svg class="icon-one-rem"><use role="none" xlink:href="/icons.svg#openai"></use></svg>MathLive GPT<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about/">About Us</a></li></ul></div></div></div></footer></div>
</body>
</html>