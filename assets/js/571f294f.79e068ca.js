"use strict";(self.webpackChunkcortexjs_io=self.webpackChunkcortexjs_io||[]).push([[1303],{8728:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>x,frontMatter:()=>t,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"mathfield/changelog","title":"Changelog - Mathfield","description":"0.104.0 2025-02-08","source":"@site/docs/mathfield/changelog.md","sourceDirName":"mathfield","slug":"/mathfield/changelog/","permalink":"/mathfield/changelog/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1738944332000,"frontMatter":{"title":"Changelog - Mathfield","sidebar_label":"Changelog","slug":"/mathfield/changelog/","toc_max_heading_level":2},"sidebar":"docSidebar","previous":{"title":"Demo","permalink":"/mathfield/demo/"},"next":{"title":"Using the Virtual Keyboard","permalink":"/mathfield/virtual-keyboard/"}}');var l=s(4848),r=s(8453),d=s(9548);const t={title:"Changelog - Mathfield",sidebar_label:"Changelog",slug:"/mathfield/changelog/",toc_max_heading_level:2},o="Mathfield Changelog",c={},h=[{value:"0.104.0 <em>2025-02-08</em>",id:"01040-2025-02-08",level:2},{value:"Security Advisories",id:"security-advisories",level:3},{value:"Issues Resolved",id:"issues-resolved",level:3},{value:"0.103.0 <em>2024-12-10</em>",id:"01030-2024-12-10",level:2},{value:"Issues Resolved",id:"issues-resolved-1",level:3},{value:"0.102.0 <em>2024-11-29</em>",id:"01020-2024-11-29",level:2},{value:"Issues Resolved",id:"issues-resolved-2",level:3},{value:"Improvements",id:"improvements",level:3},{value:"0.101.2 <em>2024-11-15</em>",id:"01012-2024-11-15",level:2},{value:"Issues Resolved",id:"issues-resolved-3",level:3},{value:"0.101.1 <em>2024-10-15</em>",id:"01011-2024-10-15",level:2},{value:"Issues Resolved",id:"issues-resolved-4",level:3},{value:"0.101.0 <em>2024-07-17</em>",id:"01010-2024-07-17",level:2},{value:"Breaking Changes",id:"breaking-changes",level:3},{value:"Improvements and New Features",id:"improvements-and-new-features",level:3},{value:"Issues Resolved",id:"issues-resolved-5",level:3},{value:"0.100.0 <em>2024-06-12</em>",id:"01000-2024-06-12",level:2},{value:"Issues Resolved",id:"issues-resolved-6",level:3},{value:"0.99.0 <em>2024-06-10</em>",id:"0990-2024-06-10",level:2},{value:"Breaking Changes",id:"breaking-changes-1",level:3},{value:"Bold",id:"bold",level:3},{value:"Mode Switching",id:"mode-switching",level:3},{value:"New Features",id:"new-features",level:3},{value:"Issues Resolved",id:"issues-resolved-7",level:3},{value:"0.98.6 <em>2024-01-27</em>",id:"0986-2024-01-27",level:2},{value:"New Features",id:"new-features-1",level:3},{value:"Issues Resolved",id:"issues-resolved-8",level:3},{value:"0.98.5 <em>2023-12-27</em>",id:"0985-2023-12-27",level:2},{value:"Issues Resolved",id:"issues-resolved-9",level:3},{value:"0.98.3 <em>2023-12-07</em>",id:"0983-2023-12-07",level:2},{value:"Improvements",id:"improvements-1",level:3},{value:"0.98.2 <em>2023-12-06</em>",id:"0982-2023-12-06",level:2},{value:"Improvements",id:"improvements-2",level:3},{value:"Issues Resolved",id:"issues-resolved-10",level:3},{value:"0.98.1 <em>2023-12-05</em>",id:"0981-2023-12-05",level:2},{value:"New Features",id:"new-features-2",level:3},{value:"Issues Resolved",id:"issues-resolved-11",level:3},{value:"Improvements",id:"improvements-3",level:3},{value:"0.98.0 <em>2023-12-03</em>",id:"0980-2023-12-03",level:2},{value:"Breaking Changes",id:"breaking-changes-2",level:3},{value:"Improvements",id:"improvements-4",level:3},{value:"New Features",id:"new-features-3",level:3},{value:"Issues Resolved",id:"issues-resolved-12",level:3},{value:"0.97.4 <em>2023-11-29</em>",id:"0974-2023-11-29",level:2},{value:"Issues Resolved",id:"issues-resolved-13",level:3},{value:"Improvements",id:"improvements-5",level:3},{value:"0.97.3 <em>2023-11-28</em>",id:"0973-2023-11-28",level:2},{value:"Improvements",id:"improvements-6",level:3},{value:"Issues Resolved",id:"issues-resolved-14",level:3},{value:"0.97.2 <em>2023-11-21</em>",id:"0972-2023-11-21",level:2},{value:"Issues Resolved",id:"issues-resolved-15",level:3},{value:"0.97.1 <em>2023-11-20</em>",id:"0971-2023-11-20",level:2},{value:"Issues Resolved",id:"issues-resolved-16",level:3},{value:"0.97.0 <em>2023-11-20</em>",id:"0970-2023-11-20",level:2},{value:"New Features",id:"new-features-4",level:3},{value:"Improvements",id:"improvements-7",level:3},{value:"Issues Resolved",id:"issues-resolved-17",level:3},{value:"0.96.2 <em>2023-11-16</em>",id:"0962-2023-11-16",level:2},{value:"Issues Resolved",id:"issues-resolved-18",level:3},{value:"Improvements",id:"improvements-8",level:3},{value:"0.96.1 <em>2023-11-15</em>",id:"0961-2023-11-15",level:2},{value:"Improvements",id:"improvements-9",level:3},{value:"Issues Resolved",id:"issues-resolved-19",level:3},{value:"0.96.0 <em>2023-11-14</em>",id:"0960-2023-11-14",level:2},{value:"Breaking Changes",id:"breaking-changes-3",level:3},{value:"Issues Resolved",id:"issues-resolved-20",level:3},{value:"Improvements",id:"improvements-10",level:3},{value:"0.95.5 <em>2023-08-18</em>",id:"0955-2023-08-18",level:2},{value:"Issues Resolved",id:"issues-resolved-21",level:3},{value:"Improvements",id:"improvements-11",level:3},{value:"0.95.4 <em>2023-08-11</em>",id:"0954-2023-08-11",level:2},{value:"Issues Resolved",id:"issues-resolved-22",level:3},{value:"Improvements",id:"improvements-12",level:3},{value:"0.95.2 <em>2023-08-09</em>",id:"0952-2023-08-09",level:2},{value:"Improvements",id:"improvements-13",level:3},{value:"0.95.1 <em>2023-07-25</em>",id:"0951-2023-07-25",level:2},{value:"Improvements",id:"improvements-14",level:3},{value:"Issues Resolved",id:"issues-resolved-23",level:3},{value:"0.95.0 <em>2023-07-04</em>",id:"0950-2023-07-04",level:2},{value:"Improvements",id:"improvements-15",level:3},{value:"Issues Resolved",id:"issues-resolved-24",level:3},{value:"0.94.8 <em>2023-06-15</em>",id:"0948-2023-06-15",level:2},{value:"Improvements",id:"improvements-16",level:3},{value:"0.94.7 <em>2023-06-08</em>",id:"0947-2023-06-08",level:2},{value:"Improvements",id:"improvements-17",level:3},{value:"0.94.6 <em>2023-05-25</em>",id:"0946-2023-05-25",level:2},{value:"Issues Resolved",id:"issues-resolved-25",level:3},{value:"Feature",id:"feature",level:3},{value:"0.94.5 <em>2023-05-24</em>",id:"0945-2023-05-24",level:2},{value:"Issues Resolved",id:"issues-resolved-26",level:3},{value:"0.94.3 <em>2023-05-22</em>",id:"0943-2023-05-22",level:2},{value:"Improvements",id:"improvements-18",level:3},{value:"Issues Resolved",id:"issues-resolved-27",level:3},{value:"0.94.2 <em>2023-05-22</em>",id:"0942-2023-05-22",level:2},{value:"Issues Resolved",id:"issues-resolved-28",level:3},{value:"0.94.1 <em>2023-05-21</em>",id:"0941-2023-05-21",level:2},{value:"Improvements",id:"improvements-19",level:3},{value:"Issues Resolved",id:"issues-resolved-29",level:3},{value:"0.94.0 <em>2023-05-18</em>",id:"0940-2023-05-18",level:2},{value:"New Features",id:"new-features-5",level:3},{value:"Improvements",id:"improvements-20",level:3},{value:"Issues Resolved",id:"issues-resolved-30",level:3},{value:"0.93.0 <em>2023-05-08</em>",id:"0930-2023-05-08",level:2},{value:"New Features",id:"new-features-6",level:3},{value:"Improvements",id:"improvements-21",level:3},{value:"Issues Resolved",id:"issues-resolved-31",level:3},{value:"0.92.1 <em>2023-04-19</em>",id:"0921-2023-04-19",level:2},{value:"Improvements",id:"improvements-22",level:3},{value:"0.92.0 <em>2023-04-18</em>",id:"0920-2023-04-18",level:2},{value:"Improvements",id:"improvements-23",level:3},{value:"Issues Resolved",id:"issues-resolved-32",level:3},{value:"0.91.2 <em>2023-04-06</em>",id:"0912-2023-04-06",level:2},{value:"Issues Resolved",id:"issues-resolved-33",level:3},{value:"0.91.1 <em>2023-04-05</em>",id:"0911-2023-04-05",level:2},{value:"Issues Resolved",id:"issues-resolved-34",level:3},{value:"0.91.0 <em>2023-04-04</em>",id:"0910-2023-04-04",level:2},{value:"Breaking Changes",id:"breaking-changes-4",level:3},{value:"New Features",id:"new-features-7",level:3},{value:"Improvements",id:"improvements-24",level:3},{value:"Issues Resolved",id:"issues-resolved-35",level:3},{value:"0.90.11 <em>2023-03-31</em>",id:"09011-2023-03-31",level:2},{value:"Issues Resolveded",id:"issues-resolveded",level:3},{value:"0.90.9 <em>2023-03-28</em>",id:"0909-2023-03-28",level:2},{value:"Issues Resolveded",id:"issues-resolveded-1",level:3},{value:"0.90.8 <em>2023-03-27</em>",id:"0908-2023-03-27",level:2},{value:"Issues Resolved",id:"issues-resolved-36",level:3},{value:"Improvements",id:"improvements-25",level:3},{value:"0.90.7 <em>2023-03-24</em>",id:"0907-2023-03-24",level:2},{value:"Issues Resolveded",id:"issues-resolveded-2",level:3},{value:"0.90.6 <em>2023-03-23</em>",id:"0906-2023-03-23",level:2},{value:"Issues Resolved",id:"issues-resolved-37",level:3},{value:"0.90.0 <em>2023-03-19</em>",id:"0900-2023-03-19",level:2},{value:"Breaking Changes",id:"breaking-changes-5",level:3},{value:"Fill-in-the-blank",id:"fill-in-the-blank",level:4},{value:"Virtual Keyboard",id:"virtual-keyboard",level:4},{value:"Options",id:"options",level:4},{value:"Miscellaneous Breaking Changes",id:"miscellaneous-breaking-changes",level:4},{value:"Improvements",id:"improvements-26",level:3},{value:"Issues Resolved",id:"issues-resolved-38",level:3},{value:"0.89.4 <em>2023-02-27</em>",id:"0894-2023-02-27",level:2},{value:"Issues Resolved",id:"issues-resolved-39",level:3},{value:"0.89.3 <em>2023-02-27</em>",id:"0893-2023-02-27",level:2},{value:"Issues Resolved",id:"issues-resolved-40",level:3},{value:"Improvements",id:"improvements-27",level:3},{value:"0.89.2 <em>2023-02-17</em>",id:"0892-2023-02-17",level:2},{value:"Improvements",id:"improvements-28",level:3},{value:"0.89.0 <em>2023-02-12</em>",id:"0890-2023-02-12",level:2},{value:"Improvements",id:"improvements-29",level:3},{value:"Issues Resolved",id:"issues-resolved-41",level:3},{value:"0.87.1 <em>2023-01-26</em>",id:"0871-2023-01-26",level:2},{value:"Improvements",id:"improvements-30",level:3},{value:"Issues Resolved",id:"issues-resolved-42",level:3},{value:"0.87.0 <em>2023-01-20</em>",id:"0870-2023-01-20",level:2},{value:"Improvements",id:"improvements-31",level:3},{value:"Issues Resolved",id:"issues-resolved-43",level:3},{value:"0.86.1 <em>2023-01-18</em>",id:"0861-2023-01-18",level:2},{value:"Issues Resolved",id:"issues-resolved-44",level:3},{value:"0.86.0 <em>2022-12-02</em>",id:"0860-2022-12-02",level:2},{value:"Breaking Changes",id:"breaking-changes-6",level:3},{value:"Issues Resolved",id:"issues-resolved-45",level:3},{value:"Improvements",id:"improvements-32",level:3},{value:"0.85.1 <em>2022-11-18</em>",id:"0851-2022-11-18",level:2},{value:"0.85.0 <em>2022-11-15</em>",id:"0850-2022-11-15",level:2},{value:"New Features",id:"new-features-8",level:3},{value:"Improvements",id:"improvements-33",level:3},{value:"Issues Resolved",id:"issues-resolved-46",level:3},{value:"0.84.0 <em>2022-10-19</em>",id:"0840-2022-10-19",level:2},{value:"New Features",id:"new-features-9",level:3},{value:"Improvements",id:"improvements-34",level:3},{value:"Issues Resolved",id:"issues-resolved-47",level:3},{value:"0.83.0 <em>2022-10-02</em>",id:"0830-2022-10-02",level:2},{value:"Improvements",id:"improvements-35",level:3},{value:"Issues Resolved",id:"issues-resolved-48",level:3},{value:"0.82.0 <em>2022-09-30</em>",id:"0820-2022-09-30",level:2},{value:"Improvements",id:"improvements-36",level:3},{value:"0.81.0 <em>2022-09-28</em>",id:"0810-2022-09-28",level:2},{value:"Improvements",id:"improvements-37",level:3},{value:"0.80.0 <em>2022-09-27</em>",id:"0800-2022-09-27",level:2},{value:"Issues Resolved",id:"issues-resolved-49",level:3},{value:"New Features",id:"new-features-10",level:3},{value:"0.79.0 <em>2022-09-06</em>",id:"0790-2022-09-06",level:2},{value:"Breaking Changes",id:"breaking-changes-7",level:3},{value:"Improvements",id:"improvements-38",level:3},{value:"Issues Resolved",id:"issues-resolved-50",level:3},{value:"0.78.2 <em>2022-08-18</em>",id:"0782-2022-08-18",level:2},{value:"Features",id:"features",level:3},{value:"Issues Resolveded",id:"issues-resolveded-3",level:3},{value:"0.78.1 <em>2022-08-12</em>",id:"0781-2022-08-12",level:2},{value:"Issues Resolved",id:"issues-resolved-51",level:3},{value:"0.78.0 <em>2022-08-11</em>",id:"0780-2022-08-11",level:2},{value:"Breaking Changes",id:"breaking-changes-8",level:3},{value:"Improvements",id:"improvements-39",level:3},{value:"Features",id:"features-1",level:3},{value:"Issues Resolved",id:"issues-resolved-52",level:3},{value:"0.77.0 <em>2022-07-05</em>",id:"0770-2022-07-05",level:2},{value:"Improvements",id:"improvements-40",level:3},{value:"Issues Resolved",id:"issues-resolved-53",level:3},{value:"0.76.1 <em>2022-06-29</em>",id:"0761-2022-06-29",level:2},{value:"Issues Resolved",id:"issues-resolved-54",level:3},{value:"0.76.0 <em>2022-06-28</em>",id:"0760-2022-06-28",level:2},{value:"Improvements",id:"improvements-41",level:3},{value:"Features",id:"features-2",level:3},{value:"Issues Resolved",id:"issues-resolved-55",level:3},{value:"0.75.0 <em>2022-06-21</em>",id:"0750-2022-06-21",level:2},{value:"Features",id:"features-3",level:3},{value:"Improvements",id:"improvements-42",level:3},{value:"Issues Resolved",id:"issues-resolved-56",level:3},{value:"0.74.0 <em>2022-06-06</em>",id:"0740-2022-06-06",level:2},{value:"Improvements",id:"improvements-43",level:3},{value:"Issues Resolved",id:"issues-resolved-57",level:3},{value:"0.73.7 <em>2022-05-29</em>",id:"0737-2022-05-29",level:2},{value:"Improvements",id:"improvements-44",level:3},{value:"Issues Resolved",id:"issues-resolved-58",level:3},{value:"0.73.6 <em>2022-05-28</em>",id:"0736-2022-05-28",level:2},{value:"Issues Resolved",id:"issues-resolved-59",level:3},{value:"0.73.4 <em>2022-05-27</em>",id:"0734-2022-05-27",level:2},{value:"Issues Resolved",id:"issues-resolved-60",level:3},{value:"0.73.1 <em>2022-05-24</em>",id:"0731-2022-05-24",level:2},{value:"Issues Resolved",id:"issues-resolved-61",level:3},{value:"0.73.0 <em>2022-05-23</em>",id:"0730-2022-05-23",level:2},{value:"Breaking Changes",id:"breaking-changes-9",level:3},{value:"New Features",id:"new-features-11",level:3},{value:"Improvements",id:"improvements-45",level:3},{value:"Issues Resolved",id:"issues-resolved-62",level:3},{value:"0.72.2 <em>2022-04-30</em>",id:"0722-2022-04-30",level:2},{value:"Issues Resolved",id:"issues-resolved-63",level:3},{value:"0.72.0 <em>2022-04-18</em>",id:"0720-2022-04-18",level:2},{value:"Issues Resolved",id:"issues-resolved-64",level:3},{value:"Improvements",id:"improvements-46",level:3},{value:"0.71.0 <em>2022-04-12</em>",id:"0710-2022-04-12",level:2},{value:"Breaking Changes",id:"breaking-changes-10",level:3},{value:"New Features",id:"new-features-12",level:3},{value:"Improvements",id:"improvements-47",level:3},{value:"Issues Resolved",id:"issues-resolved-65",level:3},{value:"0.70.0 <em>2022-04-05</em>",id:"0700-2022-04-05",level:2},{value:"Features",id:"features-4",level:3},{value:"Issues Resolved",id:"issues-resolved-66",level:3},{value:"Improvements",id:"improvements-48",level:3},{value:"0.69.10 <em>2022-02-23</em>",id:"06910-2022-02-23",level:2},{value:"Features",id:"features-5",level:3},{value:"Issues Resolved",id:"issues-resolved-67",level:3},{value:"0.69.9 <em>2022-01-06</em>",id:"0699-2022-01-06",level:2},{value:"Features",id:"features-6",level:3},{value:"Issues Resolved",id:"issues-resolved-68",level:3},{value:"0.69.8 <em>2021-11-08</em>",id:"0698-2021-11-08",level:2},{value:"Issues Resolved",id:"issues-resolved-69",level:3},{value:"Improvements",id:"improvements-49",level:3},{value:"0.69.7 <em>2021-09-13</em>",id:"0697-2021-09-13",level:2},{value:"New Feature",id:"new-feature",level:3},{value:"0.69.6 <em>2021-08-31</em>",id:"0696-2021-08-31",level:2},{value:"Improvements",id:"improvements-50",level:3},{value:"Issues Resolved",id:"issues-resolved-70",level:3},{value:"0.69.5 <em>2021-08-05</em>",id:"0695-2021-08-05",level:2},{value:"Improvements",id:"improvements-51",level:3},{value:"0.69.4 <em>2021-06-22</em>",id:"0694-2021-06-22",level:2},{value:"Improvements",id:"improvements-52",level:3},{value:"0.69.3 <em>2021-06-10</em>",id:"0693-2021-06-10",level:2},{value:"Improvements",id:"improvements-53",level:3},{value:"Issues Resolved",id:"issues-resolved-71",level:3},{value:"0.69.1 <em>2021-06-09</em>",id:"0691-2021-06-09",level:2},{value:"Improvements",id:"improvements-54",level:3},{value:"0.69.0 <em>2021-06-09</em>",id:"0690-2021-06-09",level:2},{value:"Breaking Changes",id:"breaking-changes-11",level:3},{value:"Improvements",id:"improvements-55",level:3},{value:"New Features",id:"new-features-13",level:3},{value:"Issues Resolved",id:"issues-resolved-72",level:3},{value:"0.68.1 <em>2021-06-02</em>",id:"0681-2021-06-02",level:2},{value:"Improvements",id:"improvements-56",level:3},{value:"Issues Resolved",id:"issues-resolved-73",level:3},{value:"0.68.0 <em>2021-05-31</em>",id:"0680-2021-05-31",level:2},{value:"Breaking Changes",id:"breaking-changes-12",level:3},{value:"New Features",id:"new-features-14",level:3},{value:"Improvements",id:"improvements-57",level:3},{value:"Architecture",id:"architecture",level:3},{value:"Issues Resolved",id:"issues-resolved-74",level:3},{value:"0.67.0 <em>2021-05-21</em>",id:"0670-2021-05-21",level:2},{value:"New Features",id:"new-features-15",level:3},{value:"Improvements",id:"improvements-58",level:3},{value:"Issues Resolved",id:"issues-resolved-75",level:3},{value:"0.66.1 <em>2021-05-21</em>",id:"0661-2021-05-21",level:2},{value:"Issues Resolved",id:"issues-resolved-76",level:3},{value:"0.66.0 <em>2021-05-20</em>",id:"0660-2021-05-20",level:2},{value:"Breaking Changes",id:"breaking-changes-13",level:3},{value:"Improvements",id:"improvements-59",level:3},{value:"New Features",id:"new-features-16",level:3},{value:"Issues Resolved",id:"issues-resolved-77",level:3},{value:"0.65.0 <em>2021-05-14</em>",id:"0650-2021-05-14",level:2},{value:"Breaking Changes",id:"breaking-changes-14",level:3},{value:"New Features",id:"new-features-17",level:3},{value:"Improvements",id:"improvements-60",level:3},{value:"Architecture",id:"architecture-1",level:3},{value:"Issues Resolved",id:"issues-resolved-78",level:3},{value:"0.64.0 <em>2021-05-09</em>",id:"0640-2021-05-09",level:2},{value:"Breaking Changes",id:"breaking-changes-15",level:3},{value:"New Features",id:"new-features-18",level:3},{value:"Layout Improvements",id:"layout-improvements",level:3},{value:"Clipboard Improvements",id:"clipboard-improvements",level:3},{value:"Other Improvements",id:"other-improvements",level:3},{value:"Architecture",id:"architecture-2",level:3},{value:"Issues Resolved",id:"issues-resolved-79",level:3},{value:"0.63.1 <em>2021-04-24</em>",id:"0631-2021-04-24",level:2},{value:"Issues Resolved",id:"issues-resolved-80",level:3},{value:"0.63.0 <em>2021-04-24</em>",id:"0630-2021-04-24",level:2},{value:"New Features",id:"new-features-19",level:3},{value:"Issues Resolved",id:"issues-resolved-81",level:3},{value:"0.62.0 <em>2021-04-23</em>",id:"0620-2021-04-23",level:2},{value:"Improvements",id:"improvements-61",level:3},{value:"Issues Resolved",id:"issues-resolved-82",level:3},{value:"0.61.0 <em>2021-04-22</em>",id:"0610-2021-04-22",level:2},{value:"Breaking Changes",id:"breaking-changes-16",level:3},{value:"Improvements",id:"improvements-62",level:3},{value:"New Features",id:"new-features-20",level:3},{value:"Issues Resolved",id:"issues-resolved-83",level:3},{value:"0.60.1 <em>2021-04-13</em>",id:"0601-2021-04-13",level:2},{value:"New Features",id:"new-features-21",level:3},{value:"Issues Resolved",id:"issues-resolved-84",level:3},{value:"0.60.0 <em>2021-04-12</em>",id:"0600-2021-04-12",level:2},{value:"Breaking Change",id:"breaking-change",level:3},{value:"New Features",id:"new-features-22",level:3},{value:"Issues Resolved",id:"issues-resolved-85",level:3},{value:"Improvements",id:"improvements-63",level:3},{value:"Architecture",id:"architecture-3",level:3},{value:"0.59.0 <em>2020-11-04</em>",id:"0590-2020-11-04",level:2},{value:"Issues Resolved",id:"issues-resolved-86",level:3},{value:"0.58.0 <em>2020-10-11</em>",id:"0580-2020-10-11",level:2},{value:"New Features",id:"new-features-23",level:3},{value:"Issues Resolved",id:"issues-resolved-87",level:3},{value:"0.57.0 <em>2020-10-09</em>",id:"0570-2020-10-09",level:2},{value:"Major New Feature",id:"major-new-feature",level:3},{value:"<strong>#665: Web Component</strong>",id:"665-web-component",level:4},{value:"<strong>#667 Modernized Public API</strong>",id:"667-modernized-public-api",level:4},{value:"New Features",id:"new-features-24",level:3},{value:"Improvements",id:"improvements-64",level:3},{value:"Issues Resolved",id:"issues-resolved-88",level:3},{value:"Special Thanks",id:"special-thanks",level:3},{value:"0.56.0 <em>2020-08-22</em>",id:"0560-2020-08-22",level:2},{value:"New Features",id:"new-features-25",level:3},{value:"0.55.0 <em>2020-08-17</em>",id:"0550-2020-08-17",level:2},{value:"New Features",id:"new-features-26",level:3},{value:"Issues Resolved",id:"issues-resolved-89",level:3},{value:"0.54.0 <em>2020-06-24</em>",id:"0540-2020-06-24",level:2},{value:"Issues Resolved",id:"issues-resolved-90",level:3},{value:"0.53.3 <em>2020-06-24</em>",id:"0533-2020-06-24",level:2},{value:"Issues Resolved",id:"issues-resolved-91",level:3},{value:"New Feature",id:"new-feature-1",level:3},{value:"0.53.2 <em>2020-06-10</em>",id:"0532-2020-06-10",level:2},{value:"Issues Resolved",id:"issues-resolved-92",level:3},{value:"0.53.1 <em>2020-06-01</em>",id:"0531-2020-06-01",level:2},{value:"Issues Resolved",id:"issues-resolved-93",level:3},{value:"0.53.0 <em>2020-05-31</em>",id:"0530-2020-05-31",level:2},{value:"Breaking Change / New Feature",id:"breaking-change--new-feature",level:3},{value:"Issues Resolved",id:"issues-resolved-94",level:3},{value:"0.52 <em>2020-05-23</em>",id:"052-2020-05-23",level:2},{value:"New Feature",id:"new-feature-2",level:3},{value:"Improvements",id:"improvements-65",level:3},{value:"Issues Resolved",id:"issues-resolved-95",level:3},{value:"0.51.0 <em>2020-05-19</em>",id:"0510-2020-05-19",level:2},{value:"New Features",id:"new-features-27",level:3},{value:"Improvements",id:"improvements-66",level:3},{value:"Issues Resolved",id:"issues-resolved-96",level:3},{value:"0.50.8 <em>2020-05-13</em>",id:"0508-2020-05-13",level:2},{value:"Improvements",id:"improvements-67",level:3},{value:"Issues Resolved",id:"issues-resolved-97",level:3},{value:"0.50.7 <em>2020-05-11</em>",id:"0507-2020-05-11",level:2},{value:"0.50.6 <em>2020-05-11</em>",id:"0506-2020-05-11",level:2},{value:"0.50.5 <em>2020-05-10</em>",id:"0505-2020-05-10",level:2},{value:"0.50.4 <em>2020-05-09</em>",id:"0504-2020-05-09",level:2},{value:"Issues Resolved",id:"issues-resolved-98",level:3},{value:"Improvements",id:"improvements-68",level:3},{value:"0.50.3 <em>2020-05-08</em>",id:"0503-2020-05-08",level:2},{value:"New Features",id:"new-features-28",level:3},{value:"0.50.2 <em>2020-05-07</em>",id:"0502-2020-05-07",level:2},{value:"Issues Resolved",id:"issues-resolved-99",level:3},{value:"Improvements",id:"improvements-69",level:3},{value:"Breaking Change",id:"breaking-change-1",level:3},{value:"New Feature",id:"new-feature-3",level:3},{value:"0.50.1 <em>2020-05-06</em>",id:"0501-2020-05-06",level:2},{value:"New Feature",id:"new-feature-4",level:3},{value:"Issues Resolved",id:"issues-resolved-100",level:3},{value:"0.50 <em>2020-05-04</em>",id:"050-2020-05-04",level:2},{value:"Highlights",id:"highlights",level:3},{value:"New Features",id:"new-features-29",level:3},{value:"Code Maintenance",id:"code-maintenance",level:3},{value:"Codebase Migrated to Typescript",id:"codebase-migrated-to-typescript",level:4},{value:"Codebase Refactoring",id:"codebase-refactoring",level:4},{value:"Other Code Maintenance",id:"other-code-maintenance",level:4},{value:"Issues Resolved",id:"issues-resolved-101",level:3},{value:"Breaking Change",id:"breaking-change-2",level:3},{value:"Deprecated",id:"deprecated",level:3},{value:"0.35.0 <em>2020-03-24</em>",id:"0350-2020-03-24",level:2},{value:"New Features",id:"new-features-30",level:3},{value:"Issues Resolved",id:"issues-resolved-102",level:3},{value:"Code Maintenance",id:"code-maintenance-1",level:3},{value:"0.34.0 <em>2020-02-05</em>",id:"0340-2020-02-05",level:2},{value:"Issues Resolved",id:"issues-resolved-103",level:3},{value:"Features / Improvements",id:"features--improvements",level:3},{value:"0.33 <em>2019-12-19</em>",id:"033-2019-12-19",level:2},{value:"Issues Resolved",id:"issues-resolved-104",level:3},{value:"0.32.3 <em>2019-10-29</em>",id:"0323-2019-10-29",level:2},{value:"Issues Resolved",id:"issues-resolved-105",level:3},{value:"0.32.2 <em>2019-09-24</em>",id:"0322-2019-09-24",level:2},{value:"Issues Resolved",id:"issues-resolved-106",level:3},{value:"0.30.1 <em>2019-07-30</em>",id:"0301-2019-07-30",level:2},{value:"Features / Improvements",id:"features--improvements-1",level:3},{value:"0.30 <em>2019-07-18</em>",id:"030-2019-07-18",level:2},{value:"Non-backward compatible changes",id:"non-backward-compatible-changes",level:3},{value:"Features / Improvements",id:"features--improvements-2",level:3},{value:"Issues Resolved",id:"issues-resolved-107",level:3},{value:"0.29.1 <em>2019-05-19</em>",id:"0291-2019-05-19",level:2},{value:"Issues Resolved",id:"issues-resolved-108",level:3},{value:"0.29 <em>2019-05-09</em>",id:"029-2019-05-09",level:2},{value:"Major New Features",id:"major-new-features",level:3},{value:"Improvements",id:"improvements-70",level:3},{value:"Issues Resolved",id:"issues-resolved-109",level:3},{value:"0.28 <em>2019-04-22</em>",id:"028-2019-04-22",level:2},{value:"New Features",id:"new-features-31",level:3},{value:"0.27 <em>2019-04-08</em>",id:"027-2019-04-08",level:2},{value:"Breaking Changes",id:"breaking-changes-17",level:3},{value:"Major New Features",id:"major-new-features-1",level:3},{value:"Text Mode (#153)",id:"text-mode-153",level:4},{value:"Smart Mode",id:"smart-mode",level:4},{value:"Styling",id:"styling",level:4},{value:"Contextual Inline Shortcuts",id:"contextual-inline-shortcuts",level:4},{value:"Other Features",id:"other-features",level:4},{value:"Other Improvements",id:"other-improvements-1",level:3},{value:"Issues Resolved",id:"issues-resolved-110",level:3},{value:"0.26 <em>2019-02-04</em>",id:"026-2019-02-04",level:2},{value:"Breaking Changes",id:"breaking-changes-18",level:3},{value:"Major New Features",id:"major-new-features-2",level:3},{value:"Other Improvements",id:"other-improvements-2",level:3},{value:"Issues Resolved",id:"issues-resolved-111",level:3},{value:"Codebase Health and Performance",id:"codebase-health-and-performance",level:3},{value:"0.25 <em>2018-12-29</em>",id:"025-2018-12-29",level:2},{value:"Major New Features",id:"major-new-features-3",level:3},{value:"Issues Resolved",id:"issues-resolved-112",level:3},{value:"0.24 <em>2018-12-16</em>",id:"024-2018-12-16",level:2},{value:"Breaking Changes",id:"breaking-changes-19",level:3},{value:"Major New Features",id:"major-new-features-4",level:3},{value:"Other Improvements",id:"other-improvements-3",level:3},{value:"0.22 <em>2018-04-11</em>",id:"022-2018-04-11",level:2},{value:"Major New Features",id:"major-new-features-5",level:3},{value:"Other New Features",id:"other-new-features",level:3},{value:"Issues Resolved",id:"issues-resolved-113",level:3},{value:"Code Maintenance and Performance",id:"code-maintenance-and-performance",level:3},{value:"0.21 <em>2018-03-30</em>",id:"021-2018-03-30",level:2},{value:"Major New Features",id:"major-new-features-6",level:3},{value:"Other New Features",id:"other-new-features-1",level:3},{value:"Issues Resolved",id:"issues-resolved-114",level:3},{value:"Code Maintenance and Performance",id:"code-maintenance-and-performance-1",level:3},{value:"0.20 <em>2018-03-24</em>",id:"020-2018-03-24",level:2},{value:"Major New Features",id:"major-new-features-7",level:3},{value:"Other New Features",id:"other-new-features-2",level:3},{value:"0.19 <em>2018-03-19</em>",id:"019-2018-03-19",level:2},{value:"Major New Features",id:"major-new-features-8",level:3},{value:"Other New Features",id:"other-new-features-3",level:3},{value:"Issues Resolved",id:"issues-resolved-115",level:3},{value:"Code Maintenance and Performance",id:"code-maintenance-and-performance-2",level:3},{value:"0.18 <em>2018-03-04</em>",id:"018-2018-03-04",level:2},{value:"Issues Resolved",id:"issues-resolved-116",level:3},{value:"Code Maintenance and Performance",id:"code-maintenance-and-performance-3",level:3},{value:"0.0.17 <em>2018-02-27</em>",id:"0017-2018-02-27",level:2},{value:"New Features",id:"new-features-32",level:3},{value:"Issues Resolved",id:"issues-resolved-117",level:3},{value:"0.0.16 <em>2017-09-13</em>",id:"0016-2017-09-13",level:2},{value:"Deprecated Features",id:"deprecated-features",level:3},{value:"New Features",id:"new-features-33",level:3},{value:"Issues Resolved",id:"issues-resolved-118",level:3},{value:"0.0.15 <em>2017-07-01</em>",id:"0015-2017-07-01",level:2},{value:"New Features",id:"new-features-34",level:3},{value:"Issues Resolved",id:"issues-resolved-119",level:3}];function a(e){const n={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"mathfield-changelog",children:"Mathfield Changelog"})}),"\n","\n",(0,l.jsxs)(d.A,{children:[(0,l.jsxs)(n.h2,{id:"01040-2025-02-08",children:["0.104.0 ",(0,l.jsx)(n.em,{children:"2025-02-08"})]}),(0,l.jsx)(n.h3,{id:"security-advisories",children:"Security Advisories"}),(0,l.jsxs)(n.p,{children:["As a reminder, if you are handling untrusted input, you should consider using\nthe ",(0,l.jsx)(n.code,{children:"MathfieldElement.createHTML()"})," method to sanitize content. The\n",(0,l.jsx)(n.code,{children:"createHTML()"})," method follows the recommendations from the\n",(0,l.jsx)(n.a,{href:"https://www.w3.org/TR/trusted-types/",children:"Trusted Type"})," specification."]}),(0,l.jsx)(n.p,{children:"For example, using the DOMPurify library (there are other HTML sanitizers\navailable):"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.2.3/purify.min.js"><\/script>\n'})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"MathfieldElement.createHTML = (html) => DOMPurify.sanitize(html);\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://github.com/advisories/GHSA-qwj6-q94f-8425",children:(0,l.jsx)(n.strong,{children:"security advisory"})}),"\nUntrusted input could be used to inject arbitrary HTML or JavaScript code in a\npage using a mathfield or math content rendered by the library, if the content\nincluded an ",(0,l.jsx)(n.code,{children:"\\htmlData{}"})," command with maliciously crafted input and no DOM\nsanitizer was used."]}),"\n",(0,l.jsxs)(n.p,{children:["The content of the ",(0,l.jsx)(n.code,{children:"\\htmlData{}"})," command is now sanitized and the \ud83d\udeab emoji is\ndisplayed instead in the mathfield if the content is unsafe. When using\n",(0,l.jsx)(n.code,{children:"convertLatexToMarkup()"}),", an exception is thrown."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"\\href{}{}"})," command now only allows URLs with the ",(0,l.jsx)(n.code,{children:"http"})," or ",(0,l.jsx)(n.code,{children:"https"}),"\nprotocol."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Generate only standard trigonometric functions, i.e. those available in the\n",(0,l.jsx)(n.code,{children:"amsmath"})," package. Use ",(0,l.jsx)(n.code,{children:"\\operatorname{}"})," for the others. The standard commands\nare:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\arccos"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\arcsin"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\arctan"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\arg"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\cos"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\cosh"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\cot"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\coth"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\csc"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\sec"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\sin"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\sinh"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\tan"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\tanh"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added support for ",(0,l.jsx)(n.code,{children:"\\dddot"})," and ",(0,l.jsx)(n.code,{children:"\\ddddot"})," commands."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2573"})," The ",(0,l.jsx)(n.code,{children:"\\operatorname{}"})," command when round-tripped would incldue an\nextraneous ",(0,l.jsx)(n.code,{children:"\\mathrm{}"})," command."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2132"}),", ",(0,l.jsx)(n.strong,{children:"#2548"})," Improved handling of multi-line mathfields. To use a\nmulti-line mathfield, include a multi-line environment:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"\\displaylines{}"}),": single column of left-aligned equations"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"gather"}),": single column of centered equations"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"multline"}),": centered equations with the first line aligned left and the last\nline aligned to the right"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"align"}),": two columns, the first column right-aligned, the second column\nleft-aligned; used for one equation per line"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"split"}),": two columns of equations, the first column right-aligned, the\nsecond column left-aligned; used for a single equation split over multiple\nlines"]}),"\n"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.p,{children:"For example:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"<math-field>\\displaylines{x=1 \\\\y = 2}</math-field>\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"<math-field>\\begin{align}\n  f(0) &= 1 \\\\\n  f(x + 1) &= f(x-1) + f(x)\n\\end{align}\n</math-field>\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["When in a multi-line environment, the ",(0,l.jsx)(n.strong,{children:"Return"})," key will move to the next\nline. The ",(0,l.jsx)(n.strong,{children:"Backspace"})," key will delete the current line if the cursor is at\nthe beginning of the line. Note that no placeholder is inserted on a new line:\nthe line is simply blank."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.strong,{children:"Add Row Before"}),", ",(0,l.jsx)(n.strong,{children:"Add Row After"}),", ",(0,l.jsx)(n.strong,{children:"Add Column Before"}),", ",(0,l.jsx)(n.strong,{children:"Add Column\nAfter"}),", ",(0,l.jsx)(n.strong,{children:"Delete Row"})," and ",(0,l.jsx)(n.strong,{children:"Delete Columns"})," commands are available in the\ncontext menu when the cursor is inside a matrix. They are not available in\nmulti-line environments."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2574"})," The commands ",(0,l.jsx)(n.code,{children:"\\coloneq"}),", ",(0,l.jsx)(n.code,{children:"\\Coloneq"}),", ",(0,l.jsx)(n.code,{children:"\\Coloneqq"}),", ",(0,l.jsx)(n.code,{children:"\\eqcolon"})," and\n",(0,l.jsx)(n.code,{children:"\\Eqcolon"})," were mapped to incorrect symbols (some of them used obsolete\ndefinitions of those commands from the mathtools package that changed in the\nSummer of 2022). They are now correctly mapped to the corresponding symbols."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2576"})," The command ",(0,l.jsx)(n.code,{children:"\\perp"})," was mapped to the wrong symbol (U+22A5). It is\nnow mapped to the correct symbol (U+27C2)"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Improved ASCIIMath serialization."}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01030-2024-12-10",children:["0.103.0 ",(0,l.jsx)(n.em,{children:"2024-12-10"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-1",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2530"})," The AsciiMath ",(0,l.jsx)(n.code,{children:"1/2"})," is now parsed as ",(0,l.jsx)(n.code,{children:"\\frac{1}{2}"})]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"\\displaylines"})," command is now correctly parsed as a command with an\nargument, not as a group command."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01020-2024-11-29",children:["0.102.0 ",(0,l.jsx)(n.em,{children:"2024-11-29"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-2",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2550"})," The subpath exports in the main package.json have been updated to\ncomply with Node.js's subpath patterns, which utilize \"direct static matching\nand replacement."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2554"})," ",(0,l.jsx)(n.strong,{children:"Option for sticky virtual keyboard variant panel"})]}),"\n",(0,l.jsx)(n.p,{children:"When long pressing a key on the virtual keyboard, a variant panel is displayed\nthat offers alternatives (variants) for that key. The panel is only displayed\nwhile your finger is pressing the key (like a smartphone keyboard). This new\noptions allows the variant panel to remain displayed even if you lift your\nfinger from the screen."}),"\n",(0,l.jsxs)(n.p,{children:["Add the ",(0,l.jsx)(n.code,{children:"stickyVariantPanel"})," property to a virtual keyboard keycap definition\nto make the variant panel sticky."]}),"\n",(0,l.jsxs)(n.p,{children:["See ",(0,l.jsx)(n.code,{children:"./examples/sticky-variant-panel/"})," for an example."]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01012-2024-11-15",children:["0.101.2 ",(0,l.jsx)(n.em,{children:"2024-11-15"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-3",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Correctly display the caret following a ",(0,l.jsx)(n.code,{children:"\\mathop{}"})," command."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2540"})," When using ",(0,l.jsx)(n.code,{children:"renderMathInElement()"})," some white space was occasionally\nincorrectly removed."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2545"})," (?) Use ",(0,l.jsx)(n.code,{children:"\\rightarrow"})," instead of ",(0,l.jsx)(n.code,{children:"\\rarr"})," in the virtual keyboard."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2543"})," The ",(0,l.jsx)(n.code,{children:"MathfieldElement.fractionNavigationOrder"})," was not respected\nwhen navigating in a fraction with the arrow keys."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2251"})," Fixed the serialization of ",(0,l.jsx)(n.code,{children:"\\displaylines{}"})]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01011-2024-10-15",children:["0.101.1 ",(0,l.jsx)(n.em,{children:"2024-10-15"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-4",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2533"})," When using the virtual keyboard to insert a character with a\nblackboard style followed by a non-alphabetic symbol without a blackboard\nstyle, the second symbol would incorrectly be serialized with a blackboard\nstyle."]}),"\n",(0,l.jsxs)(n.li,{children:["In some cases, the ",(0,l.jsx)(n.code,{children:"placeholder"})," attribute would not be displayed when the\nmathfield was empty."]}),"\n",(0,l.jsx)(n.li,{children:"When using static math, the font-familly for text content was not correctly\ninherited from the parent element."}),"\n",(0,l.jsx)(n.li,{children:'In some cases, the inherent style of a macro could get overriden. For example\ntyping the "RR" inline shortcut resulted in an unstyled R instead of the\nexpected blackboard R.'}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01010-2024-07-17",children:["0.101.0 ",(0,l.jsx)(n.em,{children:"2024-07-17"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The properties ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.actionKeycap"}),",\n",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.shiftKeycap"}),", ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.backspaceKeycap"}),", and\n",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.tabKeycap"})," have been removed. Use the more general\n",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.setKeycap()"})," method to customize these keycaps, that is\n",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.setKeycap('[action]', {...})"})," etc..."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-and-new-features",children:"Improvements and New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Macros can now be specified with ",(0,l.jsx)(n.code,{children:"renderMathInElement()"})," and\n",(0,l.jsx)(n.code,{children:"renderMathInDocument()"})," using the ",(0,l.jsx)(n.code,{children:"macros"})," option. For example:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"renderMathInElement(element, {macros: {RR: '\\\\mathbb{R}'}})\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Performance improvements for pages with many mathfields. The initial rendering\ncan be up to 2x as fast."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Some keycaps in the virtual keyboard can be customized without having to\ndefine an entire virtual keyboard layout."}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.getKeycap()"})," give access to the definition of special\nkeycaps and ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.setKeycap()"})," can be used to change that\ndefinition."]}),"\n",(0,l.jsx)(n.p,{children:"The keycaps are one of these special shortcuts:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[left]"}),", ",(0,l.jsx)(n.code,{children:"[right]"}),", ",(0,l.jsx)(n.code,{children:"[up]"}),", ",(0,l.jsx)(n.code,{children:"[down]"}),", ",(0,l.jsx)(n.code,{children:"[return]"}),", ",(0,l.jsx)(n.code,{children:"[action]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[space]"}),", ",(0,l.jsx)(n.code,{children:"[tab]"}),", ",(0,l.jsx)(n.code,{children:"[backspace]"}),", ",(0,l.jsx)(n.code,{children:"[shift]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[undo]"}),", ",(0,l.jsx)(n.code,{children:"[redo]"}),", ",(0,l.jsx)(n.code,{children:"[foreground-color]"}),", ",(0,l.jsx)(n.code,{children:"[background-color]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[hide-keyboard]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[.]"}),", ",(0,l.jsx)(n.code,{children:"[,]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[0]"}),", ",(0,l.jsx)(n.code,{children:"[1]"}),", ",(0,l.jsx)(n.code,{children:"[2]"}),", ",(0,l.jsx)(n.code,{children:"[3]"}),", ",(0,l.jsx)(n.code,{children:"[4]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[5]"}),", ",(0,l.jsx)(n.code,{children:"[6]"}),", ",(0,l.jsx)(n.code,{children:"[7]"}),", ",(0,l.jsx)(n.code,{children:"[8]"}),", ",(0,l.jsx)(n.code,{children:"[9]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[+]"}),", ",(0,l.jsx)(n.code,{children:"[-]"}),", ",(0,l.jsx)(n.code,{children:"[*]"}),", ",(0,l.jsx)(n.code,{children:"[/]"}),", ",(0,l.jsx)(n.code,{children:"[^]"}),", ",(0,l.jsx)(n.code,{children:"[_]"}),", ",(0,l.jsx)(n.code,{children:"[=]"}),", ",(0,l.jsx)(n.code,{children:"[.]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[(]"}),", ",(0,l.jsx)(n.code,{children:"[)]"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"For example, to change the LaTeX inserted when the multiplication key is\npressed use:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"mathVirtualKeyboard.setKeycap('[*]', {latex: '\\\\times'});\n"})}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-5",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2455"})," Serialization to ASCII Math of brackets and braces is now correct."]}),"\n",(0,l.jsxs)(n.li,{children:["When using Chrome in some locale (such as ",(0,l.jsx)(n.code,{children:"es-419"}),"), the context menu would\nnot be displayed."]}),"\n",(0,l.jsxs)(n.li,{children:["When the ",(0,l.jsx)(n.code,{children:"MathfieldElement.isFunction"})," handler is updated, re-render all the\nmathfields on the page to take it into account."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2415"})," A content change event is now dispatched when the value of the\nmathfield is changed as a result of switch from LaTeX mode to math mode by\nchanging the selection."]}),"\n",(0,l.jsxs)(n.li,{children:["Dispatch a ",(0,l.jsx)(n.code,{children:"contextmenu"})," event any time the context menu is about to be\ndisplayed. This allows the event to be canceled."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2413"})," When setting the ",(0,l.jsx)(n.code,{children:"alphabeticLayout"}),", the current keyboard would not\nbe updated in some cases."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2412"})," The serialization of some expressions to LaTeX could result in some\nspaces being omitted. For example, ",(0,l.jsx)(n.code,{children:"\\lnot p"})," would serialize as ",(0,l.jsx)(n.code,{children:"\\lnotp"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2403"})," The virtual keyboard Keycap Variants panel was positioned\nincorrectly when the page used a RTL layout direction."]}),"\n",(0,l.jsx)(n.li,{children:"In the virtual keyboard, the background of the variant panel was sometimes\ndisplayed transparently."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2402"})," Characters inserted after a ",(0,l.jsx)(n.code,{children:"\\mathbb{}"})," command were not styled\ncorrectly."]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"math-virtual-keyboard-command"})," event was not dispatched when a mathfield\nwas focused and a keycap was pressed."]}),"\n",(0,l.jsxs)(n.li,{children:["There are now CSS selectors to customize the size of glyphs in the virtual\nkeyboard (shift, enter, etc...):","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--keycap-glyph-size"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--keycap-glyph-size-lg"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--keycap-glyph-size-xl"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2397"})," When a ",(0,l.jsx)(n.code,{children:"beforeinput"})," event was canceled, the text would still be\ninserted when using the physical keyboard."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2398"})," When a placeholder was the only element in a group, i.e.\n",(0,l.jsx)(n.code,{children:"{\\placeholder{}}"}),", the placeholder was not automatically selected."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01000-2024-06-12",children:["0.100.0 ",(0,l.jsx)(n.em,{children:"2024-06-12"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-6",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2396"})," Pressing the arrow keys in the virtual keyboard would not move the\nselection in the mathfield and display a runtime error in the console."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2392"})," Pressing the backspace key after typing several digits would delete\nall the digits."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2395"})," Added a ",(0,l.jsx)(n.code,{children:"dispatchEvent"})," command which can be attached to a custom\nkeycap."]}),"\n",(0,l.jsxs)(n.p,{children:["Its first argument is the name of the dispatched event, and the second\nargument is an object with the ",(0,l.jsx)(n.code,{children:"detail"})," property, which is the data associated\nwith the event."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"  {\n    label: \"\u2728\",\n    command: \"dispatchEvent('customEvent', {detail: 'some data'})\"\n  }\n"})}),"\n",(0,l.jsx)(n.p,{children:"To handle the event, add an event listener to the mathfield element:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"mf.addEventListener('customEvent', (ev) => {\n  console.log(ev.detail);\n});\n"})}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0990-2024-06-10",children:["0.99.0 ",(0,l.jsx)(n.em,{children:"2024-06-10"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-1",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mf.offsetFromPoint()"})," method has been renamed ",(0,l.jsx)(n.code,{children:"mf.getOffsetFromPoint()"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mf.setCaretPoint()"})," method has been replaced with\n",(0,l.jsx)(n.code,{children:"mf.position = mf.getOffsetFromPoint()"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mf.scriptDepth()"})," and ",(0,l.jsx)(n.code,{children:"mf.hitboxFromOffset()"})," methodds have been replaced\nwith ",(0,l.jsx)(n.code,{children:"mf.getElementInfo()"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"getElementInfo()"})," method provides more information including any id that\nmay have been applied with ",(0,l.jsx)(n.code,{children:"\\htmlId{}"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["It is useful from within a ",(0,l.jsx)(n.code,{children:"click"})," handler to get more information about the\nelement that was clicked, e.g."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"  mf.getElementInfo(mf.getOffsetFromPoint(ev.clientX, ev.clientY))\n"})}),"\n",(0,l.jsx)(n.p,{children:"The info returned is an object with the following properties:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"export type ElementInfo = {\n  /** The depth in the expression tree. 0 for top-level elements */\n  depth?: number;\n\n  /** The bounding box of the element */\n  bounds?: DOMRect;\n\n  /** id associated with this element or its ancestor, set with `\\htmlId` or\n     `\\cssId`\n  */\n  id?: string;\n\n  /** HTML attributes associated with element or its ancestores, set with\n   * `\\htmlData`\n   */\n  data?: Record<string, string | undefined>;\n\n  /** The mode (math, text or LaTeX) */\n  mode?: ParseMode;\n\n  /** A LaTeX representation of the element */\n  latex?: string;\n\n  /** The style (color, weight, variant, etc...) of this element. */\n  style?: Style;\n};\n"})}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"bold",children:"Bold"}),(0,l.jsx)(n.p,{children:"The way bold is handled in LaTeX is particularly confusing, reflecting\nlimitations of the text rendering technology of the time."}),(0,l.jsx)(n.p,{children:"Various attempts have been made over the years to improve the rendering of bold,\nbut this has resulted in inconsistent behavior. Furthermore, various\nimplementations of LaTeX and LaTeX-like systems have implemented bold in\ndifferent ways."}),(0,l.jsx)(n.p,{children:"This release introduces a more consistent and intuitive handling of bold,\nalthough it may result in different rendering of some formulas compared to some\nimplementations of LaTeX."}),(0,l.jsxs)(n.p,{children:["The original bold command in LaTeX is ",(0,l.jsx)(n.code,{children:"\\mathbf"}),". This command renders its\nargument using a bold variant of the current font. However, only letters and\nnumbers can be rendered by this command. It does not affect symbols, operators,\nor greek characters."]}),(0,l.jsxs)(n.p,{children:["For example, ",(0,l.jsx)(n.code,{children:"\\mathbf{a+b}"})," will render as ",(0,l.jsx)(n.code,{children:"\ud835\udc1a+\ud835\udc1b"}),", with the ",(0,l.jsx)(n.code,{children:"a"})," and ",(0,l.jsx)(n.code,{children:"b"})," in bold,\nbut the ",(0,l.jsx)(n.code,{children:"+"})," in normal weight. Characters rendered by ",(0,l.jsx)(n.code,{children:"\\mathbf"})," are rendered\nupright, even if they would have been rendered as italic otherwise."]}),(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"\\boldsymbol"})," command is an alternative to ",(0,l.jsx)(n.code,{children:"\\mathbf"})," that affects more\ncharacters, including Greek letters and symbols. It does not affect the style of\nthe characters, so they remain italic if they were italic before. However, the\ninter-character spacing and italic correction may not be rendered correctly."]}),(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"\\bm"})," command from the ",(0,l.jsx)(n.code,{children:"bm"})," package is a more modern alternative that\naffects even more characters. It also preserves the style of the characters, so\nthey remain italic if they were italic before. The inter-character spacing and\nitalic correction are handled correctly."]}),(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"\\bm"})," command is recommended over ",(0,l.jsx)(n.code,{children:"\\boldsymbol"})," and ",(0,l.jsx)(n.code,{children:"\\mathbf"}),". However, it\nis not part of the standard LaTeX distribution, so it may not always be\navailable."]}),(0,l.jsxs)(n.p,{children:["When serializing to LaTeX, MathLive will now use ",(0,l.jsx)(n.code,{children:"\\mathbf"})," when possible, and\nfall back to ",(0,l.jsx)(n.code,{children:"\\bm"})," when not. This should result in more consistent rendering of\nbold text."]}),(0,l.jsxs)(n.p,{children:["When parsing, MathLive will interpret both ",(0,l.jsx)(n.code,{children:"\\mathbf"}),", ",(0,l.jsx)(n.code,{children:"\\boldsymbol"})," and ",(0,l.jsx)(n.code,{children:"\\bm"})," as\nbold."]}),(0,l.jsx)(n.p,{children:"The bold style is now consistently inherited by sub-expressions."}),(0,l.jsxs)(n.p,{children:["Similarly, when applying a bold style using ",(0,l.jsx)(n.code,{children:'mf.applyStyle({weight: "bold"})'}),",\nthe bold attribute is applied to the entire selection, not just the letters and\nnumbers."]}),(0,l.jsx)(n.h3,{id:"mode-switching",children:"Mode Switching"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2375"})," The ",(0,l.jsx)(n.code,{children:"switch-mode"})," command has two optionals arguments, a prefix and\nsuffix. The prefix is inserted before the mode switch, and the suffix after.\nThe command was behaving incorrectly. It now behaves as expected."]}),"\n",(0,l.jsxs)(n.li,{children:["It is now possible to roundtrip between math and text mode. For example,\nselecting a fraction ",(0,l.jsx)(n.code,{children:"\\frac{a}{b}"})," and pressing ",(0,l.jsx)(n.code,{children:"alt+shift+T"})," will convert the\nselection to ",(0,l.jsx)(n.code,{children:"(a)/(b)"}),". Pressing ",(0,l.jsx)(n.code,{children:"alt+shift+T"})," again will convert it back to\n",(0,l.jsx)(n.code,{children:"\\frac{a}{b}"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"When in LaTeX mode, changing the selection would sometimes unexpectedly exit\nLaTeX mode, for example after the Select All command. This has been fixed."}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"\\href"})})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"\\href{url}{content}"})," command, a MathJax extension that allows a link to\nbe associated with some content, is now supported."]}),"\n",(0,l.jsxs)(n.p,{children:["Clicking on the content will open the link. By default, the link is opened in\na new window, and only links with a HTTP, HTTPS or FILE protocol are allowed.\nThis can be controlled by the new ",(0,l.jsx)(n.code,{children:"MathfieldElement.openUrl"})," property. This\nproperty is a function with a single argument, the URL to be opened, that is\ncalled when the content of the ",(0,l.jsx)(n.code,{children:"\\href"})," command is clicked on."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Tooltip appearance"})}),"\n",(0,l.jsxs)(n.p,{children:["Added CSS variables to control the appearance of the toolip displayed with\n",(0,l.jsx)(n.code,{children:"\\mathtip"})," and ",(0,l.jsx)(n.code,{children:"\\texttip"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--tooltip-border"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--tooltip-color"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--tooltip-background-color"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--tooltip-box-shadow"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--tooltip-border-radius"}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"maxMatrixCols"})," property has been added that specifies the maximum number\nof columns that a matrix may have. The default value is 10, which follows the\ndefault value from the amsmath package. The property applies to all of the\nmatrix environments (",(0,l.jsx)(n.code,{children:"matrix"}),", ",(0,l.jsx)(n.code,{children:"pmatrix"}),", ",(0,l.jsx)(n.code,{children:"bmatrix"}),", etc.). This property is\nalso accessible via the ",(0,l.jsx)(n.code,{children:"max-matrix-cols"})," attribute."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The virtual keyboard now supports variants for shifted-keys. This includes\nsupport for Swedish specific characters such as ",(0,l.jsx)(n.code,{children:"\xe5"}),", ",(0,l.jsx)(n.code,{children:"\xe4"}),", and ",(0,l.jsx)(n.code,{children:"\xf6"})," and their\nuppercase variants."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Accept ",(0,l.jsx)(n.code,{children:'"true"'})," and ",(0,l.jsx)(n.code,{children:'"false"'})," as values for on/off attributes in the\n",(0,l.jsx)(n.code,{children:"<math-field>"})," element, for example ",(0,l.jsx)(n.code,{children:'<math-field smart-fence="true">'}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added a ",(0,l.jsx)(n.code,{children:"target"})," property (a ",(0,l.jsx)(n.code,{children:"MathfieldElement"}),") to the ",(0,l.jsx)(n.code,{children:"onMenuSelect"}),"\narguments."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2337"})," Added an option ",(0,l.jsx)(n.code,{children:"MathfieldElement.restoreFocusWhenDocumentFocused"}),"\nto control whether a mathfield that was previously focused regains focus when\nthe tab or window regains focus. This is true by default and matches the\nprevious behavior, and the behavior of the ",(0,l.jsx)(n.code,{children:"<textarea>"})," element."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["An alternate syntax for selectors with arguments. Selectors are used for\nexample to associate actions with a keycap, such as ",(0,l.jsx)(n.code,{children:"switchKeyboardLayer"}),". The\nprevious syntax was ",(0,l.jsx)(n.code,{children:'command: ["switchKeyboardLayer", "alt-layer"]'}),", the new\nsyntax is ",(0,l.jsx)(n.code,{children:"command: 'switchKeyboardLayer(\"alt-layer\")'"}),". This is more concise\nand easier to read."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-7",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2387"})," When using a macro, the spacing around the macro was incorrect in\nsome cases."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2370"})," The order of the ",(0,l.jsx)(n.code,{children:"keydown"})," and ",(0,l.jsx)(n.code,{children:"input"})," event is now consistent with\nthe ",(0,l.jsx)(n.code,{children:"<textarea>"})," element."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2369"})," After typing a shortcut, using the backspace key could result in\nunexpected behavior. Now, pressing the backspace key after a shortcut has been\ntyped will undo the conversion of the shortcut."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2380"})," In some cases, when using the menu, some spurious focus/blur events\nwould be dispatched."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2384"})," When using repeating decimals after a comma (i.e. ",(0,l.jsx)(n.code,{children:"123{,}4(1)"}),"), do\nnot use a ",(0,l.jsx)(n.code,{children:"\\left...\\right"})," command in order to get the proper spacing."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2349"})," The positioning of subscripts for extensible symbols, such as ",(0,l.jsx)(n.code,{children:"\\int"}),"\nwas incorrect."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2326"})," The Cut and Copy commands in the context menu are now working\ncorrectly in Safari."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2309"})," When using styled text (e.g. ",(0,l.jsx)(n.code,{children:"\\textit{}"}),"), the content could\nsometimes be serialized with an unnecessary ",(0,l.jsx)(n.code,{children:"\\text{}"})," command, i.e.\n",(0,l.jsx)(n.code,{children:"\\text{\\textit{...}}"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2376"})," When ",(0,l.jsx)(n.code,{children:"smart-fence"})," was off, the ",(0,l.jsx)(n.code,{children:"{"})," and ",(0,l.jsx)(n.code,{children:"}"})," keys would not insert\nbraces."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2273"})," Using one of the Chinese locales would result in a runtime error."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2355"})," When pressing the down arrow key in ",(0,l.jsx)(n.code,{children:"\\sqrt[#?]{1}"})," from the ",(0,l.jsx)(n.code,{children:"#?"}),"\nposition, a runtime exception would occur."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2298"})," When using screen readers, pressing the spacebar would not always\ncorrectly focus the mathfield."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2297"})," In some cases, when using touch input, the previously selected item\nin a context menu would appear to be selected."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2289"})," When changing the value of the mathfield, the selection is now\npreserved. In addition, when using a controlled component with React an\nunnecessary update is avoided."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2282"})," Don't display selection when the mathfield is not focused"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2280"})," Handle better very deeply nested expressions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2261"})," When a style was applied to an empty range, the style was ignored."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2208"})," When setting a variant style (i.e. blackboard, fraktur, etc...) the\nstyle is no longer adopted by subsequent characters."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2104"}),", ",(0,l.jsx)(n.strong,{children:"#2260"})," When replacing the selection by typing, the new content\nwould not always be correctly styled. The content now inherits the style of\nthe selection, or the style of the insertion point if the selection is\ncollapsed."]}),"\n",(0,l.jsx)(n.li,{children:"Better handle the case where the mathlive library gets loaded before the DOM\nis constructed."}),"\n",(0,l.jsx)(n.li,{children:"On Safari, the Insert Matrix submenu was displayed incorrectly."}),"\n",(0,l.jsxs)(n.li,{children:["When the mathfield is an iframe, the ",(0,l.jsx)(n.code,{children:"before-virtual-keyboard-toggle"})," and\n",(0,l.jsx)(n.code,{children:"virtual-keyboard-toggle"})," events are now dispatched on the\n",(0,l.jsx)(n.code,{children:"window.mathVirtualKeyboard"})," object of the iframe. This can be used to detect\na request (and prevent) for the virtual keyboard to be displayed."]}),"\n",(0,l.jsxs)(n.li,{children:["If the unknown in an expression was a complex identifier, such as\n",(0,l.jsx)(n.code,{children:"\\mathcal{C}"}),' it would not be displayed correctly in the "Solve for" menu.']}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"\\mathrlap"})," command was incorrectly rendering like ",(0,l.jsx)(n.code,{children:"\\mathllap"}),"."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0986-2024-01-27",children:["0.98.6 ",(0,l.jsx)(n.em,{children:"2024-01-27"})]}),(0,l.jsx)(n.h3,{id:"new-features-1",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"StaticRenderOptions.TeX.className"})," to specify that an element with the\nspecified class name should be rendered as a LaTeX formula."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2273"})," Added a ",(0,l.jsx)(n.code,{children:"--keycap-width"})," CSS variable to specify the width of a\nkeycap in a virtual-keyboard. By default, if the CSS variable is not\nspecified, the width of the keycap is calculated based on the width of the\nparent container. However, this requires browser that support the ",(0,l.jsx)(n.code,{children:"cq"})," CSS\nunit. If the browser does not support the ",(0,l.jsx)(n.code,{children:"cq"})," CSS unit, this CSS variable can\nbe used to specify the width of the keycap. (See ",(0,l.jsx)(n.strong,{children:"#2028"}),", ",(0,l.jsx)(n.strong,{children:"#2133"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2255"})," Support for ",(0,l.jsx)(n.code,{children:"gather*"})," environment"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2242"})," A virtual keyboard keycap can now include a tooltip for its shifted\nvariant."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-8",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["When using some APIs such as ",(0,l.jsx)(n.code,{children:"renderToMarkup()"})," or ",(0,l.jsx)(n.code,{children:"renderToMathML()"})," in a\nserver-side environment, a runtime error would occur."]}),"\n",(0,l.jsx)(n.li,{children:"When tabbing in a mathfield with multiple prompts, tab out of the mathfield\nwhen the last or first prompt is reached."}),"\n",(0,l.jsxs)(n.li,{children:["**#2243##, **#2245** Unicode characters such as ",(0,l.jsx)(n.code,{children:"\xb2"})," or ",(0,l.jsx)(n.code,{children:"\u2102"})," are now\ninterpreted as their LaTeX equivalent only when in math mode."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2237"})," The command ",(0,l.jsx)(n.code,{children:"\\iff"})," now renders correctly"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2246"})," Changing the ",(0,l.jsx)(n.code,{children:"mf.value"})," property would not always update the value\nof the mathfield."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2244"})," Worked around an issue in Safari on iOS where doing a double-tap on\nthe virtual keyboard would result in the mathfield losing focus and the\nvirtualy keyboard closing."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2252"})," At some viewport sizes, the integral sign in the symbols virtual\nkeyboard would be clipped."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2235"})," Improved serialization to ASCIIMath."]}),"\n",(0,l.jsx)(n.li,{children:"Avoid conflicts with some class names when rendering static math."}),"\n",(0,l.jsxs)(n.li,{children:["When using ",(0,l.jsx)(n.code,{children:"renderMathToElement()"})," or ",(0,l.jsx)(n.code,{children:"renderMathInDocument()"}),", coalesce\nadjacent text nodes."]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly parse the ",(0,l.jsx)(n.code,{children:"\\cfrac"})," optional alignment argument"]}),"\n",(0,l.jsxs)(n.li,{children:["The commands ",(0,l.jsx)(n.code,{children:"\\bf"}),", ",(0,l.jsx)(n.code,{children:"\\bfseries"}),", ",(0,l.jsx)(n.code,{children:"\\mdseries"}),", ",(0,l.jsx)(n.code,{children:"\\upshape"}),", ",(0,l.jsx)(n.code,{children:"\\itshape"}),",\n",(0,l.jsx)(n.code,{children:"\\slshape"}),", ",(0,l.jsx)(n.code,{children:"\\scshape"}),", ",(0,l.jsx)(n.code,{children:"\\rmfamily"}),", ",(0,l.jsx)(n.code,{children:"\\sffamily"}),", ",(0,l.jsx)(n.code,{children:"\\ttfamily"})," are now\ninterpreted correctly."]}),"\n",(0,l.jsxs)(n.li,{children:["The command ",(0,l.jsx)(n.code,{children:"\\operatorname"})," is now spoken correctly"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2152"})," On Safari, fill-in-the-blank prompts containing a fraction were\nrendered incorrectly."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0985-2023-12-27",children:["0.98.5 ",(0,l.jsx)(n.em,{children:"2023-12-27"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-9",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["When a font size command is inside a ",(0,l.jsx)(n.code,{children:"\\left...\\right"})," command, apply the font\nsize to the content of the command. As a result\n",(0,l.jsx)(n.code,{children:"\\frac34 + \\left( \\scriptstyle \\frac12 \\right)"})," will now render as expected."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2214"})," When using Linux or Windows with a German keyboard layout, typing\nthe ",(0,l.jsx)(n.code,{children:"^"})," key will now switch to superscript."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2214"})," When typing Unicode characters such as ",(0,l.jsx)(n.code,{children:"\xb2"})," or ",(0,l.jsx)(n.code,{children:"\u2102"}),", correctly\ninterpret them as their LaTeX equivalent. This also affects parsing of the\n",(0,l.jsx)(n.code,{children:"value"})," property."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2000"}),", ",(0,l.jsx)(n.strong,{children:"#2063"})," A mathfield with multiple lines now generate correct\nLaTeX using the ",(0,l.jsx)(n.code,{children:"\\displaylines"})," command."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["When a superscript or subscript is attached to a function, correctly position\na following ",(0,l.jsx)(n.code,{children:"\\left...\\right"})," command closer to the function."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["When typing a superscript after ",(0,l.jsx)(n.code,{children:"f"}),", ",(0,l.jsx)(n.code,{children:"g"})," or some other function, correctly\ninterpret the superscript as an exponent, not as a function argument."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#787"}),", ",(0,l.jsx)(n.strong,{children:"#1869"})," The ",(0,l.jsx)(n.code,{children:"f"}),", ",(0,l.jsx)(n.code,{children:"g"})," and ",(0,l.jsx)(n.code,{children:"h"})," symbols are no longer hardcoded as\nsymbols representing functions."]}),"\n",(0,l.jsx)(n.p,{children:"Whether a symbol is considered a function affects the layout of a formula,\nspecifically the amount of space between the symbol and a subsequent delimiter\nsuch as a parenthesis."}),"\n",(0,l.jsxs)(n.p,{children:["Now whether a symbol should be treated as a function is determined by the\n",(0,l.jsx)(n.code,{children:"MathfieldElement.isFunction"})," hook."]}),"\n",(0,l.jsxs)(n.p,{children:["By the default, this hook uses the ",(0,l.jsx)(n.code,{children:"MathfieldElement.computeEngine"})," to\ndetermine if the domain of a symbol is a function."]}),"\n",(0,l.jsxs)(n.p,{children:["This can be customized by setting the ",(0,l.jsx)(n.code,{children:"isFunction"})," property of the mathfield\nor by declaring a symbol as a function using the ",(0,l.jsx)(n.code,{children:"declare()"})," method of the\ncompute engine. For example:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'MathfieldElement.computeEngine.declare("f", "Functions");\n'})}),"\n",(0,l.jsxs)(n.p,{children:["In addition, a new ",(0,l.jsx)(n.code,{children:"isImplicitFunction"})," hook has been added which can be used\nto indicate which symbols or commands are expected to be followed by an\nimplicit argument. For example, the ",(0,l.jsx)(n.code,{children:"\\sin"})," function can be followed by an\nimplicit argument without parentheses, as in ",(0,l.jsx)(n.code,{children:"\\sin \\frac{\\pi}{2}"}),". This\naffects the editing behavior when typing a ",(0,l.jsx)(n.code,{children:"/"})," after the function. If an\nimplicit function, the ",(0,l.jsx)(n.code,{children:"/"})," will be interpreted as an argument to the function,\notherwise it will be interpreted as a fraction with the function as the\nnumerator."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:['The "phi" keycap in the virtual keyboard was incorrectly displaying the\n',(0,l.jsx)(n.code,{children:"\\varphi"})," symbol. It now displays the ",(0,l.jsx)(n.code,{children:"\\phi"})," symbol."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2227"})," Updating the content of the mathfield with ",(0,l.jsx)(n.code,{children:"mf.innerText"})," will now\ncorrectly update the value of the mathfield."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2225"})," For consistency with ",(0,l.jsx)(n.code,{children:"<textarea>"}),", when setting the value change the\nselection to be at the end of the mathfield."]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0983-2023-12-07",children:["0.98.3 ",(0,l.jsx)(n.em,{children:"2023-12-07"})]}),(0,l.jsx)(n.h3,{id:"improvements-1",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Improved contrast calculation for the checkmarks over color swatches, now\nusing APCA."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["In some situations, the virtual keyboard would not be displayed when the\nmathfield was focused and the ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboardPolicy"})," was set to ",(0,l.jsx)(n.code,{children:'"auto"'}),"."]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0982-2023-12-06",children:["0.98.2 ",(0,l.jsx)(n.em,{children:"2023-12-06"})]}),(0,l.jsx)(n.h3,{id:"improvements-2",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"In some rare cases, the menu was not positioned correctly or would not display\nat all."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"When dynamically changing the layout of the mathfield, for example when using\na font-size attribute based on viewport units, correctly redraw the selection"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Selection while dragging would stop after a few milliseconds"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:'The "contains highlight" indicator is no longer displayed when the mathfield\nis not focused or when the indicator is outside of a prompt.'}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2194"})," Ignore long press events when the pointer is a mouse."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-10",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2195"})," If the mathfield had a variable width the selection would not be\ndisplayed correctly."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2190"})," Under some circumstances, commands selected from the menu could be\nexecuted twice."]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0981-2023-12-05",children:["0.98.1 ",(0,l.jsx)(n.em,{children:"2023-12-05"})]}),(0,l.jsx)(n.h3,{id:"new-features-2",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"mf.showMenu()"})," method to programmatically show the context menu."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-11",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Correctly position the menu when the document has been scrolled."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["When serializing, do not generate a ",(0,l.jsx)(n.code,{children:"\\text"})," command around a ",(0,l.jsx)(n.code,{children:"\\texttt"}),"\ncommand."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-3",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Keyboard navigate submenus with a grid layout"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0980-2023-12-03",children:["0.98.0 ",(0,l.jsx)(n.em,{children:"2023-12-03"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-2",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mf.setPromptContent()"})," method has been renamed to ",(0,l.jsx)(n.code,{children:"mf.setPromptValue()"}),"\nfor consistency with the ",(0,l.jsx)(n.code,{children:"mf.getPromptValue()"})," method."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mf.stripPromptContent()"})," method has been removed. Its functionality can\nbe achieved with:"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'const prompts = mf.getPrompts();\nconst values = prompts.map(id => mf.getPromptValue(id));\nprompts.forEach(id => mf.setPromptValue(id, ""));\n'})}),(0,l.jsx)(n.h3,{id:"improvements-4",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["A new ",(0,l.jsx)(n.code,{children:"mf.getPromptRange()"})," method returns the selection range of a prompt.\nThis can be used for example to focus a mathfield and select a specific\nprompt:"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"mf.focus();\nmf.selection = mf.getPromptRange(id);\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"The Color, Background Color and Variant menus correctly toggle the colors and\nvariant, and reflect their state with a checkmark or mixedmark."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Setting the ",(0,l.jsx)(n.code,{children:"mf.menuItems"})," property before the mathfield is inserted in the\nDOM will now correctly update the menu items."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Correctly display tooltips in the menu when invoked via the menu icon."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Localized menu items in the context menu."}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-3",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#348"})," Added a ",(0,l.jsx)(n.code,{children:"placeholder"})," attribute, similar to the ",(0,l.jsx)(n.code,{children:"placeholder"}),"\nattribute of a ",(0,l.jsx)(n.code,{children:"<textarea>"})," element. This specifies a short hint as a LaTeX\nstring that describes the expected value of the mathfield. When the mathfield\nis empty, the placeholder text is displayed. The placeholder text can be\nstyled with the ",(0,l.jsx)(n.code,{children:"math-field::part(placeholder)"})," CSS selector."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2162"})," Added a ",(0,l.jsx)(n.code,{children:'"latex-without-placeholders"'})," format to the ",(0,l.jsx)(n.code,{children:"getValue()"}),"\nmethod. This format is similar to the ",(0,l.jsx)(n.code,{children:'"latex"'}),' format, but does not include\nthe placeholders (for "fill-in-the-blanks").']}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-12",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2169"})," Changing the selection programatically will now correctly update the\nmathfield."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2189"})," If the decimal separator is set to ",(0,l.jsx)(n.code,{children:","}),", the virtual keyboard will\nnow correctly display the decimal separator as a comma."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2139"})," On some keyboard layouts, ",(0,l.jsx)("kbd",{children:"ALT"}),"+",(0,l.jsx)("kbd",{children:"/"})," would insert a\n",(0,l.jsx)(n.code,{children:"\\/"})," command, which is not standard. Now, the simple ",(0,l.jsx)(n.code,{children:"/"})," is inserted."]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0974-2023-11-29",children:["0.97.4 ",(0,l.jsx)(n.em,{children:"2023-11-29"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-13",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["When a global ",(0,l.jsx)(n.code,{children:".row"})," class was defined, it would be applied to the virtual\nkeyboard rows, resulting in incorrect layout."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-5",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"mf.queryStyle()"})," method to query the style of a selection or the\ncurrent style if no selection."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0973-2023-11-28",children:["0.97.3 ",(0,l.jsx)(n.em,{children:"2023-11-28"})]}),(0,l.jsx)(n.h3,{id:"improvements-6",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mode-change"})," event is now dispatched more consistently when the mode\nchanges."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"When the mathfield loses focus, if some of the content is in LaTeX mode, it\nremains in LaTeX mode. Previously, it would switch to math mode when losing\nfocus."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Changing the ",(0,l.jsx)(n.code,{children:"user-select"})," CSS property before inserting the mathfield in the\nDOM would not always be respected."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Use the DOM Popover API when available, which should ensure menus are\ndisplayed on top of other elements more consistently."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added support for accented characters in the virtual keyboard (press and hold\na vowel on an alphabetic keyboard to get accented variants), including a\nmodified AZERTY layout (",(0,l.jsx)("kbd",{children:"SHIFT"}),"+digits to get common accented\ncharacters)."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Improved rendering of the menu for CJK and LTR languages."}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-14",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"If there were multiple mathfield elements on the page, only the last one would\ndisplay tooltips."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2184"})," Pressing the ",(0,l.jsx)("kbd",{children:"TAB"})," key when in a prompt (fill-in-the-blank)\nwould not move to the next prompt"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2183"})," The MathML serialization of factorial was incorrect."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2181"})," The MathML serialization of limits was incorrect."]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0972-2023-11-21",children:["0.97.2 ",(0,l.jsx)(n.em,{children:"2023-11-21"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-15",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Keybindings for German Linux keyboard layout were not working correctly."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0971-2023-11-20",children:["0.97.1 ",(0,l.jsx)(n.em,{children:"2023-11-20"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-16",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2180"})," Allow the context menu to get turned off by setting\n",(0,l.jsx)(n.code,{children:"mf.menuItems = []"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Fixed a layout issue with the positioning of the context menu in some cases."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Improved dark mode appearance of context menu"}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0970-2023-11-20",children:["0.97.0 ",(0,l.jsx)(n.em,{children:"2023-11-20"})]}),(0,l.jsx)(n.h3,{id:"new-features-4",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Context Menu"})," Right-clicking on a mathfield or clicking the menu icon next\nto the virtual keyboard icon will bring up a context menu."]}),"\n",(0,l.jsxs)(n.p,{children:["The keyboard shortcut ",(0,l.jsx)("kbd",{children:"ALT"}),"+",(0,l.jsx)("kbd",{children:"SPACE"})," will also bring up the\ncontext menu. This keyboard shortcut previously toggled the virtual keyboard.\nThis keyboard shortcut to toggle the virtual keyboard is now\n",(0,l.jsx)("kbd",{children:"ALT"}),"+",(0,l.jsx)("kbd",{children:"SHIFT"}),"+",(0,l.jsx)("kbd",{children:"SPACE"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"The menu includes commands to:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"insert and edit matrixes"}),"\n",(0,l.jsx)(n.li,{children:"evaluate, simplify and solve equations"}),"\n",(0,l.jsx)(n.li,{children:"change the variant of a symbol (blackboard, fraktur, etc...)"}),"\n",(0,l.jsx)(n.li,{children:"change the style (italic, bold, etc...) of the selection"}),"\n",(0,l.jsx)(n.li,{children:"change the color and background color"}),"\n",(0,l.jsx)(n.li,{children:"insert text"}),"\n",(0,l.jsx)(n.li,{children:"copy LaTeX, MathML or MathASCII to the clipboard"}),"\n",(0,l.jsx)(n.li,{children:"toggle the virtual keyboard"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"The content of the menu may change in future versions, and feedback is\nwelcome."}),"\n",(0,l.jsxs)(n.p,{children:["The menu can be customized by setting the ",(0,l.jsx)(n.code,{children:"mf.menuItems"})," property of the\nmathfield. The value of this property is an array of menu items. See\n",(0,l.jsx)(n.a,{href:"https://cortexjs.io/mathlive/guides/menus/",children:"the documentation"})," for details."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-7",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The tooltip above the virtual keyboard toggle (and the menu glyph) now only\nappears after a delay."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-17",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The expression ",(0,l.jsx)(n.code,{children:"\\pmod5"})," is now correctly parsed as ",(0,l.jsx)(n.code,{children:"\\pmod{5}"}),". Macros that\nused an argument that was not a literal group were not parsed correctly."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0962-2023-11-16",children:["0.96.2 ",(0,l.jsx)(n.em,{children:"2023-11-16"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-18",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The vertical alignment of formulas containing some fractions was incorrect in\nsome cases."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2168"})," Changing the ",(0,l.jsx)(n.code,{children:"MathfieldELement.locale"})," or ",(0,l.jsx)(n.code,{children:"MathfieldElement.strings"}),"\nwould not affect existing mathfields."]}),"\n",(0,l.jsxs)(n.li,{children:["Incorrectly accessing static properties (for example using ",(0,l.jsx)(n.code,{children:"mf.locale"})," instead\nof ",(0,l.jsx)(n.code,{children:"MathfieldElement.locale"}),") will now throw an error."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2160"})," The keycap tooltips were not displayed."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2144"})," When ",(0,l.jsx)(n.code,{children:"smartFence"})," was on, an inline shortcut that conflicted with a\ndelimiter was ignored."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-8",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2141"}),": Added St Mary's Road symbols for theoretical computer science,\nincluding ",(0,l.jsx)(n.code,{children:"\\mapsfrom"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2158"})," Support the German keyboard layout on Linux."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2102"})," The mathfield element now respects the ",(0,l.jsx)(n.code,{children:"user-select"})," CSS property.\nIf it is set to ",(0,l.jsx)(n.code,{children:"none"}),", the mathfield will not be selectable."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0961-2023-11-15",children:["0.96.1 ",(0,l.jsx)(n.em,{children:"2023-11-15"})]}),(0,l.jsx)(n.h3,{id:"improvements-9",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Simplified the syntax to modify registers. Use\n",(0,l.jsx)(n.code,{children:"mf.registers.arraystretch = 1.5"})," instead of\n",(0,l.jsx)(n.code,{children:"mf.registers = {...mf.registers, arraystretch: 1.5}"})]}),"\n",(0,l.jsxs)(n.li,{children:["Allow changing registers using ",(0,l.jsx)(n.code,{children:"\\renewcommand"}),", for example\n",(0,l.jsx)(n.code,{children:"\\renewcommand{\\arraystretch}{1.5}"})]}),"\n",(0,l.jsxs)(n.li,{children:["Added keycap shortcuts ",(0,l.jsx)(n.code,{children:"[up]"})," and ",(0,l.jsx)(n.code,{children:"[down]"})," to move the selection up or down in\na matrix."]}),"\n",(0,l.jsx)(n.li,{children:"Display the environment popover when the selection is inside a matrix, even\nwhen the virtual keyboard is not visible."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-19",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2159"})," Runtime error in sandboxed mode when in an iframe from different\norigin"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2175"})," Addressed some rendering issues with Safar where a fraction inside a\n",(0,l.jsx)(n.code,{children:"\\left...\\right"})," was vertically offset."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2176"})," Using the ",(0,l.jsx)(n.code,{children:"[hide-keyboard]"})," virtual keycap would cause a runtime\nerror."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2161"})," When the virtual keyboard is hidden, a ",(0,l.jsx)(n.code,{children:"geometrychange"})," event is\ndispatched."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0960-2023-11-14",children:["0.96.0 ",(0,l.jsx)(n.em,{children:"2023-11-14"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-3",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The function ",(0,l.jsx)(n.code,{children:"serializeMathJsonToLatex()"})," has been renamed to\n",(0,l.jsx)(n.code,{children:"convertMathJsonToLatex()"})," for consistency."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-20",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["A closing parenthesis following a function application would be ignored, i.e.\n",(0,l.jsx)(n.code,{children:"(f(x))"})," would be parsed as ",(0,l.jsx)(n.code,{children:"(f(x)"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2116"}),' Pressing the "/" key after an expression ending with a superscript\nwould not recognize the left argument as a numerator.']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2124"})," In text mode, some characters were incorrectly interpreted as a math\ncommand, for example ",(0,l.jsx)(n.code,{children:"("})," was interpreted as \\lparen`. This could cause some\ninteroperability issues."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2110"})," If using the keyboard to enter several macros mapping to an\n",(0,l.jsx)(n.code,{children:"\\operatorname"}),' command, some of the commands could fail to render. For\nexample, typing "1mm + 2mm" in a mathfield would result in "1 + 2mm" to be\ndisplayed.']}),"\n",(0,l.jsxs)(n.li,{children:["When inserting an mchem atom, preserve the ",(0,l.jsx)(n.code,{children:"verbatimLatex"})," associated with the\natom, so that the ",(0,l.jsx)(n.code,{children:"value"})," property of the atom is correctly serialized."]}),"\n",(0,l.jsxs)(n.li,{children:["When invoking the ",(0,l.jsx)(n.code,{children:"moveToMathfieldEnd"})," command, the selection was not changed\nif it was not collapsed and already at the end of the mathfield. Similarly for\n",(0,l.jsx)(n.code,{children:"moveToMathfieldStart"}),"."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-10",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added support for additional commands from the ",(0,l.jsx)(n.code,{children:"mathtools"}),", ",(0,l.jsx)(n.code,{children:"actuarialangle"}),",\n",(0,l.jsx)(n.code,{children:"colonequals"}),", ",(0,l.jsx)(n.code,{children:"statmath"})," and ",(0,l.jsx)(n.code,{children:"amsopn"})," packages"]}),"\n",(0,l.jsxs)(n.li,{children:["Added support for ",(0,l.jsx)(n.code,{children:"longdiv"})," enclosure (",(0,l.jsx)(n.code,{children:"\\mathenclose{longdiv}{...}"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["The decimal separator key (",(0,l.jsx)(n.code,{children:"."}),") in the virtual keyboard was displayed as a\nblank key."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2109"})," In the virtual keyboard, some placeholders could be hard to see when\na keycap was in a pressed state."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2105"})," The keycap ",(0,l.jsx)(n.code,{children:"shift +"})," in the numeric keyboard was inserting a sum\nwith limits contrary to what the keycap label indicated."]}),"\n",(0,l.jsxs)(n.li,{children:["In the alphabetic virtual keyboard, the ",(0,l.jsx)(n.code,{children:","})," key now produces a semicolon when\nshifted and has a variant panel with additional punctuation."]}),"\n",(0,l.jsx)(n.li,{children:"Improved virtual keyboard for integrals with more explicit template"}),"\n",(0,l.jsx)(n.li,{children:"When removing the limit of an integral or a sum, do not delete the operator\nitself."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2122"})," On the Virtual Keyboard, the multiplication key now produces ",(0,l.jsx)(n.code,{children:"\\cdot"}),"\ninstead of ",(0,l.jsx)(n.code,{children:"\\times"}),". Use shift to produce ",(0,l.jsx)(n.code,{children:"\\times"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Improved serialization to ASCIIMath and MathML (",(0,l.jsx)(n.strong,{children:"#2130"})," and others)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2121"})," For ASCIIMath and MathML serialization, including phantom closing\ndelimiter in the output."]}),"\n",(0,l.jsx)(n.li,{children:"Pressing the Action keycap on the virtual keyboard with the shift key pressed\nnow inserts a new line (similar to what shift+enter does on a physical\nkeyboard)."}),"\n",(0,l.jsxs)(n.li,{children:["Render ",(0,l.jsx)(n.code,{children:"\\displaystyle"})," and ",(0,l.jsx)(n.code,{children:"\\textstyle"})," to MathML"]}),"\n",(0,l.jsx)(n.li,{children:"Avoid runtime error if the mathfield gets deleted during a selection change\nevent."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0955-2023-08-18",children:["0.95.5 ",(0,l.jsx)(n.em,{children:"2023-08-18"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-21",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2091"})," The variant panel for the ",(0,l.jsx)(n.code,{children:"7"})," key was the variant panel for ",(0,l.jsx)(n.code,{children:"4"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2093"})," Inline shortcuts can be corrected with backspace, i.e. typing\n",(0,l.jsx)(n.code,{children:"sen[backspace][backspace]in"})," will be corrected to ",(0,l.jsx)(n.code,{children:"\\\\sin"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2018"})," Some VK toolbar items could be offset by a few pixels on some mobile\ndevices"]}),"\n",(0,l.jsxs)(n.li,{children:["The caret was not visible when placed after an ",(0,l.jsx)(n.code,{children:"\\operator*{}"})," command"]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"\\class{}{}"})," command in a mathfield was not working correctly."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-11",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2052"})," When double-clicking then dragging, the selection is now extended to\nthe nearest boundary. This applies to math, text and LaTeX zones."]}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"prompt"})," CSS part to the mathfield element. This allows styling of\nprompts (placeholders) in a fill-in-the-blank mathfield."]}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"w40"})," keycap class (4-wide)"]}),"\n",(0,l.jsxs)(n.li,{children:["When using ",(0,l.jsx)(n.code,{children:"renderMathInElement()"})," preserve the LaTeX as a ",(0,l.jsx)(n.code,{children:"data-"})," attribute\non the element."]}),"\n",(0,l.jsxs)(n.li,{children:["Added speakable text for ",(0,l.jsx)(n.code,{children:"\\imaginaryI"}),", ",(0,l.jsx)(n.code,{children:"\\imaginaryJ"}),", ",(0,l.jsx)(n.code,{children:"\\ne"})," and ",(0,l.jsx)(n.code,{children:"\\neq"})]}),"\n",(0,l.jsx)(n.li,{children:"Added ARIA label to keyboard toggle glyph"}),"\n",(0,l.jsxs)(n.li,{children:["More robust check for ",(0,l.jsx)(n.code,{children:"PointerEvent"})," support"]}),"\n",(0,l.jsxs)(n.li,{children:["Throw an error if attempting to access ",(0,l.jsx)(n.code,{children:"mf.mathVirtualKeyboard"}),". The virtual\nkeyboard is now a singleton, accessible as ",(0,l.jsx)(n.code,{children:"window.mathVirtualKeyboard"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["When a ",(0,l.jsx)(n.code,{children:"command"})," attribute is associated with a keycap, a\n",(0,l.jsx)(n.code,{children:"math-virtual-keyboard-command"})," event is dispatched when the keycap is\npressed."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0954-2023-08-11",children:["0.95.4 ",(0,l.jsx)(n.em,{children:"2023-08-11"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-22",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2090"})," A runtime error could occur when adding a superscript inside a\nsquare root"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2068"})," Use a more compact keyboard layout for phones in landscape mode."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-12",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2089"})," Added ",(0,l.jsx)(n.code,{children:"x^{#?}"})," in the virtual keyboard variant panel for ",(0,l.jsx)(n.code,{children:"x"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2082"})," The shortcut for ",(0,l.jsx)(n.code,{children:"\\int"})," was triggered with ",(0,l.jsx)(n.code,{children:"sint"}),'. Note that in case\nof similar conflicts, pressing the spacebar will prevent the shorcuts from\ntaking effect, i.e. "sin t".']}),"\n",(0,l.jsx)(n.li,{}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0952-2023-08-09",children:["0.95.2 ",(0,l.jsx)(n.em,{children:"2023-08-09"})]}),(0,l.jsx)(n.h3,{id:"improvements-13",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"if-math-mode"})," and ",(0,l.jsx)(n.code,{children:"if-text-mode"})," classes to conditionally show virtual\nkeyboard keys."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2086"})," When navigation a root with an index, the index is now navigated\nfirst."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0951-2023-07-25",children:["0.95.1 ",(0,l.jsx)(n.em,{children:"2023-07-25"})]}),(0,l.jsx)(n.h3,{id:"improvements-14",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2064"}),", ",(0,l.jsx)(n.strong,{children:"#2065"})," Improved behavior of virtual keyboard shift key,\ncontributed by ",(0,l.jsx)(n.a,{href:"https://github.com/oscarhermoso",children:"https://github.com/oscarhermoso"})]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-23",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1995"})," When right clicking to bring up the variant panel in the virtual\nkeyboard, in some situations the virtual keyboard would lock up."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2047"})," Use ",(0,l.jsx)(n.code,{children:"\\exp"})," instead of ",(0,l.jsx)(n.code,{children:"\\mathrm{exp}"})," in the virtual keyboard"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2067"})," When setting up the virtual keyboard policy to ",(0,l.jsx)(n.code,{children:'"sandboxed"'})," in a\ncross domain iframe, a runtime error would occur."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0950-2023-07-04",children:["0.95.0 ",(0,l.jsx)(n.em,{children:"2023-07-04"})]}),(0,l.jsx)(n.h3,{id:"improvements-15",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Improved behavior when pressing the tab key"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2015"})," New ",(0,l.jsx)(n.code,{children:"environmentPopoverPolicy"})," option. Set to:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"auto"'})," to show environment popover when inside a tabular environment and\nthe virtual keyboard is visible (current behavior)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"on"'})," to show it when in a tabular environment"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"off"'})," to never show it"]}),"\n"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-24",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2008"})," The ",(0,l.jsx)(n.code,{children:"\\underline"})," and ",(0,l.jsx)(n.code,{children:"\\overline"})," commands now render correctly."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1996"}),", ",(0,l.jsx)(n.strong,{children:"#2025"})," MathML output could occasionally be incorrect for the",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.code,{children:"\\left...\\right"})," command"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2009"})," Chemical equations did not render correctly"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1990"})," The closing delimiter of a ",(0,l.jsx)(n.code,{children:"\\left...\\right"})," command was incorrectly\nadopting the style of the last atom inside the command."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2044"})," When overflowing the mathfield using the virtual keyboard, the caret\nwould be hidden from view."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2000"}),", ",(0,l.jsx)(n.strong,{children:"#2016"})," Correctly handle when the root is not a group, i.e. when\nit's a multi-line array."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0948-2023-06-15",children:["0.94.8 ",(0,l.jsx)(n.em,{children:"2023-06-15"})]}),(0,l.jsx)(n.h3,{id:"improvements-16",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"On RTL system, do not flip the direction of the virtual keyboard keycaps rows"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0947-2023-06-08",children:["0.94.7 ",(0,l.jsx)(n.em,{children:"2023-06-08"})]}),(0,l.jsx)(n.h3,{id:"improvements-17",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1989"})," Temporarily add back support for iOS versions older than 16.3."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0946-2023-05-25",children:["0.94.6 ",(0,l.jsx)(n.em,{children:"2023-05-25"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-25",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Only display seletion when the mathfield is focused"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1985"})," Add option for output format of ",(0,l.jsx)(n.code,{children:"getPromptValue()"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1985"})," Return Ascii Math output for prompts/placeholders."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"feature",children:"Feature"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'Pressing the tab key will move to the "next group" in the mathfield, if\npossible.'}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0945-2023-05-24",children:["0.94.5 ",(0,l.jsx)(n.em,{children:"2023-05-24"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-26",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The selection in read only mathfield was no longer visible."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0943-2023-05-22",children:["0.94.3 ",(0,l.jsx)(n.em,{children:"2023-05-22"})]}),(0,l.jsx)(n.h3,{id:"improvements-18",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.layouts"})," property was a frozen array (an array that\ncannot be modified) but that wasn't clear. Now, a runtime error is produced if\nan attempt is made to modify the array. If using Typescript, a compile-time\nerror is also generated."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-27",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1979"})," Vectors were displayed with an offset"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1978"})," Pasting or inserting some content could result in a runtime error"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1978"})," Text content was not properly serialized in a ",(0,l.jsx)(n.code,{children:"\\text{}"})," command"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1682"})," Vectors (and other accents) are now spoken correctly"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1981"})," Adjusting the selection by moving backwards could result in a\nruntime error."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1982"})," Improved resilience when a mathfield is in an embedded iframe which\nis not allowed to access the top window by cross-origin policy. In this\nsituation the virtual keyboard is not available, but input via physical\nkeyboard will work."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0942-2023-05-22",children:["0.94.2 ",(0,l.jsx)(n.em,{children:"2023-05-22"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-28",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1976"})," Toggling the virtual keyboard several times would eventually not\ndisplay the virtual keyboard."]}),"\n",(0,l.jsx)(n.li,{children:"Only apply smartFence in math mode (not in text or LaTeX mode)."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1975"})," When inserting a square root, do not insert an index by default"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0941-2023-05-21",children:["0.94.1 ",(0,l.jsx)(n.em,{children:"2023-05-21"})]}),(0,l.jsx)(n.h3,{id:"improvements-19",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use constructable stylesheets. This results in improved performance and a\nreduction of memory consuption by 2/3 in a page with 1,000 mathfields."}),"\n",(0,l.jsxs)(n.li,{children:["Improved MathML serialization (",(0,l.jsx)(n.strong,{children:"#1870"}),", ",(0,l.jsx)(n.strong,{children:"#1803"}),", ",(0,l.jsx)(n.strong,{children:"#1933"}),", ",(0,l.jsx)(n.strong,{children:"#1648"}),",\n",(0,l.jsx)(n.strong,{children:"#737"}),", ",(0,l.jsx)(n.strong,{children:"#150"}),", variants: blackboard, fraktur, bold, etc...)."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-29",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1963"}),' Typing a "/" after a digit containing a french decimal (',(0,l.jsx)(n.code,{children:","}),") did not\ninclude the digits before the decimal."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0940-2023-05-18",children:["0.94.0 ",(0,l.jsx)(n.em,{children:"2023-05-18"})]}),(0,l.jsx)(n.h3,{id:"new-features-5",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added support for ",(0,l.jsx)(n.code,{children:"\\raise"}),", ",(0,l.jsx)(n.code,{children:"\\lower"})," and ",(0,l.jsx)(n.code,{children:"\\raisebox"})," commands. Those commands\nwere necessary to render some chemical bonds."]}),"\n",(0,l.jsxs)(n.li,{children:["Pressing ",(0,l.jsx)(n.code,{children:"("}),", ",(0,l.jsx)(n.code,{children:"["})," or ",(0,l.jsx)(n.code,{children:"{"})," with a selection will enclose the selection with this\ndelimiter."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-20",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Improved parsing/serialization/rendering of content with a mix of text and\nmath."}),"\n",(0,l.jsx)(n.li,{children:"Various rendering improvements, mostly of edge cases."}),"\n",(0,l.jsx)(n.li,{children:"Improved behavior of the Shift key in the math keyboard. Single-press the\nShift key to set it temporarily, double-press it key to lock it (similar to\nCapsLock), triple-press it to unlock. This is similar behavior to the ones of\nmobile virtual keyboards."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1647"})," Improved rendering of chemical bonds, e.g. ",(0,l.jsx)(n.code,{children:"\\ce{ O\\bond{~-}H}"})]}),"\n",(0,l.jsx)(n.li,{children:"Only on iOS, intercepts the cmd+XCV keyboard shortcut. On other platforms, use\nthe standard cut/copy/paste commands, which do not require user permission."}),"\n",(0,l.jsxs)(n.li,{children:["The tooltips displayed by the ",(0,l.jsx)(n.code,{children:"\\mathtooltip{}"})," and ",(0,l.jsx)(n.code,{children:"\\texttip{}"})," commands are\nnow displayed when used with a static formula."]}),"\n",(0,l.jsx)(n.li,{children:"Improvements to smart fence behavior, including better undoability."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-30",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Selection display was incorrect when the equation included a colored\nbackground."}),"\n",(0,l.jsx)(n.li,{children:"Pasing text while in LaTeX mode now works."}),"\n",(0,l.jsx)(n.li,{children:"Some of the arrows for mhchem have been renamed and are now displaying\ncorrectly"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1964"})," Prevent a runtime error when a mathfield is embedded in an iframe\nand MathLive is not loaded in the host document."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1970"})," The environment popover was not always positioned correctly."]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly return unstyled LaTeX when requested (with format ",(0,l.jsx)(n.code,{children:"unstyled-latex"}),").\nThis strips any color/background-color/font sizing commands from the ouput."]}),"\n",(0,l.jsxs)(n.li,{children:["The caret is no longer displayed twice when placed after ",(0,l.jsx)(n.code,{children:"\\cos^2"})," (operators\nwith a superscript)."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0930-2023-05-08",children:["0.93.0 ",(0,l.jsx)(n.em,{children:"2023-05-08"})]}),(0,l.jsx)(n.h3,{id:"new-features-6",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Support for ",(0,l.jsx)(n.code,{children:"\\the"})," command. For example, ",(0,l.jsx)(n.code,{children:"\\the\\year"}),". Its argument can be a\nliteral or a register, preceded by an optional factor literal."]}),"\n",(0,l.jsxs)(n.li,{children:["In addition to the ",(0,l.jsx)(n.code,{children:"label"})," property, the ",(0,l.jsx)(n.code,{children:"key"})," property can also now be used\nfor keycap shortcuts. This allow overriding of the shortcut label. For example\n",(0,l.jsx)(n.code,{children:'{key: "[undo]", label: "undo"}'})]}),"\n",(0,l.jsxs)(n.li,{children:["Added support for ",(0,l.jsx)(n.code,{children:"--keyboard-row-padding-left"})," and\n",(0,l.jsx)(n.code,{children:"--keyboard-row-padding-right"})," as an option to account for shadows or other\ndecoration that may spill outside the box of a keycap."]}),"\n",(0,l.jsx)(n.li,{children:"Fixed opacity of Undo button in virtual keyboard, when the button is not\napplicable."}),"\n",(0,l.jsxs)(n.li,{children:["The minFontScale property has been added that specifies the minimum font size\nthat should be used for nested superscripts and fractions. The value should be\nbetween 0 and 1. The size is in releative ",(0,l.jsx)(n.code,{children:"em"})," units relative to the font size\nof the ",(0,l.jsx)(n.code,{children:"math-field"}),". The default value is 0, which allows the ",(0,l.jsx)(n.code,{children:"math-field"})," to\nuse its default sizing logic."]}),"\n",(0,l.jsxs)(n.li,{children:["If no mathfield is focused the virtual keyboard will dispatch a\n",(0,l.jsx)(n.code,{children:"keydown"}),"/",(0,l.jsx)(n.code,{children:"keyup"})," event pair. Add an event listener to the keyboard to receive\nthose events."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-21",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Improved performance of creation and destruction of mathfields by 50%."}),"\n",(0,l.jsx)(n.li,{children:"Fixed memory and listener leaks. After creating, inserting in the DOM, then\nremoving over 100,000, the memory is back to its starting point and there are\nno listeners left (except for those associated with the Virtual Keyboard)."}),"\n",(0,l.jsxs)(n.li,{children:["Improved behavior of undo/redo. ",(0,l.jsx)(n.strong,{children:"#1924"})," works in LaTeX mode. Undo shortcut\nsubstitution. Repeated operations (e.g. backspace) are considered a sinle\noperation for undo/redo purposes."]}),"\n",(0,l.jsx)(n.li,{children:"Importing the Compute Engine and MathLive in the same projec should no longer\ntrigger a conflict."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-31",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1646"})," ",(0,l.jsx)(n.strong,{children:"mhchem"}),": states of aggregation is now rendered correctly. Added\nsupport for the ",(0,l.jsx)(n.code,{children:"\\mskip"})," command"]}),"\n",(0,l.jsx)(n.li,{children:"When editing a mathfield, after inserting both a superscript and subscript,\nthe subscript would be offset from the superscript."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1668"})," Correctly handle ",(0,l.jsx)(n.code,{children:"\\space"}),", ",(0,l.jsx)(n.code,{children:"~"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1939"})," When the parent of the Mathfield is scaled, apply the scaling to the\nselection rectangles"]}),"\n",(0,l.jsx)(n.li,{children:"Fixed parsing of emojis such as \ud83e\uddd1\ud83c\udffb\u200d\ud83d\ude80"}),"\n",(0,l.jsx)(n.li,{children:"The focus outline is no longer displayed when in readonly mode"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1940"})," New attempt to preserve the focus of mathfields when a window loses,\nthen regains focus (when switching tabs, for example)."]}),"\n",(0,l.jsxs)(n.li,{children:["At certain sizes, the ",(0,l.jsx)(n.code,{children:"\\left...\\right"})," command did not display the visual\nindicator that the caret was inside the argument of the command."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0921-2023-04-19",children:["0.92.1 ",(0,l.jsx)(n.em,{children:"2023-04-19"})]}),(0,l.jsx)(n.h3,{id:"improvements-22",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Replaced the ",(0,l.jsx)(n.code,{children:"(x)"})," ASCIIMath inline shortcut with ",(0,l.jsx)(n.code,{children:"(*)"})]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly parse empty sub/superscripts, i.e. ",(0,l.jsx)(n.code,{children:"x^{}"})]}),"\n",(0,l.jsx)(n.li,{children:"Fixed serialization of macros (regression)"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0920-2023-04-18",children:["0.92.0 ",(0,l.jsx)(n.em,{children:"2023-04-18"})]}),(0,l.jsx)(n.h3,{id:"improvements-23",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["In LaTeX, ",(0,l.jsx)(n.code,{children:"\\not{\\in}"}),", ",(0,l.jsx)(n.code,{children:"\\not{}\\in"})," and ",(0,l.jsx)(n.code,{children:"\\not\\in"})," all render differently.\nPreviously they were all rendered as ",(0,l.jsx)(n.code,{children:"\\not\\in"}),". They now render as in LaTeX."]}),"\n",(0,l.jsx)(n.li,{children:"Removed some unused keybindings, added Desmos Graphing Calculator inline\nshortcuts, added ASCIIMath inline shortcuts."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1920"})," Added a ",(0,l.jsx)(n.code,{children:'"sandboxed"'})," ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboardPolicy"})," which causes the\niframe in which the mathfield is to be treated as a top-level browsing\ncontext, i.e. to display a virtual keyboard instance in that iframe."]}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"mathVirtualKeycap.actionKeycap"}),", ",(0,l.jsx)(n.code,{children:"mathVirtualKeycap.shiftKeycap"}),",\n",(0,l.jsx)(n.code,{children:"mathVirtualKeycap.tabKeycap"}),", ",(0,l.jsx)(n.code,{children:"mathVirtualKeycap.backspaceKeycap"}),' to\ncustomize the appearance of action keys without having to define new layouts.\nThis can be used to change the "Return" glyph to "Continue" for example, or to\nuse the word "Shift" for the shift key instead of the default shift glyph.']}),"\n",(0,l.jsxs)(n.li,{children:["Added keyboard shortcuts (",(0,l.jsx)("kbd",{children:"alt/option"}),"+",(0,l.jsx)("kbd",{children:"Tab"})," and\n",(0,l.jsx)("kbd",{children:"alt/option"}),"+",(0,l.jsx)("kbd",{children:"Return"}),") for matrices/environments. Type ",(0,l.jsx)(n.code,{children:"("})," +\n",(0,l.jsx)("kbd",{children:"alt/option"}),"+",(0,l.jsx)("kbd",{children:"Tab"})," to create 2x1 matrix. If at the root,\ntype ",(0,l.jsx)("kbd",{children:"alt/option"}),"+",(0,l.jsx)("kbd",{children:"Return"})," for a multi-line expression."]}),"\n",(0,l.jsx)(n.li,{children:"Improved LaTeX serialization. Use braces around arguments consistent with\nLaTeX conventions. Exception is made for single digits for fractions, square\nroots, superscript and subscript."}),"\n",(0,l.jsxs)(n.li,{children:["Improved handling of arguments with and without braces. ",(0,l.jsx)(n.code,{children:"x^\\frac12"})," is now\nparsed correctly."]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"arraystretch"})," register is now supported to customize the vertical spacing\nof matrixes and other multi row environments."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-32",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["When a keybinding conflicts with a composition, cancel the composition. For\nexample, when typing ",(0,l.jsx)("kbd",{children:"option"}),"+",(0,l.jsx)("kbd",{children:"U"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"After changing the math keyboard layouts, if there is no layer matching the\npreviously active layer, pick the first available layer."}),"\n",(0,l.jsx)(n.li,{children:"When scrolling the mathfield into view after activating the math keyboard\ncorrectly account for the position of the keyboard."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1914"})," When the ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboardPolicy"})," is set to ",(0,l.jsx)(n.code,{children:'"manual"'}),", the\nkeyboard is not hidden, even when losing focus."]}),"\n",(0,l.jsx)(n.li,{children:"If the last row of a matrix is empty, it is ignored (LaTeX behavior)"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1929"})," The ",(0,l.jsx)(n.code,{children:"\\boldsymbol"})," command was serialized incorrectly after its\ncontent was modified."]}),"\n",(0,l.jsxs)(n.li,{children:["Ambient style is now applied to macros, so ",(0,l.jsx)(n.code,{children:"\\Huge\\mathbb{R}"})," and ",(0,l.jsx)(n.code,{children:"\\Huge\\R"}),"\nrender identically."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1851"}),": Correctly render ",(0,l.jsx)(n.code,{children:"\\not"}),". Fun fact: in LaTeX, ",(0,l.jsx)(n.code,{children:"\\not="})," renders with a\ndifferent spacing from ",(0,l.jsx)(n.code,{children:"\\not{=}"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly render and serialize text (e.g. in ",(0,l.jsx)(n.code,{children:"\\text{}"})," commands) containing\nnon-applicable commands, for example ",(0,l.jsx)(n.code,{children:"\\text{\\frac12}"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["When applying a style inside a ",(0,l.jsx)(n.code,{children:"\\left...\\right"}),", the style of the closing\ndelimiter should match the style of the last atom before the ",(0,l.jsx)(n.code,{children:"\\right"})," command.\nFor example, with ",(0,l.jsx)(n.code,{children:"a\\left(b\\color{red} c\\right)d"}),", ",(0,l.jsx)(n.code,{children:"c"})," and ",(0,l.jsx)(n.code,{children:")"})," should be red."]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly render ",(0,l.jsx)(n.code,{children:"\\middle"})," commands when preceded with a style-changing\ncommands, for example: ",(0,l.jsx)(n.code,{children:"a\\left(b\\color{red}\\middle| \\frac34\\right)d"})]}),"\n",(0,l.jsx)(n.li,{children:"Work around a Chrome rendering issue with thin lines (fractions, surds)"}),"\n",(0,l.jsxs)(n.li,{children:["Correctly render the gap to the left of ",(0,l.jsx)(n.code,{children:"\\underline"}),", ",(0,l.jsx)(n.code,{children:"\\overline"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1656"})," Incorrect ",(0,l.jsx)(n.code,{children:"\\left...\\right"})," command after deleting part of the\nformula."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1925"})," Navigation with the arrow keys could occasionally incorrectly handle\natoms that should be treated as a unit, for example ",(0,l.jsx)(n.code,{children:"\\dot{\\vec{v}}"}),". In\ngeneral, various edge cases were not handled correctly."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0912-2023-04-06",children:["0.91.2 ",(0,l.jsx)(n.em,{children:"2023-04-06"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-33",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Update editing toolbar when virtual keyboard is made visible"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1919"})," Correctly position the popover panel above or below the mathfield\nbased on the space available. Allow for more suggestions to be displayed, and\ninclude a scrollbar when necessary."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0911-2023-04-05",children:["0.91.1 ",(0,l.jsx)(n.em,{children:"2023-04-05"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-34",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The context menu that appears on long press on ChromeOS has been disabled as\nit interfered with long press for variant keys"}),"\n",(0,l.jsx)(n.li,{children:"When showing the virtual keyboard if the virtual keyboard obscures the\nmathfield, adjust the position of the mathfield to be visible"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0910-2023-04-04",children:["0.91.0 ",(0,l.jsx)(n.em,{children:"2023-04-04"})]}),(0,l.jsx)(n.p,{children:"In this release the UI of the virtual keyboards has been significantly updated.\nThis includes new virtual keyboards as well as updated layout for existing\nvirtual keyboards and support for shift key modifier for many keycaps."}),(0,l.jsx)(n.h3,{id:"breaking-changes-4",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The CSS variable ",(0,l.jsx)(n.code,{children:"--keycap-modifier-background"}),",\n",(0,l.jsx)(n.code,{children:"--keycap-modifier-background-hover"}),", ",(0,l.jsx)(n.code,{children:"--keycap-modifier-text"}),",\n",(0,l.jsx)(n.code,{children:"--keycap-modifier-border"})," and ",(0,l.jsx)(n.code,{children:"--keycap-modifier-border-bottom"})," have been\nrenamed ",(0,l.jsx)(n.code,{children:"--keycap-secondary-background"}),", ",(0,l.jsx)(n.code,{children:"-keycap-secondary-background-hover"}),",\n",(0,l.jsx)(n.code,{children:"--keycap-secondary-text"}),", ",(0,l.jsx)(n.code,{children:"--keycap-secondary-border"})," and\n",(0,l.jsx)(n.code,{children:"--keycap-secondary-border-bottom"}),", respectively."]}),"\n",(0,l.jsxs)(n.li,{children:["The custom class on a keycap to indicate a shift key has been renamed from\n",(0,l.jsx)(n.code,{children:"modifier"})," to ",(0,l.jsx)(n.code,{children:"shift"})]}),"\n",(0,l.jsxs)(n.li,{children:["The undocument ",(0,l.jsx)(n.code,{children:"data-shifted"})," and ",(0,l.jsx)(n.code,{children:"data-shifted-command"})," attributes are no\nlonger supported."]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"classes"})," property in the JSON description of custom layouts has been\nrenamed to ",(0,l.jsx)(n.code,{children:"labelClass"})]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"styles"})," property in the JSON description of a custom layer has been\nrenamed to ",(0,l.jsx)(n.code,{children:"style"})]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-7",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The JSON description of custom virtual keyboard now support keycap shortcuts.\nFor example the ",(0,l.jsx)(n.code,{children:"[left]"})," keycap shortcut represent the left arrow key. See the\n",(0,l.jsx)(n.a,{href:"https://cortexjs.io/mathlive/guides/virtual-keyboards/#defining-custom-layouts",children:"documentation"}),"\nfor more details."]}),"\n",(0,l.jsx)(n.li,{children:"Custom virtual keyboards can now include special keycaps for editing commands\n(cut/copy/paste/undo)."}),"\n",(0,l.jsxs)(n.li,{children:["The JSON description of custom virtual keyboard keycaps can now include a\n",(0,l.jsx)(n.code,{children:"width"})," property"]}),"\n",(0,l.jsx)(n.li,{children:"The variants panel can be invoked by right-clicking on a keycap."}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-24",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The default virtual keyboards have been rewritten. They now use the JSON\nformat for their internal description, instead of custom markup."}),"\n",(0,l.jsx)(n.li,{children:'The "Functions" virtual keyboard has been merged with the "Symbols" virtual\nkeyboard. Fewer keyboards makes it easier to find the symbol or function\nyou\'re looking for.'}),"\n",(0,l.jsx)(n.li,{children:'The "Numeric" and "Symbols" keyboard now feature a Shift key, doubling the\nnumber of symbols accessible from them.'}),"\n",(0,l.jsx)(n.li,{children:"The variants (accessible with a long press on a keycap) have been streamlined\nand extended."}),"\n",(0,l.jsx)(n.li,{children:"The virtual keyboard now also support pressing the Shift and Caps Lock key on\nthe physical keyboard."}),"\n",(0,l.jsxs)(n.li,{children:["Three new optional virtual keyboards have been added:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"minimalist"}),": a small keyboard with only two rows of keycaps containing\ndigits and basic operations."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"compact"}),": similar layout to ",(0,l.jsx)(n.code,{children:"minimalist"}),", but the keycaps include variants"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"numeric-only"}),": a keyboard with only digits, the decimal marker and the\nminus sign. To use them, use ",(0,l.jsx)(n.code,{children:'mathVirtualKeyboard.layouts = "minimalist"'})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Two new CSS variables have been added to control the layout of the virtual\nkeyboard:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--keycap-max-width"}),": define the maximum with of a keycap, including its\nmargin"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--keycap-gap"}),": define the space between keycaps"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.show()"})," function now has an optional argument to\nanimate or not the virtual keyboard. The default is to animate, as per\nprevious behavior."]}),"\n",(0,l.jsx)(n.li,{children:"When hiding then showing the virtual keyboard, the keyboard will restore the\npreviously selected keyboard layout."}),"\n",(0,l.jsxs)(n.li,{children:["If loading a web page with a mathfield from a ",(0,l.jsx)(n.code,{children:"file://"})," protocol, that is from\na local file, the keyboard will now work, as long as the mathfields are in the\nmain document, and not in another browsing context such as an iframe."]}),"\n",(0,l.jsx)(n.li,{children:"Architectural improvements: the virtual keyboard is now more efficient, uses\nfewer event handlers and a simplified and lighter weight DOM tree."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-35",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"On ChromeOS devices with a touch screen, long pressing a keycap in the virtual\nkeyboard no longer triggers the contextual menu."}),"\n",(0,l.jsx)(n.li,{children:"The variants keycap work on iOS devices"}),"\n",(0,l.jsx)(n.li,{children:"The keyboard is correctly offset from the bottom on iOS devices"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"09011-2023-03-31",children:["0.90.11 ",(0,l.jsx)(n.em,{children:"2023-03-31"})]}),(0,l.jsx)(n.h3,{id:"issues-resolveded",children:"Issues Resolveded"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The up and down arrow did not move the cursor, when in a fraction for example."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0909-2023-03-28",children:["0.90.9 ",(0,l.jsx)(n.em,{children:"2023-03-28"})]}),(0,l.jsx)(n.h3,{id:"issues-resolveded-1",children:"Issues Resolveded"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1890"})," Attempt to fix a remaining Typescript declaration issue when using\nMathLive without the Compute Engine"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0908-2023-03-27",children:["0.90.8 ",(0,l.jsx)(n.em,{children:"2023-03-27"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-36",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1830"}),' The keybinding to toggle text mode (alt+") could not be used on some\nkeyboard layouts. Added shift+alt+T as a keybinding to switch to text mode.']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1830"})," In some cases, the placeholder inside an inline shortcut would not\nget selected when inserted."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1890"})," The Typescript declaration files included references to non-public\nfiles. This has been fixed, and some test cases have been added to prevent\nthese errors in the future."]}),"\n",(0,l.jsx)(n.li,{children:"On iPadOS, making a vertical swipe motion on certain areas of the virtual\nkeyboard would result in a scrolling of the document."}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-25",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The default ",(0,l.jsx)(n.code,{children:"originValidator"})," policy which controls the messaging between a\nmathfield and the virtual keyboard is now ",(0,l.jsx)(n.code,{children:'"none"'})," by default. This provides\nno check or validation when sending messages between a main document and\nembedded iframes. To use the previous, more secure, policy, set the\n",(0,l.jsx)(n.code,{children:"originValidator"})," property of the ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard"})," and any mathfield to\n",(0,l.jsx)(n.code,{children:'"same-origin"'}),"."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0907-2023-03-24",children:["0.90.7 ",(0,l.jsx)(n.em,{children:"2023-03-24"})]}),(0,l.jsx)(n.h3,{id:"issues-resolveded-2",children:"Issues Resolveded"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1861"})," In Firefox, an apparently focused mathfield would not always accept\nkeyboard input."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0906-2023-03-23",children:["0.90.6 ",(0,l.jsx)(n.em,{children:"2023-03-23"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-37",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1881"}),", ",(0,l.jsx)(n.strong,{children:"#1883"})," Fixed issues with TypeScript declarations of public\ninterface"]}),"\n",(0,l.jsx)(n.li,{children:"In some cases a horizontal scrollbar would appear in the virtual keyboard"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1884"})," ",(0,l.jsx)(n.code,{children:"mf.setPromptValue()"})," could cause runtime errors"]}),"\n",(0,l.jsxs)(n.li,{children:["In some cases, using ",(0,l.jsx)(n.code,{children:"mf.insert()"})," to replace a selection would do nothing"]}),"\n",(0,l.jsxs)(n.li,{children:["Some mathfield properties (for example ",(0,l.jsx)(n.code,{children:"mf.macros"}),") were missing."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0900-2023-03-19",children:["0.90.0 ",(0,l.jsx)(n.em,{children:"2023-03-19"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-5",children:"Breaking Changes"}),(0,l.jsx)(n.p,{children:"This release contains several breaking changes. As much as possible I try to\navoid introducing breaking changes, but there was an accumulation of issues that\nrequired some breaking change and I figured I would introduce them all at once:"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"the use case where a page had several mathfields was not handled well. Several\nconfiguration options were effectively shared, yet each mathfield had its own\nidea of what the setting was. There were also several duplicate ways of\nconfiguring a mathfield, which was confusing."}),"\n",(0,l.jsx)(n.li,{children:"the virtual keyboard was awkward to use and configure with multiple\nmathfields. The virtual keyboard API was also attached to mathfield instances,\ninstead of the virtual keyboard being its own entity."}),"\n",(0,l.jsx)(n.li,{children:"Fill-in-the-blank is a popular feature, but its current implementation had\nsome limitations. Thanks to a contributed new implementation, those\nlimitations have been removed, and the API to handle fill-in-the-blank has\nbeen adjusted accordingly."}),"\n"]}),(0,l.jsx)(n.h4,{id:"fill-in-the-blank",children:"Fill-in-the-blank"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["New implementation of the ",(0,l.jsx)(n.code,{children:"\\placeholder{}"}),' command for "fill-in-the-blank"\nfeature. Thank you to James Mullen (',(0,l.jsx)(n.a,{href:"https://github.com/wildyellowfin",children:"https://github.com/wildyellowfin"}),") for this\ncontribution."]}),"\n",(0,l.jsx)(n.p,{children:'Previously, each placeholder was an embedded mathfield inside a "root"\nmathfield. The placeholders are now special editable regions of a read-only\nmathfield.'}),"\n",(0,l.jsxs)(n.p,{children:['This improves their layout (for example a placeholder numerator is now\ndisplayed at the correct size) and simplify their interaction. When used as a\n"fill-in-the-blank", set the mathfield to readonly, and specify an ID with the\nplaceholder, i.e. ',(0,l.jsx)(n.code,{children:"\\placeholder[id]{value}"}),'. In this situation these\nplaceholders are called "prompts".']}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mf.getPlaceholderField()"})," function has been replaced with\n",(0,l.jsx)(n.code,{children:"mf.getPromptValue()"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Use ",(0,l.jsx)(n.code,{children:"mf.setPromptValue()"})," to change the content of a prompt."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Use ",(0,l.jsx)(n.code,{children:"mf.getPrompts()"})," to get an array of the ids of all the prompts in the\nexpression."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Prompts can be either in a correct, incorrect or indeterminate state. In\ncorrect or incorrect state, their appearance changes to reflect their state.\nUse ",(0,l.jsx)(n.code,{children:"mf.setPromptState()"})," to flag a prompt as being correct or incorrect.\n",(0,l.jsx)(n.code,{children:"mf.setPromptState()"})," can also be used to mark a prompt as no longer being\neditable."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h4,{id:"virtual-keyboard",children:"Virtual Keyboard"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Previously the virtual keyboard was shared amongst mathfield instances if the\n",(0,l.jsx)(n.code,{children:"makeSharedVirtualKeyboard()"})," function was called or the\n",(0,l.jsx)(n.code,{children:"use-shared-virtual-keyboard"})," attribute was set on a mathfield. Otherwise a\nvirtual keyboard instance was created for each mathfield in the document."]}),"\n",(0,l.jsx)(n.p,{children:"The virtual keyboard is now always shared."}),"\n",(0,l.jsxs)(n.p,{children:["The virtual keyboard global instance can be accessed as\n",(0,l.jsx)(n.code,{children:"window.mathVirtualKeyboard"})," or just ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard"}),". Its value\nimplements ",(0,l.jsx)(n.code,{children:"VirtualKeyboardInterface"})," instance, same as was previously\nreturned by ",(0,l.jsx)(n.code,{children:"makeSharedVirtualKeyboard()"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The options related to the virtual keyboard should now be set on the global\nshared virtual keyboard, using ",(0,l.jsx)(n.code,{children:"window.mathVirtualKeyboard"})," instead of on\nmathfield instances."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The MathLive virtual keyboard API (offered by the ",(0,l.jsx)(n.code,{children:"window.mathVirtualKeyboard"}),"\nproperty) has changed to be consistent with the\n",(0,l.jsx)(n.a,{href:"https://www.w3.org/TR/virtual-keyboard/",children:"W3C Virtual Keyboard"})," API."]}),"\n",(0,l.jsxs)(n.p,{children:["This includes adding a ",(0,l.jsx)(n.code,{children:"show()"})," and ",(0,l.jsx)(n.code,{children:"hide()"})," functions, and a ",(0,l.jsx)(n.code,{children:"boundingRect"}),"\nproperty to ",(0,l.jsx)(n.code,{children:"VirtualKeyboardInterface"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["A ",(0,l.jsx)(n.code,{children:"geometrychange"})," event is dispatched when the size of the keyboard changes."]}),"\n",(0,l.jsxs)(n.p,{children:["In addition, the ",(0,l.jsx)(n.code,{children:"MathfieldElement.virtualKeyboardMode"})," property is now called\n",(0,l.jsx)(n.code,{children:"MathfieldElement.mathVirtualKeyboardPolicy"})," and can take a value of ",(0,l.jsx)(n.code,{children:'"auto"'}),"\nor ",(0,l.jsx)(n.code,{children:'"manual"'}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["A value of ",(0,l.jsx)(n.code,{children:'"manual"'})," corresponds to the previous ",(0,l.jsx)(n.code,{children:"virtualKeyboardMode"})," value\nof ",(0,l.jsx)(n.code,{children:'"off"'}),", that is the virtual keyboard is not displayed automatically and\nmust be displayed programmatically."]}),"\n",(0,l.jsxs)(n.p,{children:["The value ",(0,l.jsx)(n.code,{children:'"onfocus"'})," is no longer supported. To implement the behavior\npreviously provided by this value:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"mf.addEventListener('focusin', () => mathVirtualKeyboard.show());\n"})}),"\n",(0,l.jsxs)(n.p,{children:["If ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboardPolicy"})," is set to ",(0,l.jsx)(n.code,{children:'"auto"'})," the virtual keyboard is\ndisplayed automatically when a mathfield is focused on a touch-enabled device."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"The virtual keyboard customization API has been simplified."}),"\n"]}),"\n"]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Before:"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'const MINIMAL_LAYER = [\n  minimal: {\n    rows: [\n      [\n        {latex: "+"}, {latex: "-"}, {latex: "\\\\times"},\n        {latex: "\\\\frac{#@}{#?}"}, {latex: "="}, {latex: "."},\n        {latex: "("}, {latex: ")"}, {latex: "\\\\sqrt{#0}"},\n        {latex: "#@^{#?}"}\n      ],\n      [\n        {latex: "1"}, {latex: "2"}, {latex: "3"}, {latex: "4"},\n        {latex: "5"}, {latex: "6"}, {latex: "7"}, {latex: "8"},\n        {latex: "9"}, {latex: "0"},\n      ]\n    ]\n}];\n\nconst MINIMAL_KEYBOARD = {\n  \'minimal\': {\n    label: \'Minimal\',\n    layer: \'minimal\',\n  },\n};\n\nmf.setOptions({\n  customVirtualKeyboardLayers: MINIMAL_LAYER,\n  customVirtualKeyboards: MINIMAL_KEYBOARD,\n  virtualKeyboards: \'minimal\',\n});\n'})}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Now:"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"mathVirtualKeyboard.layouts = {\n  rows: [\n    [\n      '+',\n      '-',\n      '\\\\times',\n      '\\\\frac{#@}{#?}',\n      '=',\n      '.',\n      '(',\n      ')',\n      '\\\\sqrt{#0}',\n      '#@^{#?}',\n    ],\n    ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0'],\n  ],\n};\n"})}),(0,l.jsx)(n.p,{children:"To change the alphabetic layout:"}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Before:"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"mf.setOptions({ virtualKeyboardLayout: 'azerty' });\n"})}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Now:"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"mathVirtualKeyboard.alphabeticLayout = 'azerty';\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:'"roman"'})," virtual keyboard is now called ",(0,l.jsx)(n.code,{children:'"alphabetic"'})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"virtualKeyboardToolbar"})," option is now ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.actionToolbar"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"virtualKeyboardContainer"})," option is now ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.container"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"The virtual keyboard toggle glyph can no longer be customized."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"The virtual keyboard toggle button is displayed by default if the content of\nmathfield can be modified."}),"\n",(0,l.jsxs)(n.p,{children:["The display of the toggle button is independent of the\n",(0,l.jsx)(n.code,{children:"mathVirtualKeyboardPolicy"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["Using the ",(0,l.jsx)(n.code,{children:"math-field::part(virtual-keyboard-toggle)"})," CSS selector, a\n",(0,l.jsx)(n.code,{children:"display: none"})," CSS attribute can be used to hide the virtual keyboard toggle\nif desired. To replicate the previous default behavior, where the toggle was\ndisplayed on touch-enabled devices, use:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-css",children:"@media not (pointer: coarse) {\n  math-field::part(virtual-keyboard-toggle) {\n    display: none;\n  }\n}\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:['The "alt-keys" of the virtual keyboard are now called "variants". The\n',(0,l.jsx)(n.code,{children:"data-alt-keys"})," attribute is now ",(0,l.jsx)(n.code,{children:"data-variants"})]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h4,{id:"options",children:"Options"}),(0,l.jsxs)(n.p,{children:["Previously all the options to configure a mathfield could be changed using\n",(0,l.jsx)(n.code,{children:"mf.setOptions({...})"}),". Some of these options affected a specific mathfield\ninstance, while others affected all mathfields on the page."]}),(0,l.jsxs)(n.p,{children:["The options that affect all mathfields are now static properties of the\n",(0,l.jsx)(n.code,{children:"MathfieldElement"})," global. The options that affect the virtual keyboard are\nproperties of the ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard"})," global singleton. The options specific\nto a mathfield are now properties or attribute of this element."]}),(0,l.jsx)(n.p,{children:"For example:"}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Before:"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"mf.setOptions({ soundsDirectory: null });\n"})}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Now:"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"MathfieldElement.soundsDirectory = null;\n"})}),(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Before"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Now"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({defaultMode: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.defaultMode = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({letterShapeStyle: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.letterShapeStyle = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({horizontalSpacingScale: ...})"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["Removed. Use ",(0,l.jsx)(n.code,{children:'"thinmuskip"'}),", ",(0,l.jsx)(n.code,{children:'"medmuskip"'}),", and ",(0,l.jsx)(n.code,{children:'"thickmuskip"'})," registers ',"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({macros: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.macros = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({registers: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.registers = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({backgroundColorMap: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.backgroundColorMap = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({colorMap: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.colorMap = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({enablePopover: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.popoverPolicy = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({mathModeSpace: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.mathModeSpace = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({placeholderSymbol: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.placeholderSymbol = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({readOnly: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.readOnly = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({removeExtraneousParentheses: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.removeExtraneousParentheses = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({scriptDepth: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.scriptDepth = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({smartFence: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.smartFence = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({smartMode: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.smartMode = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({smartSuperscript: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.smartSuperscript = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({inlineShortcutTimeout: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.inlineShortcutTimeout = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({inlineShortcuts: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.inlineShortcuts = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({keybindings: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.keybindings = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({virtualKeyboardMode: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.mathVirtualKeyboardPolicy = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({customVirtualKeyboardLayers: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.layouts.layers = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({customVirtualKeyboards: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.layouts = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({keypressSound: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.keypressSound = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({keypressVibration: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.keypressVibration = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({plonkSound: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.plonkSound = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({virtualKeyboardContainer: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.container = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({virtualKeyboardLayout: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.alphabeticLayout = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({virtualKeyboardTheme: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"No longer supported"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({virtualKeyboardToggleGlyph: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"No longer supported"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({virtualKeyboardToolbar: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.actionToolbar = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({virtualKeyboards: ...})"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["Use ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.layouts"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({speechEngine: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.speechEngine"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({speechEngineRate: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.speechEngineRate"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({speechEngineVoice: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.speechEngineVoice"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({textToSpeechMarkup: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.textToSpeechMarkup"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({textToSpeechRules: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.textToSpeechRules"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({textToSpeechRulesOptions: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.textToSpeechRulesOptions"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({readAloudHook: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.readAloudHook"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({speakHook: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.speakHook"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({computeEngine: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.computeEngine"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({fontsDirectory: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.fontsDirectory"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({soundsDirectory: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.soundsDirectory"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({createHTML: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.createHTML"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({onExport: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.onExport"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({onInlineShortcut: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.onInlineShortcut"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({locale: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.locale = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({strings: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.strings = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({decimalSeparator: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.decimalSeparator = ..."})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.setOptions({fractionNavigationOrder: ...})"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathfieldElement.fractionNavigationOrder = ..."})})]})]})]}),(0,l.jsx)(n.h4,{id:"miscellaneous-breaking-changes",children:"Miscellaneous Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["For consistency with ",(0,l.jsx)(n.code,{children:"<textarea>"})," the ",(0,l.jsx)(n.code,{children:"<math-field>"}),' tag now has a default\ndisplay style of "inline". You can change the display style to "block" using a\nCSS rule.']}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"<math-field>"})," tag now has some default styling, including a background\nand border, consistent with a ",(0,l.jsx)(n.code,{children:"<textarea>"})," element. You can override this\nstyling by defining CSS rules for the ",(0,l.jsx)(n.code,{children:"math-field"})," selector."]}),"\n",(0,l.jsxs)(n.li,{children:["The previously deprecated option ",(0,l.jsx)(n.code,{children:"horizontalSpacingScale"}),"has been removed. It\nis replaced by the standard TeX registers",(0,l.jsx)(n.code,{children:"\\thinmuskip"}),", ",(0,l.jsx)(n.code,{children:"\\medmuskip"})," and\n",(0,l.jsx)(n.code,{children:"\\thickmuskip"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["It was previously possible to specify a set of options for a mathfield as a\n",(0,l.jsx)(n.code,{children:"<script>"})," tag inside the mathfield, as JSON data structure. This is no longer\nsupported."]}),"\n",(0,l.jsxs)(n.li,{children:["It was previously possible to supply a custom style sheet to be applied inside\nthe shadow DOM by using a ",(0,l.jsx)(n.code,{children:"<style>"})," tag inside the mathfield. This is no\nlonger supported. Use custom CSS variables or ",(0,l.jsx)(n.code,{children:"part"})," selectors to apply custom\nstyling to the mathfield."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-26",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1854"})," Attempt to solve multiple reading of field content by screen readers\non focus"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1855"})," Updated support for more recent versions of SRE (Speech Rule Engine)"]}),"\n",(0,l.jsx)(n.li,{children:"Improved interaction with some screen readers"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#843"}),", ",(0,l.jsx)(n.strong,{children:"#1845"})," Smarter smart-fence: fewer fence combinations are now\nvalid, resulting in more correct results"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1859"})," In math mode, after pressing the SPACE key, the variant style\n(upright, italic, etc...) from neighboring atoms is not adopted by subsequent\ncharacters."]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"disabled"})," and ",(0,l.jsx)(n.code,{children:"readonly"})," attributes and the ",(0,l.jsx)(n.code,{children:"user-select"})," CSS property\nare now consistent with ",(0,l.jsx)(n.code,{children:"<textarea>"}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["a ",(0,l.jsx)(n.code,{children:"readonly"})," mathfield is still focusable"]}),"\n",(0,l.jsxs)(n.li,{children:["a ",(0,l.jsx)(n.code,{children:"disabled"})," mathfield is not focusable"]}),"\n",(0,l.jsxs)(n.li,{children:["The content of a ",(0,l.jsx)(n.code,{children:"readonly"})," or ",(0,l.jsx)(n.code,{children:"disabled"})," mathfield can be selected, unless\nthe ",(0,l.jsx)(n.code,{children:"contenteditable"})," attribute is set to ",(0,l.jsx)(n.code,{children:'"false"'})," and the ",(0,l.jsx)(n.code,{children:"user-select"}),"\nCSS property is set to ",(0,l.jsx)(n.code,{children:'"none"'}),". (fixes ",(0,l.jsx)(n.strong,{children:"#1136"}),")"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["A mathfield can be used inline, for example inside a ",(0,l.jsx)(n.code,{children:"<p>"})," element."]}),"\n",(0,l.jsxs)(n.li,{children:["For consistency with a ",(0,l.jsx)(n.code,{children:"<textarea>"}),", ",(0,l.jsx)(n.code,{children:"click"})," events are not dispatched when a\ndisabled ",(0,l.jsx)(n.code,{children:"<math-element>"})," is clicked."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1722"})," The theme applied to the keyboard can be set programmatically by\napply a ",(0,l.jsx)(n.code,{children:"theme"})," attribute to the container of the keyboard, for example\n",(0,l.jsx)(n.code,{children:'<body theme="dark">'})," or ",(0,l.jsx)(n.code,{children:'<body theme="light">'}),"."]}),"\n",(0,l.jsx)(n.li,{children:"When a mathfield contains placeholders (or prompts), tabbing at the last\nplaceholder will move to the next focusable element on the page (previously,\nit would circularly stay inside the current mathfield, with no possibility of\nescape)."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-38",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1850"})," When multiple ",(0,l.jsx)(n.code,{children:"\\char"})," commands were in an expression, they would all\nhave the same argument when serialized"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1691"})," Inserting a left parenthesis to the left of a right parenthesis\ncaused the expression to be incorrectly balanced"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1858"})," The spoken representation of the ",(0,l.jsx)(n.code,{children:"\\pm"})," command was incorrect"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1856"})," Displaying the virtual keyboard in a custom container was broken"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1877"})," Setting options on read-only field was not working"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1771"})," Incorrect layout of fill-in-the-blank"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1770"})," ",(0,l.jsx)(n.code,{children:"mf.setValue()"})," did not affect fill-in-the-blank sections"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1736"})," Layout issues with fill-in-the-blank"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1048"})," Virtual keyboard inside a custom container is now displayed\ncorrectly."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0894-2023-02-27",children:["0.89.4 ",(0,l.jsx)(n.em,{children:"2023-02-27"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-39",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Fix an issue where the virtual keyboard would not activate when not using a\nshared virtual keyboard."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0893-2023-02-27",children:["0.89.3 ",(0,l.jsx)(n.em,{children:"2023-02-27"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-40",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1723"})," The Ctrl-X/C/V keyboard shortcuts did not trigger when using a\ntouch-capable device with a physical keyboard connected."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1834"}),' On Windows, using Firefox with the Swedish keyboard layout, pressing\nthe "\xa8" or "`" key resulted in a runtime error.']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1684"})," The visual state of the Undo button in the virtual keyboard is now\ncorrect"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-27",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Improved layout for the virtual keyboard: automatically increase the size of\nthe keycaps when possible, better adapt to various device layouts."}),"\n",(0,l.jsx)(n.li,{children:"When selecting an expression on iPadOS, do not display the OS selection UI"}),"\n",(0,l.jsx)(n.li,{children:"On iPadOS, account for the safe area at the bottom of the screen when\ndisplaying the virtual keyboard."}),"\n",(0,l.jsx)(n.li,{children:"Added Cut and Copy commands in the virtual keyboard default action toolbar"}),"\n",(0,l.jsxs)(n.li,{children:["Changed the implementation of the physical keyboard event handling. The same\nimplementation is now used for touch-enabled and non-touch-enabled devices.\nInstead of an invisible ",(0,l.jsx)(n.code,{children:"<textarea>"}),", the keyboard events are now captured by\na content editable ",(0,l.jsx)(n.code,{children:"<span>"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"More accurately position the accessory windows of IMEs during composition"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1843"})," Work around a WebKit/Safari bug by replicating the ",(0,l.jsx)(n.code,{children:"inputType"}),"\nproperty as the ",(0,l.jsx)(n.code,{children:"data"})," property of ",(0,l.jsx)(n.code,{children:'"input"'})," and ",(0,l.jsx)(n.code,{children:'"beforeinput"'})," events.\nWebKit/Safari erroneously strip the ",(0,l.jsx)(n.code,{children:"inputType"})," property."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0892-2023-02-17",children:["0.89.2 ",(0,l.jsx)(n.em,{children:"2023-02-17"})]}),(0,l.jsx)(n.h3,{id:"improvements-28",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1833"})," MathLive 0.87.0 dropped support for UMD. It turns out, there are\nsome use cases that still require it, sadly. This release should restore the\nUMD support.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["As background for this, there are many ways to package a JavaScript library\nso it can be used in different contexts. The modern packaging supported by\nboth the browsers and Node ecosystem is the JavaScript module. Files in the\n",(0,l.jsx)(n.code,{children:"/dist"})," directory with a ",(0,l.jsx)(n.code,{children:".mjs"})," extension are packaged as modules and can be\nused with a JavaScript ",(0,l.jsx)(n.code,{children:"import"})," statement or a ",(0,l.jsx)(n.code,{children:"<script type=module>"})," tag."]}),"\n",(0,l.jsxs)(n.li,{children:["The files with a ",(0,l.jsx)(n.code,{children:".js"})," extension are packaged to be used with a regular\n",(0,l.jsx)(n.code,{children:"<script>"})," tag (no ",(0,l.jsx)(n.code,{children:"type=module"}),"). This format is called IIFE and declares a\n",(0,l.jsx)(n.code,{children:"MathLive"})," global variable from which the MathLive API can be accessed."]}),"\n",(0,l.jsxs)(n.li,{children:["Another convention was in use before the universal support for JavaScript\nmodules, which used a ",(0,l.jsx)(n.code,{children:"require()"})," API. This was implemented in Node, but\nalso supported by some toolchains, such as WebPack. Unfortunately, some of\nthose older toolchains are still in use and difficult to move away from. In\norder to support ",(0,l.jsx)(n.code,{children:"require()"})," the library needs to be packaged using the UMD\nformat. The UMD format is not supported by modern bundling tools, such as\n",(0,l.jsx)(n.code,{children:"esbuild"}),", which is what MathLive uses since 0.87.0. In this release, the\nsupport for UMD is re-introduced by implementing it manually in MathLive,\nrather than relying on the bundler."]}),"\n"]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0890-2023-02-12",children:["0.89.0 ",(0,l.jsx)(n.em,{children:"2023-02-12"})]}),(0,l.jsx)(n.h3,{id:"improvements-29",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1150"})," Deleting the empty numerator or denominator of a fraction now\nbehaves more intuitively. The behavior now matches the Desmos graphing\ncalculator."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1806"})," Support for speaking matrices and other LaTeX environments.\nContribution from @androettop. Thanks, Pablo!"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-41",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1802"})," MathML markup for expressions like ",(0,l.jsx)(n.code,{children:"a(b)^2"})," was invalid."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0871-2023-01-26",children:["0.87.1 ",(0,l.jsx)(n.em,{children:"2023-01-26"})]}),(0,l.jsx)(n.h3,{id:"improvements-30",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Better MathML serialization of ",(0,l.jsx)(n.code,{children:"\\operatorname{}"})," and ",(0,l.jsx)(n.code,{children:"\\mathrm{}"})]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-42",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1772"})," Typing ",(0,l.jsx)(n.code,{children:"/"})," after ",(0,l.jsx)(n.code,{children:"f(x)"})," will now consider ",(0,l.jsx)(n.code,{children:"f(x)"})," as the numerator,\ninstead of ",(0,l.jsx)(n.code,{children:"(x)"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1797"})," The result type of ",(0,l.jsx)(n.code,{children:"makeSharedVirtualKeyboard()"})," was incorrectly\nspecified as a private type."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1798"})," Using a keyboard shortcut with the ",(0,l.jsx)(n.code,{children:"control"})," or ",(0,l.jsx)(n.code,{children:"command"})," key would\nnot reset the inline keystroke buffer. As a result, typing ",(0,l.jsx)(n.code,{children:"s"})," + ",(0,l.jsx)(n.code,{children:"i"})," +\n",(0,l.jsx)(n.code,{children:"ctrl"}),"-",(0,l.jsx)(n.code,{children:"6"})," + ",(0,l.jsx)(n.code,{children:"n"})," would yield ",(0,l.jsx)(n.code,{children:"\\sin"})," instead of ",(0,l.jsx)(n.code,{children:"\\si^n"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1799"})," Better fix for ",(0,l.jsx)(n.strong,{children:"#1795"}),". Deleting numerator or denominator of a\nfraction would no longer collapse the fraction."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1800"})," More closely matches the behavior of the ",(0,l.jsx)(n.code,{children:"textarea"})," element. Only\ndispatch an ",(0,l.jsx)(n.code,{children:'"input"'})," event with an ",(0,l.jsx)(n.code,{children:"inputType"})," of ",(0,l.jsx)(n.code,{children:'"insertLineBreak"'})," when\nthe user pressed the ",(0,l.jsx)(n.strong,{children:"RETURN"})," or ",(0,l.jsx)(n.strong,{children:"ENTER"})," key. Also dispatch a ",(0,l.jsx)(n.code,{children:"focusin"}),"\nand ",(0,l.jsx)(n.code,{children:"focusout"})," event when applicable."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0870-2023-01-20",children:["0.87.0 ",(0,l.jsx)(n.em,{children:"2023-01-20"})]}),(0,l.jsx)(n.h3,{id:"improvements-31",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Removed dependency on ",(0,l.jsx)(n.code,{children:"jsdom"})," for server-side rendering."]}),"\n",(0,l.jsxs)(n.li,{children:["Switched bundler from ",(0,l.jsx)(n.code,{children:"rollup"})," to ",(0,l.jsx)(n.code,{children:"esbuild"})]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-43",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1795"})," Deleting forward when there is nothing to delete was throwing an\nexception (introduced in 0.86.1)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1763"}),' The "plonk" sound and other accessibility announcements were not\ndispatched. Also, sounds were not audible the first time they were played.']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1762"})," The ",(0,l.jsx)(n.code,{children:"\\smallint"})," command was erroneously displayed as an extensible\nsymbol"]}),"\n",(0,l.jsx)(n.li,{children:"The MathML serialization for superscripts and subscripts was invalid in some\ncases."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0861-2023-01-18",children:["0.86.1 ",(0,l.jsx)(n.em,{children:"2023-01-18"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-44",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1773"}),", ",(0,l.jsx)(n.strong,{children:"#1542"}),": better handling of interaction with the virtual keyboard\non touch-based devices (always use PointerEvents to handle interaction with\nkeycaps)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1035"})," Removing the last mathfield element from a page could result in math\ncontent rendered with ",(0,l.jsx)(n.code,{children:"renderMathInElement()"})," to no longer be rendered\ncorrectly (the necessary stylesheet was erroneously removed)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1791"}),' The "aside" labels in the virtual keyboard were barely visible in\ndark mode.']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1726"})," Deleting the last element of a fraction also deletes the fraction"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1764"})," The MathML serialization for superscripts and subscripts was\ninvalid."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1790"})," Annotations from the ",(0,l.jsx)(n.code,{children:"\\enclose"})," command could not be displayed in\nsome cases if the ",(0,l.jsx)(n.code,{children:"z-index"})," of the expression they decorated had certain\nvalues."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0860-2022-12-02",children:["0.86.0 ",(0,l.jsx)(n.em,{children:"2022-12-02"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-6",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The Compute Engine has been split from MathLive to reduce the package size and\nimprove the TTI (Time To Interactive) metric. The Compute Engine now needs to\nbe loaded separately:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import 'https://unpkg.com/@cortex-js/compute-engine@latest/dist/compute-engine.min.esm.js';\n"})}),(0,l.jsx)(n.p,{children:"or"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import { ComputeEngine } from 'https://unpkg.com/@cortex-js/compute-engine@latest/dist/compute-engine.min.esm.js';\n"})}),(0,l.jsxs)(n.p,{children:["to create custom Compute Engine instances, which can then be associated with a\nmathfield using ",(0,l.jsx)(n.code,{children:"mf.setOptions({computeEngine: ce})"})," or ",(0,l.jsx)(n.code,{children:"mf.computeEngine = ce"}),"."]}),(0,l.jsxs)(n.p,{children:["If the Compute Engine library is not loaded, some functionality of the mathfield\nwill not be available: ",(0,l.jsx)(n.code,{children:"mf.expression"})," will always return ",(0,l.jsx)(n.code,{children:"null"})," and cannot be\nused to change the content of the mathfield, and ",(0,l.jsx)(n.code,{children:"math-json"})," is not available as\na format on the clipboard,"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-45",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The vertical placement of the superscript after a ",(0,l.jsx)(n.code,{children:"\\left...\\right"})," command was\nincorrect."]}),"\n",(0,l.jsx)(n.li,{children:"Extensible arrows with superscript or subscript would not serialize the\nsuperscript/subscript."}),"\n",(0,l.jsx)(n.li,{children:'The fraction line and surd line would not be visible when printing with the\n"Don\'t show image background" option in the print dialog.'}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:'"placeholder-change"'})," event was not dispatched."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-32",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Tweaked the layout of the symbols virtual keyboard to make regular arrows the\ndefault, rather than extensible arrows."}),"\n",(0,l.jsx)(n.li,{children:"Fill-in-the-blank (placeholder) nested mathfields now line up with the\nbaseline. They also inherit the font-size of their parent container."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0851-2022-11-18",children:["0.85.1 ",(0,l.jsx)(n.em,{children:"2022-11-18"})]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Updated to Compute Engine 0.11.0"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0850-2022-11-15",children:["0.85.0 ",(0,l.jsx)(n.em,{children:"2022-11-15"})]}),(0,l.jsx)(n.h3,{id:"new-features-8",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added support for ",(0,l.jsx)(n.code,{children:"\\mathtip{math}{tip}"})," and ",(0,l.jsx)(n.code,{children:"\\texttip{math}{tip}"})," commands.\nThese commands are also supported by MathJax."]}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"options.enablePopover"})," option which can be set to ",(0,l.jsx)(n.code,{children:"false"})," to prevent\nthe auto-complete popover from being displayed."]}),"\n",(0,l.jsx)(n.li,{children:"Changed the layout of the popover to display multiple options at once"}),"\n",(0,l.jsxs)(n.li,{children:["Added the ",(0,l.jsx)(n.code,{children:"\\error{}"})," command which displays its content with a red underline."]}),"\n",(0,l.jsxs)(n.li,{children:["A specific Compute Engine instance can be associated with a mathfield using\n",(0,l.jsx)(n.code,{children:"mf.computeEngine = ce"}),". If none is provided, a default Compute Engine\ninstance is created when necessary. Setting the property to ",(0,l.jsx)(n.code,{children:"null"})," will\nprevent the Compute Engine from being used, but the MathJSON format will not\nbe available."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-33",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Audio feedback is now using the Web Audio API. Previously, audio feedback was\nprovided using an ",(0,l.jsx)(n.code,{children:"Audio"})," element, but browsers have limitations to the number\nof ",(0,l.jsx)(n.code,{children:"Audio"})," elements which can be instantiated in a page at a time, and this\nlimit is reached surprisingly quickly wiht multiple mathfields on a page."]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"window.mathlive"})," global is now ",(0,l.jsx)(n.code,{children:'globalThis[Symbol.for("mathlive")]'}),". This\nis mostly used internally for coordination between mathfields in the same\ncontext but it also includes the ",(0,l.jsx)(n.code,{children:"version"})," property which may be of use for\ndebugging or to report issues."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-46",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1715"}),", ",(0,l.jsx)(n.strong,{children:"#1716"}),": fill-in-the-blank placeholders inside a ",(0,l.jsx)(n.code,{children:"<math-field>"}),"\ndid not inherit the options from their parent container."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0840-2022-10-19",children:["0.84.0 ",(0,l.jsx)(n.em,{children:"2022-10-19"})]}),(0,l.jsx)(n.h3,{id:"new-features-9",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["When using ",(0,l.jsx)(n.code,{children:"renderMathInElement"})," or ",(0,l.jsx)(n.code,{children:"renderMathInDocument"})," to render math\ncontent, the math content can now be provided as MathJSON in addition to LaTeX\nby using a ",(0,l.jsx)(n.code,{children:"<script>"})," tag with a type of ",(0,l.jsx)(n.code,{children:"math/json"}),"."]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<script type="math/json">\n  ["Cos", ["Divide", "Pi", 7]]\n<\/script>\n'})}),(0,l.jsx)(n.h3,{id:"improvements-34",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"MathfieldElement"})," now has a setter for ",(0,l.jsx)(n.code,{children:"expression"}),", which allows to set\nthe value of a mathfield to a MathJSON expression."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-47",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1669"})," Don't attempt to get the local URL base when using absolute URLs.\nAllow ",(0,l.jsx)(n.code,{children:"null"})," as a value for ",(0,l.jsx)(n.code,{children:"fontsDirectory"})," and ",(0,l.jsx)(n.code,{children:"soundDirectory"})," to prevent\nany attempt to resolve these values."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0830-2022-10-02",children:["0.83.0 ",(0,l.jsx)(n.em,{children:"2022-10-02"})]}),(0,l.jsx)(n.h3,{id:"improvements-35",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"When navigating with the keyboard from a numerator to a denominator (or any\nabove/below branch), determine the new position of the caret visually, rather\nthan by its index in the subexpression. Contributed by @manstie"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Commands and key bindings to manipulate array/matrix:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Key Binding"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Command"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)("kbd",{children:"ctrl/\u2318"}),"+",(0,l.jsx)("kbd",{children:";"}),(0,l.jsx)("br",{}),(0,l.jsx)("kbd",{children:"ctrl/\u2318"}),"+",(0,l.jsx)("kbd",{children:"RETURN"})]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"addRowAfter"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)("kbd",{children:"ctrl/\u2318"}),"+",(0,l.jsx)("kbd",{children:"shift"}),"+",(0,l.jsx)("kbd",{children:";"})]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"addRowBefore"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)("kbd",{children:"ctrl/\u2318"}),"+",(0,l.jsx)("kbd",{children:","})]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"addColumnAfter"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)("kbd",{children:"ctrl/\u2318"}),"+",(0,l.jsx)("kbd",{children:"shift"}),"+",(0,l.jsx)("kbd",{children:","})]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"addColumnBefore"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)("kbd",{children:"ctrl/\u2318"}),"+",(0,l.jsx)("kbd",{children:(0,l.jsx)(n.strong,{children:"BACKSPACE"})})]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"removeRow"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)("kbd",{children:"shift"}),"+",(0,l.jsx)("kbd",{children:(0,l.jsx)(n.strong,{children:"BACKSPACE"})})]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"removeColumn"})})]})]})]}),"\n",(0,l.jsx)(n.p,{children:"Contributed by @manstie"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Updated to Compute Engine 0.8"}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-48",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The caret after an environment without fences (e.g. ",(0,l.jsx)(n.code,{children:"matrix"}),", ",(0,l.jsx)(n.code,{children:"aligned"}),", etc)\nwould not be displayed."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0820-2022-09-30",children:["0.82.0 ",(0,l.jsx)(n.em,{children:"2022-09-30"})]}),(0,l.jsx)(n.h3,{id:"improvements-36",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Update Compute Engine to 0.7.0"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0810-2022-09-28",children:["0.81.0 ",(0,l.jsx)(n.em,{children:"2022-09-28"})]}),(0,l.jsx)(n.h3,{id:"improvements-37",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1639"})," When navigating with the keyboard from a cell in a matrix to another\ncell above or below, the new position of the caret is determined visually so\nthat the caret is approximately in the same horizontal position. Previously,\nthe position was determined by position/index. Contributed by @manstie. Thank\nyou!"]}),"\n",(0,l.jsxs)(n.li,{children:["Expose the ",(0,l.jsx)(n.code,{children:"placeholders"})," property on ",(0,l.jsx)(n.code,{children:"MathfieldElement"}),' to get access to the\n"fill-in-the-blank" mathfields, i.e.\n',(0,l.jsx)(n.code,{children:"<math-field readonly>f(x)=\\placeholder[var1]{x}</math-field>"})]}),"\n",(0,l.jsxs)(n.li,{children:["Don't apply smart superscript on big operators (e.g. ",(0,l.jsx)(n.code,{children:"\\sum"}),"). Smart\nsuperscript moves immediately out of the superscript if the input is a single\ndigit. Works well for, e.g. ",(0,l.jsx)(n.code,{children:"x^2"})," but is less desirable with ",(0,l.jsx)(n.code,{children:"\\sum"}),"."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0800-2022-09-27",children:["0.80.0 ",(0,l.jsx)(n.em,{children:"2022-09-27"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-49",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1540"})," When changing the ",(0,l.jsx)(n.code,{children:"readonly"})," or ",(0,l.jsx)(n.code,{children:"disabled"})," attribute of a mathfield,\nhide the virtual keyboard if the mathfield had the focus."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1641"})," A read-only mathfield would still accept inline shortcuts."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1618"})," In some cases, on touch-capable devices the OS virtual keyboard\nwould be displayed instead of the virtual keyboard."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1620"})," On devices with a touch screen and a physical keyboard (Lenovo Yoga,\nChromebooks), pressing the ",(0,l.jsx)(n.strong,{children:"Enter"})," key would input the string ",(0,l.jsx)(n.code,{children:"Enter"})," into\nthe mathfield."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1631"})," Hit-testing detection improvements"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1640"})," An ",(0,l.jsx)(n.code,{children:"input"})," event was dispatched when the value of the mathfield was\nchanged programatically."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1330"})," Make MathLive ",(0,l.jsx)(n.code,{children:"convertLatexToMarkup()"})," usable from Node.js"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1641"})," Correctly render units in a chemical equation, e.g.\n",(0,l.jsx)(n.code,{children:"\\pu{123 kJ//mol}"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1643"})," Physical units with multiplication are now rendered correctly, e.g.\n",(0,l.jsx)(n.code,{children:"\\pu{123 J*s}"}),"."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-10",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1541"})," To be notified when the visibility of the virtual keyboard changes\nand using ",(0,l.jsx)(n.code,{children:"makeSharedVirtualKeyboard()"}),", listen for the\n",(0,l.jsx)(n.code,{children:"virtual-keyboard-toggle"})," on the object returned by\n",(0,l.jsx)(n.code,{children:"makeSharedVirtualKeyboard()"}),":"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"const k = makeSharedVirtualKeyboard();\nk.addEventListener('virtual-keyboard-toggle', (ev) =>\n  console.log('toggling ', ev)\n);\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"math-mode"})," event is now cancelable (by calling ",(0,l.jsx)(n.code,{children:".preventDefault()"})," on the\nevent). This can be used for example to turn off the ability to switch to the\nLaTeX editing mode:"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"// Prevent change to LaTeX (or text) mode\nmf.addEventListener('mode-change', (ev) => ev.preventDefault(), {\n  capture: true,\n});\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The command ",(0,l.jsx)(n.code,{children:"plonk"})," was added. It plays a sound indicating an error, and can\nassociated with a keybinding, or triggered with ",(0,l.jsx)(n.code,{children:"mf.executeCommand()"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["To determine the offset (caret position) in a mathfield given a viewport\ncoordinate, use ",(0,l.jsx)(n.code,{children:"mf.offsetFromPoint()"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1641"})," Support for the ",(0,l.jsx)(n.code,{children:"\\mathchoice"})," command."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1643"})," Support for the ",(0,l.jsx)(n.code,{children:"\\kern"}),", ",(0,l.jsx)(n.code,{children:"\\mkern"})," and ",(0,l.jsx)(n.code,{children:"\\mspace"})," command."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0790-2022-09-06",children:["0.79.0 ",(0,l.jsx)(n.em,{children:"2022-09-06"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-7",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"onMulticharSymbol"})," handler has been renamed to ",(0,l.jsx)(n.code,{children:"onInlineShortcut"})]}),"\n",(0,l.jsxs)(n.li,{children:["The deprecated ",(0,l.jsx)(n.code,{children:"modelHooks"})," have been removed. Use the corresponding events\ninstead: ",(0,l.jsx)(n.code,{children:"move-out"}),", ",(0,l.jsx)(n.code,{children:"focus-out"}),", ",(0,l.jsx)(n.code,{children:"announce"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"onModeChange"}),", ",(0,l.jsx)(n.code,{children:"onReadAloudStatusChange"}),", ",(0,l.jsx)(n.code,{children:"onBlur"}),", ",(0,l.jsx)(n.code,{children:"onFocus"}),",\n",(0,l.jsx)(n.code,{children:"onContentWillChange"}),", ",(0,l.jsx)(n.code,{children:"onContentDidChange"}),", ",(0,l.jsx)(n.code,{children:"onSelectionDidChange"}),",\n",(0,l.jsx)(n.code,{children:"onUndoStateWillChange"}),", ",(0,l.jsx)(n.code,{children:"onUndoStateDidChange"})," and ",(0,l.jsx)(n.code,{children:"onCommit"})," deprecated\nlisteners have been removed. Used the corresponding events ",(0,l.jsx)(n.code,{children:"mode-change"}),",\n",(0,l.jsx)(n.code,{children:"read-aloud-status-change"}),", ",(0,l.jsx)(n.code,{children:"blur"}),", ",(0,l.jsx)(n.code,{children:"focus"}),", ",(0,l.jsx)(n.code,{children:"beforeinput"}),", ",(0,l.jsx)(n.code,{children:"input"}),",\n",(0,l.jsx)(n.code,{children:"selection-change"}),", ",(0,l.jsx)(n.code,{children:"undo-state-change"})," and ",(0,l.jsx)(n.code,{children:"change"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"onKeystroke"})," handler has been removed. Instead use\n",(0,l.jsx)(n.code,{children:'mf.addEventListener("keydown",...)'})]}),"\n",(0,l.jsxs)(n.li,{children:["Improved editing of left-right delimiters:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"keep leftright atom if only one of its delimiters is removed"}),"\n",(0,l.jsx)(n.li,{children:"only hoist body if both delimiters are removed"}),"\n"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-38",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["More inline shortcut patterns are now recognized, which can be useful for more\ncomplex multicharacter symbols, e.g. ",(0,l.jsx)(n.code,{children:"alpha2"})," -> ",(0,l.jsx)(n.code,{children:"\\alpha_{2}"})]}),"\n",(0,l.jsx)(n.li,{children:"Pressing the space bar will flush the inline shortcut buffer, allowing the\ninput of a key combination that would otherwise trigger a shortcut"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1584"})," Pressing the spacebar when at the root level now does nothing.\nPreviously it would jump at the end of the expression, which wasn't very\nuseful and potentially confusing."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1585"})," In some situations, improve the accuracy of the hit testing"]}),"\n",(0,l.jsx)(n.li,{children:"Upconvert unicode characters to corresponding LaTeX command when available"}),"\n",(0,l.jsx)(n.li,{children:"When a scaling factor is applied to the mathfield or one of its DOM ancestors,\ncorrectly scale the selection background accordingly"}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-50",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1042"})," Spacing atoms (e.g. ",(0,l.jsx)(n.code,{children:"\\;"}),") are now clickable and selectable"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1590"})," Improved selection of content inside tabular environments (matrix,\netc...)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1591"})," Improved cursor order when deleting values in fraction when\n",(0,l.jsx)(n.code,{children:"fractionNavigationOrder"})," mode is ",(0,l.jsx)(n.code,{children:"denominator-numerator"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1592"})," When applying color to some math content, the command ",(0,l.jsx)(n.code,{children:"\\mathcolor"}),"\nwould be serialized. The correct command is ",(0,l.jsx)(n.code,{children:"\\textcolor"})," which despite its\nname is also applicable in math mode."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1605"})," In some cases, clicking on the space between two atoms would not\nposition the caret."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0782-2022-08-18",children:["0.78.2 ",(0,l.jsx)(n.em,{children:"2022-08-18"})]}),(0,l.jsx)(n.h3,{id:"features",children:"Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1580"})," Added support for infix commands ",(0,l.jsx)(n.code,{children:"\\brace"})," and ",(0,l.jsx)(n.code,{children:"\\brack"}),". These\ncommands are provided for improved compatibility with existing LaTeX content,\nbut in general infix commands are not recommended to create new content."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolveded-3",children:"Issues Resolveded"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#1583"})," Changing the focus programatically could result in subsequent\nkeyboard input being incorrect"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#1581"})," Added padding to labels below and above extensible arrows (e.g.\n",(0,l.jsx)(n.code,{children:"\\xrightarrow"}),")"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"\\ce"})," command would not render chemical equations (regression)."]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0781-2022-08-12",children:["0.78.1 ",(0,l.jsx)(n.em,{children:"2022-08-12"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-51",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#1570"})," Multichar symbols (using ",(0,l.jsx)(n.code,{children:"onMulticharSymbol"}),") would not always be\nrecognized, for example when following a binary operator."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#1576"}),' regression in 0.78.0: crash when entering Unicode characters with no\nspecial mapping, e.g. "\xb0".']}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0780-2022-08-11",children:["0.78.0 ",(0,l.jsx)(n.em,{children:"2022-08-11"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-8",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"The way errors are reported has changed."})}),"\n",(0,l.jsxs)(n.p,{children:["Previously a ",(0,l.jsx)(n.code,{children:"math-error"})," event would be dispatched (or the ",(0,l.jsx)(n.code,{children:"onError"})," listener\nwould be invoked). This made it difficult to find out when an error no longer\napplied."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"font-not-found"}),": If the fonts fail to load, a class of\n",(0,l.jsx)(n.code,{children:"ML__fonts-did-not-load"})," is added to the document's body."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"invalid-keybinding"}),": A message is output to the console if a keybinding\nincludes a combination of keys which cannot be performed with the current\nkeyboard layout"]}),"\n",(0,l.jsxs)(n.li,{children:["Other errors are LaTeX syntax errors in the value of the mathfield. There\ncan be more than one such error in a given mathfield. These errors are\nreported as ",(0,l.jsx)(n.code,{children:"mf.errors"}),", an array of ",(0,l.jsx)(n.code,{children:"LatexSyntaxError"}),". This property can\nbe consulted for example during the handler for a ",(0,l.jsx)(n.code,{children:"change"})," event."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Inline shortcuts now only apply in math mode. The ",(0,l.jsx)(n.code,{children:"mode"})," property of\n",(0,l.jsx)(n.code,{children:"InlineShortcutDefinition"})," has been removed."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-39",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Internal: introduction of ",(0,l.jsx)(n.code,{children:"GlobalContext"})," to encapsulate information necessary\nto parse and render: macro definitions, registers, definition of commands and\nsome optional settings. A mathfield is a ",(0,l.jsx)(n.code,{children:"GlobalContext"}),", but it is also used\nwhen rendering static LaTeX."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The symbol used to indicate a placeholder (i.e. ",(0,l.jsx)(n.code,{children:"\\placeholder{}"}),") can now be\ncustomized with ",(0,l.jsx)(n.code,{children:"mf.setOptions({ placeholderSymbol: '?' })"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"Some symbols that work pretty well:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u25a0 ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"U+25A0"})})," ",(0,l.jsx)(n.code,{children:"BLACK SQUARE"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u25a2 ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"U+25A2"})})," ",(0,l.jsx)(n.code,{children:"WHITE SQUARE WITH ROUNDED CORNERS"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u2b1a ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"U+2B1A"})})," ",(0,l.jsx)(n.code,{children:"DOTTED SQUARE"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"The following CSS variables can be used to control the appearance of the\nselection:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--selection-background-color-focused"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--selection-background-color"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--selection-color-focused"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--selection-color"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--caret-color"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Spacing commands (e.g. ",(0,l.jsx)(n.code,{children:"\\,"}),") now serialize a space when using the ",(0,l.jsx)(n.code,{children:"ascii-math"}),"\nformat"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#1572"})," Keyboard events (",(0,l.jsx)(n.code,{children:"keyup"}),", ",(0,l.jsx)(n.code,{children:"keydown"}),", ",(0,l.jsx)(n.code,{children:"keypress"}),") are now fired more\nconsistently. They can be intercepted by calling ",(0,l.jsx)(n.code,{children:"preventDefault()"})," during the\ncapture phase."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"features-1",children:"Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1556"})," Support for East-Asian fraction navigation, where the denominator is\nread/written before the numerator. To use East Asian fraction navigation, set\nthe option ",(0,l.jsx)(n.code,{children:"fractionNavigationOrder"})," to ",(0,l.jsx)(n.code,{children:'"denominator-numerator"'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Paste in a mathfield can be prevented by listening for a ",(0,l.jsx)(n.code,{children:"paste"})," event and\ndoing a ",(0,l.jsx)(n.code,{children:"preventDefault()"})," on it"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1439"})," A synthetic ",(0,l.jsx)(n.code,{children:"click"})," event is now dispatched when a click occurs\ninside the mathfield."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-52",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"When using the Chrome Device Toolbar to emulate a mobile device, typing on the\nphysical keyboard resulted in duplicate input."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1545"})," Switching from a tab with a focused mathfield to another tab, then\nreturn to the tab with the matfield would lose the focus on the mathfield. The\nfocus is now restored, similarly to what happens with a textarea element"]}),"\n",(0,l.jsxs)(n.li,{children:["When repeatedly hiding/showing the virtual keyboard, the virtual keyboard\nstylesheet would leak in the ",(0,l.jsx)(n.code,{children:"<header>"})," of the document"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1564"})," The ",(0,l.jsx)(n.code,{children:"keydown"})," events are now propagated for non-printable keys."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1561"})," Last atom in group (atom with ",(0,l.jsx)(n.code,{children:"skipBoundary"})," property) was skipped\nwhen moving forward"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0770-2022-07-05",children:["0.77.0 ",(0,l.jsx)(n.em,{children:"2022-07-05"})]}),(0,l.jsx)(n.h3,{id:"improvements-40",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Changed the key on the bottom right of the virtual keyboard from\n",(0,l.jsx)(n.code,{children:"moveToNextPlaceholder"})," (equivalent to ",(0,l.jsx)(n.strong,{children:"Tab"})," key on physical keyboard) to\n",(0,l.jsx)(n.code,{children:"commit"})," (equivalent to ",(0,l.jsx)(n.strong,{children:"Return"})," on physical keyboard). Pressing this key\n(or the ",(0,l.jsx)(n.strong,{children:"Return"})," key on a physical keyboard) triggers a ",(0,l.jsx)(n.code,{children:"change"})," event."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-53",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1523"})," When switching between keyboard layouts the body of the document was\ngetting erroneously enlarged vertically."]}),"\n",(0,l.jsxs)(n.li,{children:["When using ",(0,l.jsx)(n.code,{children:"makeSharedVirtualKeyboard()"})," if clicking directly on the virtual\nkeyboard toggle of a mathfield that is not focused, the keyboard would be\ndisplayed with options that did not match the mathfield (it would have the\nwrong custom keyboard for example)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1537"})," On Firefox, calling ",(0,l.jsx)(n.code,{children:"blur()"})," on a ",(0,l.jsx)(n.code,{children:"<math-field>"})," element resulted in\n",(0,l.jsx)(n.code,{children:"document.activeElement"})," still being set to the mathfield."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1544"})," Allow physical keyboard input to be turned off."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0761-2022-06-29",children:["0.76.1 ",(0,l.jsx)(n.em,{children:"2022-06-29"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-54",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1521"})," ",(0,l.jsx)(n.strong,{children:"Regression"})," In some cases a vertical scrollbar unexpectedly\nappeared in the mathfield"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0760-2022-06-28",children:["0.76.0 ",(0,l.jsx)(n.em,{children:"2022-06-28"})]}),(0,l.jsx)(n.h3,{id:"improvements-41",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["In the second argument of the ",(0,l.jsx)(n.code,{children:"\\colorbox"})," command, use ",(0,l.jsx)(n.code,{children:"\\ensuremath"})," when\nnecessary to indicate that the content is math, rather than a mode shift\ncommand"]}),"\n",(0,l.jsx)(n.li,{children:"When selecting all the children of a superscript or subscript, consider the\nsuperscript/subscript selected as well"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1041"})," When pasting textual content, if it can't be otherwise determined,\nassume the content to be LaTeX"]}),"\n",(0,l.jsx)(n.li,{children:"Avoid excessive scrolling when bringing the mathfield into view."}),"\n",(0,l.jsx)(n.li,{children:"Fonts could get loaded multiple times when the virtual keyboard was displayed\nor when static math was rendered"}),"\n"]}),(0,l.jsx)(n.h3,{id:"features-2",children:"Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#1335"})," Added support for the ",(0,l.jsx)(n.code,{children:"beforeinput"})," and ",(0,l.jsx)(n.code,{children:"input"})," events from [",(0,l.jsx)(n.em,{children:"Input\nEvents Level 1"}),"] (",(0,l.jsx)(n.a,{href:"https://www.w3.org/TR/input-events-1/",children:"https://www.w3.org/TR/input-events-1/"}),")."]}),"\n",(0,l.jsxs)(n.p,{children:["While an ",(0,l.jsx)(n.code,{children:"input"})," event was dispatched before, it did not conform to the\n",(0,l.jsx)(n.code,{children:"InputEvent"})," interface. The ",(0,l.jsx)(n.code,{children:"input"})," event now includes an ",(0,l.jsx)(n.code,{children:"inputType"})," property\ndetailing what caused the event to be dispatched, and in some cases a ",(0,l.jsx)(n.code,{children:"data"}),"\nproperty."]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"beforeinput"})," event is dispatched before the content of the mathfield is\nmodified and is a cancelable event."]}),"\n",(0,l.jsxs)(n.p,{children:["A pair of ",(0,l.jsx)(n.code,{children:"beforeinput"})," and ",(0,l.jsx)(n.code,{children:"input"})," events are also dispatched when content is\ndeleted, with an appropriate ",(0,l.jsx)(n.code,{children:"inputType"})," value."]}),"\n",(0,l.jsxs)(n.p,{children:["An ",(0,l.jsx)(n.code,{children:"input"})," event with a ",(0,l.jsx)(n.code,{children:"inputType"})," property of ",(0,l.jsx)(n.code,{children:'"insertLineBreak"'})," is\ndispatched when the ",(0,l.jsx)(n.strong,{children:"Return"})," or ",(0,l.jsx)(n.strong,{children:"Enter"})," keys are pressed."]}),"\n",(0,l.jsxs)(n.p,{children:["This matches more closely the behavior of the ",(0,l.jsx)(n.code,{children:"<textarea>"})," element."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added new ",(0,l.jsx)(n.code,{children:"latex-unstyled"})," output format. Use it with ",(0,l.jsx)(n.code,{children:"getValue()"})," to get a\nLaTeX representation of the mathfield content, without any color or background\ncolor styling command"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-55",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1489"})," In some cases, applying a background color, then entering some\nequations, could result in incorrect LaTeX output"]}),"\n",(0,l.jsxs)(n.li,{children:["Correct serialization for ",(0,l.jsx)(n.code,{children:'\\char"0040 4'}),", or in general any command with an\nunbraced numeric argument followed by an ambiguous decimal or hexadecimal\ncharacter"]}),"\n",(0,l.jsx)(n.li,{children:"Avoid crashing when deleting a range that overlaps with all the atoms in the\nroot"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1195"})," MathML output could be incorrect in some situations involving LaTeX\ngroups followed by a superscript and subscript"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1120"})," If a ",(0,l.jsx)(n.code,{children:"<mathfield>"})," element had some hooks and listeners customized,\nthen was removed from the DOM and reinserted later, the hooks and listener\nfunctions would revert to their default implementation"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1302"})," Long press on the backspace key of the virtual keyboard would output\nan error to the console. Long press on the backspace key is now a shortcut to\nclear the entire mathfield."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0750-2022-06-21",children:["0.75.0 ",(0,l.jsx)(n.em,{children:"2022-06-21"})]}),(0,l.jsx)(n.h3,{id:"features-3",children:"Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#970"})," It is now possible to vertically scroll the content of the mathfield."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-42",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["If the layout of the page is such that a mathfield would appear behind a\nvirtual keyboard because there isn't enough space for the virtual keyboard and\nthe mathfield, the height of the page is now adjusted so that both the\nmathfield and the virtual keyboard are visible (",(0,l.jsx)(n.strong,{children:"#1358"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"When the virtual keyboard is invoked, if a mathfield was positioned at the\nbottom of the page, it could get covered with the virtual keyboard and become\ninaccessible"}),"\n",(0,l.jsx)(n.li,{children:"When a mathfield is set to a fixed height and it contains content that doesn't\nfit vertically, a scrollbar will appear."}),"\n",(0,l.jsxs)(n.li,{children:["If the content of the mathfield was taller than could fit in the mathfield,\ntyping would not bring the content of the mathfield into view. (",(0,l.jsx)(n.strong,{children:"#1310"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["When typing or using the virtual keyboard the mathfield would not always\nscroll into view to become visible (",(0,l.jsx)(n.strong,{children:"#1173"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"Propagate content change event on paste in text and LaTeX mode"}),"\n",(0,l.jsxs)(n.li,{children:["Added the ",(0,l.jsx)(n.code,{children:"container"})," and ",(0,l.jsx)(n.code,{children:"content"})," CSS part to customize the inside of the\nmathfield."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-56",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1497"})," On iOS, tapping the edge of the mathfield could bring the native\nvirtual keyboard"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1456"})," When multiple mathfields are present in a page, with\n",(0,l.jsx)(n.code,{children:"makeSharedVirtualKeyboard()"}),", calling ",(0,l.jsx)(n.code,{children:"setOptions()"})," to change the virtual\nkeyboard mode on those mathfields could cause the keyboards to not be shared."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1501"})," The keybindings to get into and out of text mode (",(0,l.jsx)(n.code,{children:"shift"}),"+",(0,l.jsx)(n.code,{children:"quote"}),")\nwork again"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1517"})," Text content was not correctly serialized"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1503"})," A spurious ",(0,l.jsx)(n.code,{children:"="})," character was produced in the serialization of ",(0,l.jsx)(n.code,{children:"\\ne"}),".\nThe MathML and ASCIIMath serialization of ",(0,l.jsx)(n.code,{children:"\\ne"})," were incorrect."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1513"})," Using the virtual keyboard to apply underline or overline to the\nselection resulted in a placeholder being inserted instead."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0740-2022-06-06",children:["0.74.0 ",(0,l.jsx)(n.em,{children:"2022-06-06"})]}),(0,l.jsx)(n.h3,{id:"improvements-43",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Improved API/workflow to control the behavior of the virtual keyboard when\nmultiple mathfields are displayed in the page."}),"\n",(0,l.jsxs)(n.p,{children:["In order to get a coordinated behavior between the mathfields, it is now only\nnecessary to call ",(0,l.jsx)(n.code,{children:"makeSharedVirtualKeyboard()"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"use-shared-virtual-keyboard"})," attribute is now only necessary when using a\nmathfield in an iframe."]}),"\n",(0,l.jsxs)(n.p,{children:["If the ",(0,l.jsx)(n.code,{children:"virtual-keyboard-mode"})," attribute of mathfield is set to ",(0,l.jsx)(n.code,{children:"auto"})," or\n",(0,l.jsx)(n.code,{children:"onfocus"}),", the virtual keyboard will activate and hide automatically. It is no\nlonger necessary to set the mode to ",(0,l.jsx)(n.code,{children:"off"})," and to listen for focus change event\nto show/hide the keyboard manually."]}),"\n",(0,l.jsx)(n.p,{children:"If the virtual keyboard is visible and the focus changes between two\nmathfields, the virtual keyboard will stay visible (it will not hide with an\nanimation, then get revealed again)."}),"\n",(0,l.jsx)(n.p,{children:"If changing focus between two mathfields with identical keyboard\nconfigurations the keyboard will not blink (previously the keyboard would get\ndestructed and reconstructed, even if its configuration was identical between\ntwo mathfields)."}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-57",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1477"})," Undo/redo did not generate an ",(0,l.jsx)(n.code,{children:"input"})," event"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0737-2022-05-29",children:["0.73.7 ",(0,l.jsx)(n.em,{children:"2022-05-29"})]}),(0,l.jsx)(n.h3,{id:"improvements-44",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Preferably use serialized atoms for clipboard copy/paste operations. This\ninternal format captures more of the editing state than the LaTeX\nrepresentation."}),"\n",(0,l.jsxs)(n.li,{children:["Change the default textual output to clipboard to use ",(0,l.jsx)(n.code,{children:"$$"})," as a format\nindicator."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-58",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1467"})," Improvements to the Typescript public declarations"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1475"})," Copying a formula containing a matrix could render the mathfield\nunresponsive"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0736-2022-05-28",children:["0.73.6 ",(0,l.jsx)(n.em,{children:"2022-05-28"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-59",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1466"})," In LaTeX mode, doing a Select All (cmd+A), then delete would put the\nmathfield in an inconsistent state"]}),"\n",(0,l.jsx)(n.li,{children:"While in LaTeX mode, doing a Select All (cmd+A) with a partial command\nfollowed by an auto-complete suggestion would render the mathfield\nunresponsive"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0734-2022-05-27",children:["0.73.4 ",(0,l.jsx)(n.em,{children:"2022-05-27"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-60",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Correctly export the Typescript declaration for some static functions."}),"\n",(0,l.jsx)(n.li,{children:"When editing a formula that contains a matrix, the formatting of the matrix\ncould change, for example when pasting some content."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1465"})," The bounds of large operators (integral, sum) would not accept any\ncontent."]}),"\n",(0,l.jsx)(n.li,{children:"When setting the background color of an entire equation, the color command\nwould not be generated."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1445"})," Improve the ",(0,l.jsx)(n.code,{children:"\\colorbox"})," command, and other text mode commands, to be\nmore interoperable when they contain math content (use ",(0,l.jsx)(n.code,{children:"$"})," and ",(0,l.jsx)(n.code,{children:"$$"})," rather\nthan ",(0,l.jsx)(n.code,{children:"\\\\("})," and ",(0,l.jsx)(n.code,{children:"\\\\["}),"))"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1443"})," On mobile, prevent the focus from changing while the alternate key\npanel is up"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0731-2022-05-24",children:["0.73.1 ",(0,l.jsx)(n.em,{children:"2022-05-24"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-61",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Using macros without arguments (e.g. ",(0,l.jsx)(n.code,{children:"\\RR"}),") could result in incorrect LaTeX"]}),"\n",(0,l.jsx)(n.li,{children:"The virtual keyboard could become invisible when re-focusing a mathfield"}),"\n",(0,l.jsxs)(n.li,{children:["Typing a ",(0,l.jsx)(n.code,{children:","})," (comma) would be rendered as a ",(0,l.jsx)(n.code,{children:"."})," (dot)"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0730-2022-05-23",children:["0.73.0 ",(0,l.jsx)(n.em,{children:"2022-05-23"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-9",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The following attributes of the ",(0,l.jsx)(n.code,{children:"<math-field>"})," element that were previously\n",(0,l.jsx)(n.strong,{children:"boolean attributes"})," are now ",(0,l.jsx)(n.strong,{children:"enumerated attributes"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["A ",(0,l.jsx)(n.strong,{children:"boolean attribute"})," has a value of true if present and false if absent\n(it's an HTML standard thing)."]}),"\n",(0,l.jsxs)(n.p,{children:["An ",(0,l.jsx)(n.strong,{children:"enumerated attribute"})," has an explicit value, usually a string."]}),"\n",(0,l.jsxs)(n.p,{children:["As a result of this change the default value of some mathfield attributes have\nchanged from ",(0,l.jsx)(n.code,{children:"false"})," to ",(0,l.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"keypress-vibration"}),": ",(0,l.jsx)(n.code,{children:'"on"'})," | ",(0,l.jsx)(n.code,{children:'"off"'})," | ",(0,l.jsx)(n.code,{children:'""'})," (default ",(0,l.jsx)(n.code,{children:'"on"'}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"remove-extraneous-parentheses"}),": ",(0,l.jsx)(n.code,{children:'"on"'})," | ",(0,l.jsx)(n.code,{children:'"off"'})," | ",(0,l.jsx)(n.code,{children:'""'})," (default ",(0,l.jsx)(n.code,{children:'"on"'}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"smart-fence"}),": ",(0,l.jsx)(n.code,{children:'"on"'})," | ",(0,l.jsx)(n.code,{children:'"off"'})," | ",(0,l.jsx)(n.code,{children:'""'})," (default ",(0,l.jsx)(n.code,{children:'"on"'}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"smart-superscript"}),": ",(0,l.jsx)(n.code,{children:'"on"'})," | ",(0,l.jsx)(n.code,{children:'"off"'})," | ",(0,l.jsx)(n.code,{children:'""'})," (default ",(0,l.jsx)(n.code,{children:'"on"'}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"smart-mode"}),": ",(0,l.jsx)(n.code,{children:'"on"'})," | ",(0,l.jsx)(n.code,{children:'"off"'})," | ",(0,l.jsx)(n.code,{children:'""'})," (default",(0,l.jsx)(n.code,{children:'"off"'}),")"]}),"\n"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.p,{children:"If you previously used:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"<math-field></math-field>\n"})}),(0,l.jsx)(n.p,{children:"in order to preserve the same settings, you would now use:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<math-field\n  keypress-vibration="off"\n  remove-extraneous-parentheses="off"\n  smart-fence="off"\n  smart-superscript="off"\n></math-field>\n'})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The commands ",(0,l.jsx)(n.code,{children:"\\mleft"})," and ",(0,l.jsx)(n.code,{children:"\\mright"})," are no longer generated automatically."]}),"\n",(0,l.jsxs)(n.p,{children:["Previously, when using ",(0,l.jsx)(n.code,{children:"smart-fence"})," mode, ",(0,l.jsx)(n.code,{children:"()"})," or ",(0,l.jsx)(n.code,{children:"\\left(...\\right)"}),", could\nbe replaced with a ",(0,l.jsx)(n.code,{children:"\\mleft(...\\mright)"})," command. This was done to ensure the\nproper spacing of delimiters after a function, e.g. ",(0,l.jsx)(n.code,{children:"\\sin(x)"}),". Without it,\nthere is excessive space between the function and the delimiter."]}),"\n",(0,l.jsxs)(n.p,{children:["Now the ",(0,l.jsx)(n.code,{children:"\\left...\\right"})," command automatically adjust its left spacing based\non the symbol to its left. If the symbol to its left is a function, the\nspacing will be tighter. Therefore, ",(0,l.jsx)(n.code,{children:"\\mleft...\\mright"})," are no longer required,\nalthough they are still recognized as valid commands."]}),"\n",(0,l.jsxs)(n.p,{children:["This change was made because not every LaTeX environment recognize the\n",(0,l.jsx)(n.code,{children:"\\mleft...\\mright"})," commands, and this caused interoperability issues."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-11",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsxs)(n.strong,{children:["Comma ",(0,l.jsx)(n.code,{children:","})," as a decimal separator"]})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"options.decimalSeparator"})," option can be set to ",(0,l.jsx)(n.code,{children:"."})," or ",(0,l.jsx)(n.code,{children:","}),". The default\nvalue is ",(0,l.jsx)(n.code,{children:"."})," which corresponds to the current behavior."]}),"\n",(0,l.jsxs)(n.p,{children:["When set to ",(0,l.jsx)(n.code,{children:","}),", pressing the ",(0,l.jsx)(n.code,{children:","})," key on the keyboard will insert a ",(0,l.jsx)(n.code,{children:"{,}"}),"\nLaTeX string, if in math mode and if before a digit. The LaTeX sequence ",(0,l.jsx)(n.code,{children:"{,}"}),"\nis traditionally used to correctly typeset the comma and ensure the correct\namount of space around it. Without the ",(0,l.jsx)(n.code,{children:"{}"}),", the ",(0,l.jsx)(n.code,{children:","})," is interpreted as a\ndelimiter and has excessive amount of space around it."]}),"\n",(0,l.jsxs)(n.p,{children:["The virtual keyboard is also changed so that the ",(0,l.jsx)(n.code,{children:"."})," key is ",(0,l.jsx)(n.code,{children:","})," instead and\nalso contextually insert a ",(0,l.jsx)(n.code,{children:"{,}"})," when appropriate."]}),"\n",(0,l.jsxs)(n.p,{children:["A new command ",(0,l.jsx)(n.code,{children:"insertDecimalSeparator"})," has also been added, which inserts\neither ",(0,l.jsx)(n.code,{children:"{,}"})," if in math mode, right after a digit, and when ",(0,l.jsx)(n.code,{children:"decimalSeparator"}),"\nis set to ",(0,l.jsx)(n.code,{children:'","'}),'. Otherwise, it inserts a "."']}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Multi character symbols"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"onMulticharSymbol()"})," hook provides an opportunity to recognize multi\ncharacter symbols and wrap them in an appropriate command."]}),"\n",(0,l.jsxs)(n.p,{children:["For example typing ",(0,l.jsx)(n.code,{children:"speed"})," [\\ \\to ] ",(0,l.jsx)(n.code,{children:"\\mathrm{speed}"})]}),"\n",(0,l.jsxs)(n.p,{children:["While conventionally ",(0,l.jsx)(n.code,{children:"\\mathrm{}"})," is frequently used to denote multicharacter\nsymbols in LaTeX, in some contexts ",(0,l.jsx)(n.code,{children:"\\mathit"})," can also be used, for example\nusing ",(0,l.jsx)(n.code,{children:"\\mathrm"})," to indicate multicharacter function names, but ",(0,l.jsx)(n.code,{children:"\\mathit"})," for\nmulticharacter variable names."]}),"\n",(0,l.jsx)(n.p,{children:"By default, the hook does nothing and multicharacter symbols are not\nrecognized."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Support for the ",(0,l.jsx)(n.code,{children:"\\mathnormal{}"})," command, which displays text in italic and\nincludes italic correction. As opposed to ",(0,l.jsx)(n.code,{children:"\\mathit{}"})," which displays text in\nitalic, but without italic correction."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Correctly handle double-clicking words styled with ",(0,l.jsx)(n.code,{children:"\\mathrm"})," or ",(0,l.jsx)(n.code,{children:"\\mathit"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The appearance of the placeholder symbol has changed to stand out more. Also,\nthe LaTeX generated for the default placeholder is now simply\n",(0,l.jsx)(n.code,{children:"\\placeholder{}"}),". The argument of ",(0,l.jsx)(n.code,{children:"\\placeholder{}"})," was always optional, and is\nstill supported. Only the default serialization of the ",(0,l.jsx)(n.code,{children:"\\placeholder{}"})," has\nchanged."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-45",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The MathJSON which is exported to the clipboard during copy/cut operations now\ninclude the verbatim LaTeX from the mathfield."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-62",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["When extending the selection backwards over a ",(0,l.jsx)(n.code,{children:"captureSelection"})," group, do not\nextend more than necessary"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1354"})," Correctly render ",(0,l.jsx)(n.code,{children:"{,}"}),", which is used for French decimal point. Also\ncorrectly handle navigating with the keyboard, that is, handle it as a single\ncharacter, not a group. Also correctly render it to MathML (as a ",(0,l.jsx)(n.code,{children:"."}),")."]}),"\n",(0,l.jsxs)(n.li,{children:['The "contains highlight" and selection rectangles would not always account for\nthe children of the expression, for example with ',(0,l.jsx)(n.code,{children:"\\sqrt{\\frac12}"})]}),"\n",(0,l.jsxs)(n.li,{children:["The LaTeX output of subscript or superscripts was incorrect when no value for\nthe superscript/subscript was provided. For example, typing ",(0,l.jsx)(n.code,{children:"x"}),", ",(0,l.jsx)(n.code,{children:"^"}),",\n",(0,l.jsx)(n.code,{children:"right arrow"}),", ",(0,l.jsx)(n.code,{children:"2"}),", would incorrectly serialize ",(0,l.jsx)(n.code,{children:"x^2"}),". It now serializes\n",(0,l.jsx)(n.code,{children:"x^{}2"})]}),"\n",(0,l.jsxs)(n.li,{children:["Improved parsing and layout of functions with arguments, i.e.\n",(0,l.jsx)(n.code,{children:"\\sin\\left(x\\right)"}),". Previously, there would be an excessive amount of white\nspace between the ",(0,l.jsx)(n.code,{children:"\\sin"})," and ",(0,l.jsx)(n.code,{children:"("}),". The expression is now correctly interpreted\nas a function."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1459"})," When using a non-QWERTY physical keyboard layout, creating multiple\nmathfields could result in the keyboard layout being erroneously reset to\nQWERTY. This would manifest itself for example by the ",(0,l.jsx)(n.code,{children:"/"})," keybinding no longer\ninserting a fraction."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1462"})," When copying and pasting an expression that could not be parsed with\nthe Compute Engine, the resulting pasted content was displayed as an error."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0722-2022-04-30",children:["0.72.2 ",(0,l.jsx)(n.em,{children:"2022-04-30"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-63",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1427"})," An issue introduced in the previous release: the serialization to\nLaTeX of some functions (e.g. ",(0,l.jsx)(n.code,{children:"\\log"}),") failed."]}),"\n",(0,l.jsx)(n.li,{children:"Serialization to MathML of subscripts/superscripts was incorrect in some cases"}),"\n",(0,l.jsxs)(n.li,{children:["In Chrome, setting the ",(0,l.jsx)(n.code,{children:"readonly"})," attribute on mathfield caused the content of\nthe mathfield to be set to empty."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1431"})," AutoRender of static math expressions would not render correctly\nwhen using ",(0,l.jsx)(n.code,{children:"<script type='math/tex; mode=text'>"}),". Auto-render could also fail\ncatastrophically in some cases."]}),"\n",(0,l.jsxs)(n.li,{children:["Cortexjs.io ",(0,l.jsx)(n.strong,{children:"#15"})," When loading the fonts (and sounds), the origin of the\nlibrary needs to be resolved to determine the relative location of those\nfiles. This was done with a http ",(0,l.jsx)(n.code,{children:"GET"})," for each font file, which caused the\nentire library to be redownloaded multiple times. The base URL resolution is\nnow only done once, and with a ",(0,l.jsx)(n.code,{children:"HEAD"})," request to avoid the download. As a\nresult, getting the MathLive library ready, especially when using a CDN and a\nslow network, is an order of magnitude faster."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0720-2022-04-18",children:["0.72.0 ",(0,l.jsx)(n.em,{children:"2022-04-18"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-64",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1017"})," Display tooltip over buttons of virtual keyboard button bar"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1356"})," In inline mode, the fraction bar appeared too close to the numerator"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1222"}),", ",(0,l.jsx)(n.strong,{children:"#1024"})," When multiple ",(0,l.jsx)(n.code,{children:"\\ne"})," commands were entered, older ones\nwould disappear."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1013"})," Cutting the content of the matfield would not work in some cases"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1149"})," Improved placement of the horizontal bar above square roots =\n",(0,l.jsx)(n.strong,{children:"#1070"})," The ",(0,l.jsx)(n.code,{children:"\\mod"})," command (and ",(0,l.jsx)(n.code,{children:"\\pmod"})," and ",(0,l.jsx)(n.code,{children:"\\bmod"}),") no longer captures the\ncursor or allow its content to be selected"]}),"\n",(0,l.jsx)(n.li,{children:"When navigating with the arrow keys backward, if landing on a group atom (e.g.\na macro), allow the cursor to be positioned right after the atom."}),"\n",(0,l.jsx)(n.li,{children:"In some rare cases (if no keys but keybinding were entered in a mathfield),\nsome keybindings would stop functioning"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1327"})," Selecting the expression under a square root also selected the\nsquared root."]}),"\n",(0,l.jsxs)(n.li,{children:["Extending the selection forward when including some atoms such as\n",(0,l.jsx)(n.code,{children:"\\operatorname"})," jumped to the end of the expression."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1422"})," Turning off macros would still fallback to default macros."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1037"})," Correctly serialize ",(0,l.jsx)(n.code,{children:"\\mathord"}),", ",(0,l.jsx)(n.code,{children:"\\mathbin"}),", etc..."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1425"})," Using the up/down keys to navigate could produce an error in some\ncases"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-46",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Use more standard ",(0,l.jsx)(n.code,{children:"\\mathbb{N}"}),", etc... for ",(0,l.jsx)(n.code,{children:"NN"})," shortcut"]}),"\n",(0,l.jsx)(n.li,{children:"Improved display of command popover when editing raw LaTeX"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0710-2022-04-12",children:["0.71.0 ",(0,l.jsx)(n.em,{children:"2022-04-12"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-10",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Removed the ",(0,l.jsx)(n.code,{children:"find"})," and ",(0,l.jsx)(n.code,{children:"replace"})," methods. These methods were difficult to use,\nsince they were based on LaTeX serialization and the mapping from atom to\nLaTeX is not always intuitive. To replace them it is recommended to extract\nthe MathJSON representation of the value, and manipulate it using the CortexJS\nCompute Engine."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-12",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"math-json"'})," can be used as a format for ",(0,l.jsx)(n.code,{children:"setValue()"})]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-47",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1415"})," Atoms inside parentheses are now considered as implicit arguments,\nfor example when inserting a fraction."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1389"})," Keyboard navigation inside tabular data (matrices, etc...)"]}),"\n",(0,l.jsxs)(n.li,{children:["Documentation: some of the data structures were not publicly exported and did\nnot appear in the documentation (",(0,l.jsx)(n.a,{href:"https://cortexjs.io/docs/mathlive/",children:"https://cortexjs.io/docs/mathlive/"}),")"]}),"\n",(0,l.jsx)(n.li,{children:'When pasting content that included a double-backslash (e.g. as a row\nseparator) immediately followed by a character, all double-backslash would be\ninterpreted as a single backslash (this allowed pasting LaTeX that had been\nescaped in JavaScript). However, this caused some legitimate LaTeX to not be\ninterpreted correctly. The double-backslash are no longer "simplified".'}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-65",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["A style applied to a an atom using ",(0,l.jsx)(n.code,{children:"applyStyle()"})," was not propagated to its\nchildren"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1387"})," A matrix with an empty cell would result in error messages in the\nconsole in some cases"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0700-2022-04-05",children:["0.70.0 ",(0,l.jsx)(n.em,{children:"2022-04-05"})]}),(0,l.jsx)(n.h3,{id:"features-4",children:"Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Uses new version of Compute Engine for serialization to MathJSON and parsing\nof LaTeX from MathJSON."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-66",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#934"})," Improved display of the root horizontal bar in some browsers"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1385"})," Typing ",(0,l.jsx)(n.code,{children:"&"})," is correctly interpreted as ",(0,l.jsx)(n.code,{children:"\\\\&"})," (and not ",(0,l.jsx)(n.code,{children:"&"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1363"})," Commands in the ",(0,l.jsx)(n.code,{children:"\\overrightarrow{}"})," family can be deleted"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1375"})," Inserting a smartfence which was not followed by some content would\ntrigger some asserts"]}),"\n",(0,l.jsx)(n.li,{children:"Correctly handle deletion of the closing fence of a smartfence"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1412"})," Correctly handle insertion of custom macros with ",(0,l.jsx)(n.code,{children:"executeCommand"})]}),"\n",(0,l.jsx)(n.li,{children:"On Windows/Linux with an AZERTY keyboard, the \xb2 (superscript 2) is now handled\ncorrectly"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1362"})," and ",(0,l.jsx)(n.strong,{children:"#726"})," Correctly handle backspacing over a multi-character\noperator, e.g. ",(0,l.jsx)(n.code,{children:"<="}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1366"})," ",(0,l.jsx)(n.code,{children:"pointerup"})," events in a mathfield would not bubble"]}),"\n",(0,l.jsxs)(n.li,{children:["In Dark Mode, correctly display SVG shapes, such as ",(0,l.jsx)(n.code,{children:"\\overrightarrow{ABC}."})]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-48",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#934"})," Improved layout of ",(0,l.jsx)(n.code,{children:"aligned"})," environment by adding missing gap\nbetween columns"]}),"\n",(0,l.jsx)(n.li,{children:"Added macros to the command popover"}),"\n",(0,l.jsx)(n.li,{children:"Improved visual appearance when using dark mode. Also, added more CSS\nvariables to customize the appearance of the mathfield."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"06910-2022-02-23",children:["0.69.10 ",(0,l.jsx)(n.em,{children:"2022-02-23"})]}),(0,l.jsx)(n.h3,{id:"features-5",children:"Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Support for the ",(0,l.jsx)(n.code,{children:"\\htmlStyle"})," command (feature contributed by @neokazemi)"]}),"\n",(0,l.jsxs)(n.li,{children:["Pressing the ",(0,l.jsx)(n.code,{children:"\\"})," key after a trigonometric function will not include the\nfunction in the numerator of the fraction."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-67",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1024"})," ",(0,l.jsx)(n.code,{children:"\\ne"})," and ",(0,l.jsx)(n.code,{children:"\\neq"})," render correctly (fix contributed by @AceGentile)"]}),"\n",(0,l.jsxs)(n.li,{children:["Changes to the ",(0,l.jsx)(n.code,{children:"read-only"})," attribute are now properly detected (fix\ncontributed by @LuisMesa)"]}),"\n",(0,l.jsxs)(n.li,{children:["Boxes in ",(0,l.jsx)(n.code,{children:"\\enclose"})," command render correctly (fix contributed by @Zahara-Nour"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1357"})," Alternate (shifted) layers described in the virtual keyboard defined\nwith an object literal would not trigger."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0699-2022-01-06",children:["0.69.9 ",(0,l.jsx)(n.em,{children:"2022-01-06"})]}),(0,l.jsx)(n.h3,{id:"features-6",children:"Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Support for Vue 3.x"}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-68",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1240"})," After a Select All (or other selection adjusting commands),\ninserting characters in LaTeX mode may result in unresponsive input."]}),"\n",(0,l.jsxs)(n.li,{children:["The z-index of the virtual keyboard ",(0,l.jsx)(n.code,{children:"--keyboard-zindex"})," would not always be\napplied to the keyboard, resulting in some elements overlaping the virtual\nkeyboard in some situations."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0698-2021-11-08",children:["0.69.8 ",(0,l.jsx)(n.em,{children:"2021-11-08"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-69",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1146"})," When the pointer was over a mathfield, using the scrollwheel or\nscroll gesture to scroll the page was not possible"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1201"})," In some cases, the scrim layer (used to display alternate keys in\nthe virtual keyboard) was at the wrong depth"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#951"})," Fixed production of sup/sub in MathML"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1174"})," The ",(0,l.jsx)(n.code,{children:"virtual-keyboard-toggle"})," event was not dispatched"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1087"})," When using the virtual keyboard, the mathfield would not scroll when\nnecessary"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-49",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"sounds-directory"})," as list of valid attributes (contributed by\n@bengolds)"]}),"\n",(0,l.jsx)(n.li,{children:'Improvements to handling of nested mathfields ("fill-in-the-blank")\n(contributed by @caleb-flores)'}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"serve-http"})," instead of ",(0,l.jsx)(n.code,{children:"http-serve"})," for improved Linux compatibility\n(contributed by @AceGentile)"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0697-2021-09-13",children:["0.69.7 ",(0,l.jsx)(n.em,{children:"2021-09-13"})]}),(0,l.jsx)(n.h3,{id:"new-feature",children:"New Feature"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1138"})," ",(0,l.jsx)(n.strong,{children:"PR#163"}),' "Fill in the blank"']}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0696-2021-08-31",children:["0.69.6 ",(0,l.jsx)(n.em,{children:"2021-08-31"})]}),(0,l.jsx)(n.h3,{id:"improvements-50",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"vue-cli"})," does not support optional chaining (see\n",(0,l.jsx)(n.a,{href:"https://github.com/vuejs/vue-loader/issues/1697",children:"https://github.com/vuejs/vue-loader/issues/1697"}),") There are workarounds for\nthis, but debugging and fixing this is too difficult for many users.\nTherefore, sadly, this release rolls back emitting code including optional\nchaining, despite the fact it's supported in every targeted browser, until the\n",(0,l.jsx)(n.code,{children:"vue"})," toolchain gets its act together. To be clear MathLive does not use or\ndepend on ",(0,l.jsx)(n.code,{children:"Vue"}),", but some users are integrating MathLive in projects that do\nuse it, and this is sufficient to break MathLive. It appears that this issue\naffects also the React toolchain."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#1125"})," don't enable switching to LaTeX mode for read-only mathfields"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-70",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1124"})," when setting the ",(0,l.jsx)(n.code,{children:"inlineShortcuts"})," options to empty, don't fallback\nto the default shortcuts"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1119"})," ",(0,l.jsx)(n.code,{children:"\\overarc"})," and the ",(0,l.jsx)(n.code,{children:"AccentAtom"})," family would not display their\naccent"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1115"})," Clicking in the mathfield when virtual keyboard is displayed closed\nthe keyboard"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1117"})," and ",(0,l.jsx)(n.strong,{children:"#1118"})," Replacing a subset of a mathfield with a pattern that\ncontains the target led to an infinite loop"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0695-2021-08-05",children:["0.69.5 ",(0,l.jsx)(n.em,{children:"2021-08-05"})]}),(0,l.jsx)(n.h3,{id:"improvements-51",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"When using keybindings or virtual keyboard keys, insert the content in the\ncurrent math style, rather than forcing display style."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Correctly handle loading MathLive in a non-browser context (e.g. Node)"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Updated localization strings"}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0694-2021-06-22",children:["0.69.4 ",(0,l.jsx)(n.em,{children:"2021-06-22"})]}),(0,l.jsx)(n.h3,{id:"improvements-52",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Updated to ComputeEngine 0.4.2 for better parsing of LaTeX."}),"\n",(0,l.jsx)(n.li,{children:"When copying or cutting to the clipboard, if the MathJSON parsing fails,\nignore the MathJSON and fallback to LaTeX. Previously, if there was a failure\nduring parsing an empty MathJSON expression would be put on the clipboard,\nwhich result in subsequent attempts at pasting the content into a mathfield to\nfail."}),"\n",(0,l.jsx)(n.li,{children:"Updated various localizations (contributed by @physedo)."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0693-2021-06-10",children:["0.69.3 ",(0,l.jsx)(n.em,{children:"2021-06-10"})]}),(0,l.jsx)(n.h3,{id:"improvements-53",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Added localization for Irish (contributed by @physedo)."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-71",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#1000"})," When serializing subscripts and superscripts, serialize the\nsubscript first: ",(0,l.jsx)(n.code,{children:"\\int_0^{\\infty}"})," instead of ",(0,l.jsx)(n.code,{children:"\\int^{\\infty}_0"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"In some page layouts, the virtual keyboard could be displayed at an incorrect\nlocation, or scroll with the page."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0691-2021-06-09",children:["0.69.1 ",(0,l.jsx)(n.em,{children:"2021-06-09"})]}),(0,l.jsx)(n.h3,{id:"improvements-54",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Attempt to fix installation of the npm package on some Windows configurations"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0690-2021-06-09",children:["0.69.0 ",(0,l.jsx)(n.em,{children:"2021-06-09"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-11",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:['This release requires TypeScript 4.3 or later (the API uses asymmetric\ngetters/setters). If you are using VSCode, you may need to change the version\nof TypeScript used by the editor for language services (syntax checking). To\ndo so, with a TypeScript file open, click the Typescript version in the bottom\nbar, then choose "Select TypeScript Version", then "Use Workspace Version"\n(see\n',(0,l.jsx)(n.a,{href:"https://code.visualstudio.com/docs/typescript/typescript-compiling#_using-newer-typescript-versions",children:"https://code.visualstudio.com/docs/typescript/typescript-compiling#_using-newer-typescript-versions"}),")"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"All the default imports have been removed. Instead of"}),"\n"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import MathLive from 'mathlive';\nMathLive.renderMathInDocument();\n"})}),(0,l.jsx)(n.p,{children:"use:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import { renderMathInDocument } from 'mathlive';\nrenderMathInDocument();\n"})}),(0,l.jsxs)(n.p,{children:["If you are not calling a specific MathLive function and just need to use the\n",(0,l.jsx)(n.code,{children:"<math-field>"})," tag, use:"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import from 'mathlive';\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The following deprecated functions have been removed: ",(0,l.jsx)(n.code,{children:"latexToMathML()"})," \u2192\n",(0,l.jsx)(n.code,{children:"convertLatexToMathMl()"}),", ",(0,l.jsx)(n.code,{children:"latexToSpeakableText"})," \u2192\n",(0,l.jsx)(n.code,{children:"convertLatexToSpeakableText"}),", ",(0,l.jsx)(n.code,{children:"latexToMarkup()"})," \u2192\n",(0,l.jsx)(n.code,{children:"convertLatexToMarkup()"}),","]}),"\n",(0,l.jsxs)(n.li,{children:["The deprecated ",(0,l.jsx)(n.code,{children:"revertToOriginalContent"})," functionality has been removed."]}),"\n",(0,l.jsxs)(n.li,{children:["The deprecated ",(0,l.jsx)(n.code,{children:"overrideDefaultInlineShortcuts"})," property has been removed.\nInstead, use:"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"mf.setConfig('inlineShortcuts', {\n  ...mf.getConfig('inlineShortcuts'),\n  ...newShortcuts,\n});\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The following ",(0,l.jsx)(n.code,{children:"MathField"})," functions have been removed: ",(0,l.jsx)(n.code,{children:"$setConfig()"})," \u2192\n",(0,l.jsx)(n.code,{children:"setOptions()"}),", ",(0,l.jsx)(n.code,{children:"getConfig()"})," \u2192 ",(0,l.jsx)(n.code,{children:"getOptions()"}),", ",(0,l.jsx)(n.code,{children:"$perform()"})," \u2192\n",(0,l.jsx)(n.code,{children:"executeCommand()"}),", ",(0,l.jsx)(n.code,{children:"$text()"})," \u2192 ",(0,l.jsx)(n.code,{children:"getValue()"}),", ",(0,l.jsx)(n.code,{children:"$selectedText()"})," \u2192\n",(0,l.jsx)(n.code,{children:"getValue()"}),", ",(0,l.jsx)(n.code,{children:"$selectionIsCollapsed()"}),", ",(0,l.jsx)(n.code,{children:"$selectionDepth()"}),",\n",(0,l.jsx)(n.code,{children:"$selectionAtStart()"}),", ",(0,l.jsx)(n.code,{children:"$selectionAtEnd()"}),", ",(0,l.jsx)(n.code,{children:"$latex()"})," \u2192\n",(0,l.jsx)(n.code,{children:"getValue()"}),"and",(0,l.jsx)(n.code,{children:"setValue()"}),", ",(0,l.jsx)(n.code,{children:"$el"}),", ",(0,l.jsx)(n.code,{children:"$insert()"})," \u2192 ",(0,l.jsx)(n.code,{children:"insert()"}),",\n",(0,l.jsx)(n.code,{children:"$hasFocus()"})," \u2192 ",(0,l.jsx)(n.code,{children:"hasFocus()"}),", ",(0,l.jsx)(n.code,{children:"$focus()"})," \u2192 ",(0,l.jsx)(n.code,{children:"focus()"}),", ",(0,l.jsx)(n.code,{children:"$blur()"}),"\n\u2192 ",(0,l.jsx)(n.code,{children:"blur()"}),", ",(0,l.jsx)(n.code,{children:"$select()"})," \u2192 ",(0,l.jsx)(n.code,{children:"select()"}),", ",(0,l.jsx)(n.code,{children:"$clearSelection()"})," \u2192\n",(0,l.jsx)(n.code,{children:"executeCommand('delete-backward')"}),", ",(0,l.jsx)(n.code,{children:"$applyStyle()"})," \u2192 ",(0,l.jsx)(n.code,{children:"applyStyle()"}),",\n",(0,l.jsx)(n.code,{children:"$keystroke()"}),", ",(0,l.jsx)(n.code,{children:"$typedText()"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"makeMathField()"})," function has been removed. Use ",(0,l.jsx)(n.code,{children:"new MathfieldElement()"}),"\nor the ",(0,l.jsx)(n.code,{children:"<math-field>"})," tag instead:"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// Before\nlet mf = MathLive.makeMathField(document.createElement('div'), {\n  virtualKeyboardMode: 'manual',\n});\nmf.$latex('f(x) = \\\\sin x');\ndocument.body.appendChild(mf.$el());\n\n// After\nlet mfe = new MathfieldElement({\n  virtualKeyboardMode: 'manual',\n});\nmfe.value = 'f(x) = \\\\sin x';\ndocument.body.appendChild(mfe);\n"})}),(0,l.jsx)(n.p,{children:"or:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<math-field virtual-keyboard-mode="manual">f(x) = \\sin x</math-field>\n'})}),(0,l.jsx)(n.h3,{id:"improvements-55",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Added localization for Dutch (contributed by @harrisnl), Bosnian, Croatian,\nCzeck, Danish, Estonian, Finnish, Icelandic, Norwegian, Portuguese, Serbian,\nSlovak, Slovenian, Swedish, Turkish (contributed by @physedo)."}),"\n",(0,l.jsxs)(n.li,{children:["The selection can now be set using an offset, i.e. ",(0,l.jsx)(n.code,{children:"mf.selection = 0"})," instead\nof ",(0,l.jsx)(n.code,{children:"mf.selection = { ranges:[[0, 0]] }"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Map ",(0,l.jsx)(n.code,{children:"\\cdot"}),' to "times" in ',(0,l.jsx)(n.code,{children:"spoken-text"})," format."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#994"})," When using ",(0,l.jsx)(n.code,{children:"virtualKeyboardContainer"}),", the virtual keyboard is now\ndisplayed ",(0,l.jsx)(n.strong,{children:"inside"})," the container. The container should have a ",(0,l.jsx)(n.code,{children:"position"})," of\n",(0,l.jsx)(n.code,{children:"relative"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["When replacing a placeholder with a LaTeX command in LaTeX mode (by pressing\nthe ",(0,l.jsx)(n.code,{children:"\\"})," key), remove the ",(0,l.jsx)(n.code,{children:"\\placeholder{}"})," command."]}),"\n",(0,l.jsxs)(n.li,{children:["In spoken text, correctly handle ",(0,l.jsx)(n.code,{children:"\\mathop"})," and ",(0,l.jsx)(n.code,{children:"\\operatorname"}),"."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-13",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"getOffsetDepth()"})," method can be used to query the depth of a specific\noffset. Use ",(0,l.jsx)(n.code,{children:"mf.getOffsetDepth(mf.position)"})," for the depth of the current\nposition."]}),"\n",(0,l.jsxs)(n.li,{children:["the ",(0,l.jsx)(n.code,{children:"onExport()"})," hook provides an opportunity to customize the format exported\nto the Clipboard."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-72",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Actually change the keyboard toggle glyph when changed with ",(0,l.jsx)(n.code,{children:"setOptions"})]}),"\n",(0,l.jsxs)(n.li,{children:["Reparse the formula when the ",(0,l.jsx)(n.code,{children:"macros"})," dictionary is updated"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#971"})," In some browsers, when mathfield elements are contained in a\ncontainer with ",(0,l.jsx)(n.code,{children:"overflow: scroll"}),", the dimensions of the viewport would be\nincorrectly affected."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#974"}),' With non-US keyboard layout, always map the "/" key to a fraction.']}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0681-2021-06-02",children:["0.68.1 ",(0,l.jsx)(n.em,{children:"2021-06-02"})]}),(0,l.jsx)(n.h3,{id:"improvements-56",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Keybindings: keybindings can now be associated with specific keyboard layouts.\nBy default, the keybindings that are specific to the US keyboard layout are no\nlonger applied with other keyboard layouts. This makes it easier to use\npunctuation with some keyboard layouts and prevent some error messages from\nbeing thrown (addresses ",(0,l.jsx)(n.strong,{children:"#962"}),")."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"MathML: improved MathML output, especially for formulas with unbalanced\ndelimiters"}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-73",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#969"})," and ",(0,l.jsx)(n.strong,{children:"#967"})," Changed the way the build is done so that MathLive does\nnot use MathJSON as a submodule but as a regular npm dependency, and builds\ncorrectly even in non-git environments."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#968"})," navigating with arrow keys cannot navigate past a macro"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0680-2021-05-31",children:["0.68.0 ",(0,l.jsx)(n.em,{children:"2021-05-31"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-12",children:"Breaking Changes"}),(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#500"})," MathJSON support. The legacy MASTON/JSON format has been removed.",(0,l.jsx)(n.br,{}),"\n","The MathJSON format is now integrated into MathLive \ud83d\ude80 \ud83c\udf86 \ud83e\udd73"]}),(0,l.jsxs)(n.p,{children:["To get the MathJSON representation of a formula, use ",(0,l.jsx)(n.code,{children:"mf.getValue('math-json')"}),"."]}),(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"latexToAST()"})," and ",(0,l.jsx)(n.code,{children:"astToLatex()"})," functions have been replaced by\n",(0,l.jsx)(n.a,{href:"https://cortexjs.io/docs/mathjson/#(parse%3Afunction)",children:"parseMathJson()"})," and\n",(0,l.jsx)(n.a,{href:"https://cortexjs.io/docs/mathjson/#(serialize%3Afunction)",children:"serializeMathJson()"}),"."]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import { parseMathJson, serializeMathJson } from 'mathlive';\n"})}),(0,l.jsx)(n.p,{children:'MathJSON has an extensive API that supports parsing and serializing of custom\nLaTeX expressions. You can use it to define your own LaTeX "vocabulary" and\n"grammar" and transform it into MathJSON.'}),(0,l.jsx)(n.p,{children:"You can also convert MathJSON expressions into several canonical forms, do\nsymbolic computation with MathJSON expressions, for example to compare them, and\nmore."}),(0,l.jsxs)(n.p,{children:["Learn more at ",(0,l.jsx)(n.a,{href:"https://cortexjs.io/math-json/",children:"cortexjs.io/math-json/"}),"."]}),(0,l.jsx)(n.h3,{id:"new-features-14",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#952"})," It is now possible to define variants with keycaps in a custom\nkeyboard. These variants are displayed with a long press on the keycap."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#955"})," When navigating with the arrow keys but there is nowhere to go, a\n",(0,l.jsx)(n.code,{children:"move-out"})," event is dispatched (or the lower-level ",(0,l.jsx)(n.code,{children:"onMoveOutOf"}),' hook is\ninvoked, but using the event is recommended). This is an opportunity to handle\nthis situation, for example by changing the focus to another element. To get\nthe default behavior, which is to play a "plonk" sound, do not cancel the\nevent. To prevent the "plonk" sound from playing, use ',(0,l.jsx)(n.code,{children:"evt.preventDefault()"}),".\nNote tha previously a ",(0,l.jsx)(n.code,{children:"focus-out"})," event was dispatched in this case, but since\nthe focus is actually not changed by default, this was incorrect."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-57",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"SpeechScope"})," argument of the ",(0,l.jsx)(n.code,{children:"speak"})," command is now optional."]}),"\n",(0,l.jsx)(n.li,{children:"Display the keys in the keystroke caption panel (alt/option+shift+K) in\nchronological order from left to right."}),"\n",(0,l.jsx)(n.li,{children:"Do not inject stylesheets or placeholder elements for the popover panel,\nkeystroke caption panel or virtual keyboard until actually needed, which may\nbe never and thus result in a smaller DOM."}),"\n"]}),(0,l.jsx)(n.h3,{id:"architecture",children:"Architecture"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The library is now null-safe, i.e. it compiles with the Typescript flag\n",(0,l.jsx)(n.code,{children:"strictNullChecks"}),". This will ensure that the public Typescript declaration\nfile also compile with ",(0,l.jsx)(n.code,{children:"strictNullChecks"})," if you make use of it in your own\nproject."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-74",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#948"})," The Typescript declaration of ",(0,l.jsx)(n.code,{children:"set plonkSound()"})," failed when compiled\nwith ",(0,l.jsx)(n.code,{children:"strictNullChecks"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["When using a mathfield as a web component, the ",(0,l.jsx)(n.code,{children:"speak"})," command would be\ninoperative."]}),"\n",(0,l.jsxs)(n.li,{children:["In Chrome/Blink, when a mathfield was in a ",(0,l.jsx)(n.code,{children:"contentEditable"})," block, inserting\na line before the component would make the component crash. Now the component\nis correctly disconnected, then reconnected and preserves its state across the\ndisconnection."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#960"}),' Typing "e^pi" would result in ',(0,l.jsx)(n.code,{children:"e\\pi"})," instead of ",(0,l.jsx)(n.code,{children:"e^\\pi"}),'. Also,\nserializing some partial formulas, such as "e^" would result in incorrect\nLaTeX (e.g. "e").']}),"\n",(0,l.jsxs)(n.li,{children:["In MathML serialization, ",(0,l.jsx)(n.code,{children:"2^3"})," was not serializing the superscript (",(0,l.jsx)(n.strong,{children:"#951"})," )\nand subscripts were not serialized for various constructs( ",(0,l.jsx)(n.strong,{children:"#534"}),")."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0670-2021-05-21",children:["0.67.0 ",(0,l.jsx)(n.em,{children:"2021-05-21"})]}),(0,l.jsx)(n.h3,{id:"new-features-15",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"\\overarc"}),", ",(0,l.jsx)(n.code,{children:"\\underarc"}),", ",(0,l.jsx)(n.code,{children:"\\overparen"})," and ",(0,l.jsx)(n.code,{children:"\\underparen"})," commands."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-58",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"When replacing a selected range, snapshot in the undo state the collapsed\nselection before inserting the replacement."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-75",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Correctly calculate the padding for enclose atoms (broken in 0.66)"}),"\n",(0,l.jsxs)(n.li,{children:["Setting the ",(0,l.jsx)(n.code,{children:"keypressSound"})," to ",(0,l.jsx)(n.code,{children:"null"})," would not turn off the sounds. Setting\nit to the string ",(0,l.jsx)(n.code,{children:'"null"'})," did, though."]}),"\n",(0,l.jsxs)(n.li,{children:["An ",(0,l.jsx)(n.code,{children:"input"})," event would incorrectly bubble out of the mathfield, even in\nread-only mode."]}),"\n",(0,l.jsxs)(n.li,{children:["When calling ",(0,l.jsx)(n.code,{children:"getOption()"}),", or when examining a property on\n",(0,l.jsx)(n.code,{children:"MathfieldElement"}),", return the actual value, rather than an object literal\nthat contains the value."]}),"\n",(0,l.jsxs)(n.li,{children:["If the mathlive module was loaded before the ",(0,l.jsx)(n.code,{children:"<math-field>"})," element was parsed\nin the document, the attributes of the mathfield would be ignored."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0661-2021-05-21",children:["0.66.1 ",(0,l.jsx)(n.em,{children:"2021-05-21"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-76",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Revert improvements where the ",(0,l.jsx)(n.code,{children:"display"})," property of the mathfield would change\ndepending on the ",(0,l.jsx)(n.code,{children:"default-mode"})," property. This had unintended consequences in\nsome cases. To control the layout of the mathfield, use\n",(0,l.jsx)(n.code,{children:'style="display:inline-block;"'})," instead."]}),"\n",(0,l.jsxs)(n.li,{children:["When using ",(0,l.jsx)(n.code,{children:"applyStyle()"}),", if a non-RGB color (e.g. ",(0,l.jsx)(n.code,{children:'"yellow"'}),") was used, it\nwould not be applied to the selection."]}),"\n",(0,l.jsxs)(n.li,{children:["When using ",(0,l.jsx)(n.code,{children:"applyStyle()"})," if the font size was changed, it was always set to\nfont size 1 (tiny)."]}),"\n",(0,l.jsx)(n.li,{children:"Macro packages were incorrectly parsed"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0660-2021-05-20",children:["0.66.0 ",(0,l.jsx)(n.em,{children:"2021-05-20"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-13",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"horizontalSpacingScale"})," option is deprecated. It will be removed in an\nupcoming version and replaced by the standard TeX registers ",(0,l.jsx)(n.code,{children:"\\thinmuskip"}),",\n",(0,l.jsx)(n.code,{children:"\\medmuskip"})," and ",(0,l.jsx)(n.code,{children:"\\thickmuskip"}),"."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-59",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["When the ",(0,l.jsx)(n.code,{children:"default-mode"})," attribute (or the ",(0,l.jsx)(n.code,{children:"defaultMode"})," property) of a\n",(0,l.jsx)(n.code,{children:"<math-field>"})," element is set to ",(0,l.jsx)(n.code,{children:'"inline-math"'}),", the element will be\ndisplayed as an inline element. Previously, the ",(0,l.jsx)(n.code,{children:"defaultMode"})," affected the\nlayout of the math content, but the element still behaved as a block."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"renderMathInDocument()"})," now creates a ",(0,l.jsx)(n.code,{children:"<div>"})," when using Display Style, and a\n",(0,l.jsx)(n.code,{children:"<span>"})," when using Text Style (inline math)."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-16",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#946"})," Support addding a custom stylesheet to a ",(0,l.jsx)(n.code,{children:"<math-field>"})," when using\nthe ",(0,l.jsx)(n.code,{children:"\\class"})," command."]}),"\n",(0,l.jsxs)(n.li,{children:["The mathfield options which are reflected as attributes (e.g.\n",(0,l.jsx)(n.code,{children:"virtual-keyboard-mode"}),") are now reflected as a property on the element\n",(0,l.jsx)(n.code,{children:"mf.virtualKeyboardMode"})," as a shortcut to\n",(0,l.jsx)(n.code,{children:"mf.setOptions({virtualKeyboardMode:...}"}),". This also allows to set these\nproperties before the component is connected to the document."]}),"\n",(0,l.jsxs)(n.li,{children:["Added the following attributes to ",(0,l.jsx)(n.code,{children:"<math-field>"}),": ",(0,l.jsx)(n.code,{children:"plonk-sound"}),",\n",(0,l.jsx)(n.code,{children:"keypress-sound"}),". Setting them to 'none' turn off these sounds."]}),"\n",(0,l.jsxs)(n.li,{children:["Added support for definition of macro packages (see ",(0,l.jsx)(n.code,{children:"MacroPackageDefinition"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Added support to selectively expand macro definitions. This avoid expanding\ncommon macro definitions (for example from ",(0,l.jsx)(n.code,{children:"amsmath.sty"}),") when\ncopying/pasting, while still expanding custom macros for improved\ncompatibility."]}),"\n",(0,l.jsx)(n.li,{children:"Added support for MediaWiki commands:"}),"\n"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\darr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\dArr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Darr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\lang"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\rang"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\uarr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\uArr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Uarr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\N"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\R"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Z"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\alef"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\alefsym"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Alpha"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Beta"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\bull"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Chi"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\clubs"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\cnums"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Complex"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Dagger"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\diamonds"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\empty"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Epsilon"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Eta"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\exist"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\harr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\hArr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Harr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\hearts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\image"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\infin"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Iota"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\isin"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Kappa"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\larr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\lArr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Larr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\lrarr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\lrArr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Lrarr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Mu"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\natnums"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Nu"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Omicron"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\plusmn"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\rarr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\rArr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Rarr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\real"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\reals"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Reals"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Rho"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\sdot"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\sect"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\spades"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\sub"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\sube"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\supe"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Tau"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\thetasym"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\weierp"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Zeta"})}),"\n"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added support for some additional ",(0,l.jsx)(n.code,{children:"amsmath"})," commands:"]}),"\n"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\varGamma"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\varDelta"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\varTheta"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\varLambda"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\varXi"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\varPi"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\varSigma"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\varUpsilon"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\varPhi"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\varPsi"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\varOmega"})}),"\n"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added support for the ",(0,l.jsx)(n.code,{children:"\\displaylimits"})," command"]}),"\n"]}),(0,l.jsxs)(n.p,{children:["See\n",(0,l.jsx)(n.a,{href:"https://cortexjs.io/mathlive/reference/commands/",children:"Supported TeX/LaTeX Commands"}),"\nfor more details."]}),(0,l.jsx)(n.h3,{id:"issues-resolved-77",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'When a mathfield is created, then immediately removed from the document, do\nnot crash. The creation of the mathfield triggered an asynchronous rendering\nand by the time the rendering was executed the mathfield was no longer valid.\nThis situattion happened when using "tippyjs" and possibly other libraries.'}),"\n",(0,l.jsx)(n.li,{children:"When a mathfield is read-only, do not display the focus outline."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#943"}),' When a tooltip for a custom virtual keyboard was provided, the label\nwas set to "undefined".']}),"\n",(0,l.jsxs)(n.li,{children:["The DVIPS colors were case sensitive, they should be case sensitive. (i.e.\n",(0,l.jsx)(n.code,{children:"LimeGreen"})," is a valid color, ",(0,l.jsx)(n.code,{children:"Limegreen"})," is not)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#945"})," Preserve more aggressively verbatim LaTeX. Also, avoid serializing\nsuperfluous spaces in Spacing atoms."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#770"})," Correctly handle attaching limits to ",(0,l.jsx)(n.code,{children:"\\int"})," command using the\nkeyboard."]}),"\n",(0,l.jsxs)(n.li,{children:["Return the correct ",(0,l.jsx)(n.code,{children:"value"})," for the mathfield element when it is not attached\nyet, even if the output format is not specified."]}),"\n",(0,l.jsxs)(n.li,{children:["Color specified with the ",(0,l.jsx)(n.code,{children:"rgb()"})," function would not render correctly if the\narguments contained some spaces, e.g.",(0,l.jsx)(n.code,{children:"rgb ( 255 , 255 , 255 )"}),"."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0650-2021-05-14",children:["0.65.0 ",(0,l.jsx)(n.em,{children:"2021-05-14"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-14",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"substituteTextArea"})," option has been removed. This option was in fact not\nworking so removing it will presumably have no impact."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-17",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#939"})," Added access to ",(0,l.jsx)(n.code,{children:"\\underline"}),", ",(0,l.jsx)(n.code,{children:"\\underbrace"}),", ",(0,l.jsx)(n.code,{children:"\\xleftarrow"}),", etc... to\nthe virtual keyboard."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-60",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"On iPad OS and relevant Windows devices, support the detachable keyboard."}),"\n",(0,l.jsxs)(n.li,{children:["In LaTeX mode, don't consider ",(0,l.jsx)(n.code,{children:"\\\\"})," (double-dash, i.e. end of line in tabular\nmode) as a valid command prefix."]}),"\n",(0,l.jsxs)(n.li,{children:["In LaTeX mode, don't recommend ",(0,l.jsx)(n.code,{children:"\\{"})," as a command by default."]}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"\\bigstar"})," symbol"]}),"\n",(0,l.jsxs)(n.li,{children:["Improved performance of ",(0,l.jsx)(n.code,{children:"renderMathInDocument()"})," when there are many formulas\non the page."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"architecture-1",children:"Architecture"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Renamed ",(0,l.jsx)(n.code,{children:"Span"})," to ",(0,l.jsx)(n.code,{children:"Box"}),"."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-78",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"When using Firefox on Windows, the layout of the formula could shift by a\nfraction of a pixel when moving the caret."}),"\n",(0,l.jsx)(n.li,{children:"In LaTeX mode with nested expressions, the edited LaTeX was incorrect."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0640-2021-05-09",children:["0.64.0 ",(0,l.jsx)(n.em,{children:"2021-05-09"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-15",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"FontSize"})," type is now an integer between 1 and 10. It previously was\n",(0,l.jsx)(n.code,{children:"size1"}),", ",(0,l.jsx)(n.code,{children:"size2"}),", etc... The default font size is ",(0,l.jsx)(n.code,{children:"5"}),", the smallest is ",(0,l.jsx)(n.code,{children:"1"}),".\nHowever, when using ",(0,l.jsx)(n.code,{children:"applyStyle()"}),", the size can still be specified with\n",(0,l.jsx)(n.code,{children:"size1"}),", etc... The following size values can also be used: ",(0,l.jsx)(n.code,{children:"tiny"}),",\n",(0,l.jsx)(n.code,{children:"scriptsize"}),", ",(0,l.jsx)(n.code,{children:"footnotesize"}),", ",(0,l.jsx)(n.code,{children:"small"}),", ",(0,l.jsx)(n.code,{children:"normal"})," or ",(0,l.jsx)(n.code,{children:"normalSize"}),", ",(0,l.jsx)(n.code,{children:"large"}),",\n",(0,l.jsx)(n.code,{children:"Large"}),", ",(0,l.jsx)(n.code,{children:"LARGE"}),", ",(0,l.jsx)(n.code,{children:"huge"}),", ",(0,l.jsx)(n.code,{children:"Huge"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Previously, named colors (",(0,l.jsx)(n.code,{children:"yellow"}),", ",(0,l.jsx)(n.code,{children:"red"}),"...) mapped to the ",(0,l.jsx)(n.code,{children:"dvips"})," color set.\nThey can now map to different values to improve their legibility. To ensure\nthat a particular color is used, specify the colors as a hex triplet\n(",(0,l.jsx)(n.code,{children:"#dd2233"}),"). See also the ",(0,l.jsx)(n.code,{children:"colorMap"})," option."]}),"\n",(0,l.jsx)(n.p,{children:"The following color names are recommended: they will map to values that have\nbeen optimized for legibility as a foreground or background color, they cover\nall the hues of the color circle and have been adjusted to provide similar\napparent brightness and intensity:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["colors: ",(0,l.jsx)(n.code,{children:"orange"}),", ",(0,l.jsx)(n.code,{children:"yellow"}),", ",(0,l.jsx)(n.code,{children:"lime"}),", ",(0,l.jsx)(n.code,{children:"green"}),", ",(0,l.jsx)(n.code,{children:"teal"}),", ",(0,l.jsx)(n.code,{children:"blue"}),", ",(0,l.jsx)(n.code,{children:"indigo"}),",\n",(0,l.jsx)(n.code,{children:"purple"}),", ",(0,l.jsx)(n.code,{children:"magenta"})]}),"\n",(0,l.jsxs)(n.li,{children:["shades of grey: ",(0,l.jsx)(n.code,{children:"black"}),", ",(0,l.jsx)(n.code,{children:"dark-grey"}),", ",(0,l.jsx)(n.code,{children:"grey"}),", ",(0,l.jsx)(n.code,{children:"light-grey"}),", ",(0,l.jsx)(n.code,{children:"white"})]}),"\n"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-18",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The background of fractions, radicals and parentheses group (",(0,l.jsx)(n.code,{children:"\\left"}),"/",(0,l.jsx)(n.code,{children:"\\right"}),"\ncommands) is now highlighted when they contain the caret. This makes it easier\nto distinguish some cases when the cursor is at the edge of the element and\ncould be either inside or outside. The appearance of the highliting can be\ncontrolled with the ",(0,l.jsx)("del",{children:(0,l.jsx)(n.code,{children:"--contains-highlight"})}),"\n",(0,l.jsx)(n.code,{children:"--contains-highlight-background-color"})," CSS variable. Set it to ",(0,l.jsx)(n.code,{children:"transparent"}),"\nto restore the previous behavior."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsxs)(n.strong,{children:[(0,l.jsx)(n.code,{children:"colorMap"})," option"]}),'. To map a color name such as "yellow" to a custom RGB\ncolor, set the ',(0,l.jsx)(n.code,{children:"colorMap"})," or ",(0,l.jsx)(n.code,{children:"backgroundColorMap"})," option to a function that\ntakes the color name as an argument and return a matching CSS RGB string.\nReturn ",(0,l.jsx)(n.code,{children:"undefined"})," to proceed with the default mapping."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["In macro dictionary, added option to expand or not the macro when using the\n",(0,l.jsx)(n.code,{children:"latex-expanded"})," output format (when copying to the clipboard, for example)."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added the ",(0,l.jsx)(n.code,{children:"\\overunderset{}{}{}"})," command."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added the ",(0,l.jsx)(n.code,{children:"\\lparen"})," and ",(0,l.jsx)(n.code,{children:"\\rparen"})," delimiters."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added the ",(0,l.jsx)(n.code,{children:"\\mod"}),", ",(0,l.jsx)(n.code,{children:"\\pmod"})," and ",(0,l.jsx)(n.code,{children:"\\bmod"})," commands, defined as macros."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:['Added support for dashed column separators in matrix, using ":" in the matrix\npreamble. See the\n',(0,l.jsx)(n.a,{href:"https://mirrors.ircam.fr/pub/CTAN/macros/latex/contrib/arydshln/arydshln.pdf",children:"arydshln"}),"\npackage."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added support for optional below argument to ",(0,l.jsx)(n.code,{children:"\\stackrel"})," and ",(0,l.jsx)(n.code,{children:"\\stackbin"})," as\nper the\n",(0,l.jsx)(n.a,{href:"http://mirrors.ibiblio.org/CTAN/macros/latex/contrib/oberdiek/stackrel.pdf",children:"stackrel package"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["When using ",(0,l.jsx)(n.code,{children:"renderMathInDocument()"})," or ",(0,l.jsx)(n.code,{children:"renderMathInElement()"}),', ASCII Math\nformat can be used. The default delimiters for ASCII Math are\n"',(0,l.jsx)(n.code,{children:'" (backtick) and can be changed with the '}),"asciiMath.delimiters` option. To\nturn off this conversion and revert to the previous behavior, call:"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"renderMathInDocument({asciiMath: null })"})}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"layout-improvements",children:"Layout Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Substantial rewrite of the stacked layout algorithm (fractions, superscripts,\netc...). The previous algorithm did not work correctly when mixing absolute\nsizing commands (",(0,l.jsx)(n.code,{children:"\\Huge"}),") and relative ones (",(0,l.jsx)(n.code,{children:"\\scriptstyle"}),") and had various\nissues and inconsistencies with what TeX produced. The result is now close to\nTeX."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Display the placeholder symbol using the caret color."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added the ",(0,l.jsx)(n.code,{children:"--smart-fence-opacity"})," and ",(0,l.jsx)(n.code,{children:"--smart-fence-color"})," CSS variables."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"In the layout of superscript/subscript and accents, use the correct font\nmetrics for spacing and layout (previously, the font metric for the base size\nwas always used). This may result in very slightly different placement of\nsuperscripts, subscripts and limits (but closer to TeX)."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Fixed cases where the inter-atom spacing was incorrect (when spacing atoms or\nsuper/subscripts were used with a binary atom, or when some other atom types\nwere used, such as BoxAtom and more)."}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"clipboard-improvements",children:"Clipboard Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["When pasting from the clipboard, recognize text bracketed with\n",(0,l.jsx)(n.code,{children:"\\begin{math}"}),"...",(0,l.jsx)(n.code,{children:"\\end{math}"})," or ",(0,l.jsx)(n.code,{children:"\\begin{displaymath}"}),"...",(0,l.jsx)(n.code,{children:"\\end{displaymath}"}),"\nas LaTeX (in addition to ",(0,l.jsx)(n.code,{children:"$"}),", ",(0,l.jsx)(n.code,{children:"$$"}),", ",(0,l.jsx)(n.code,{children:"\\["}),"...",(0,l.jsx)(n.code,{children:"\\]"})," and ",(0,l.jsx)(n.code,{children:"\\("}),"...",(0,l.jsx)(n.code,{children:"\\)"}),' which were\nrecognized before). Also, recognize text that may contain a LaTeX expression\nsurrounded by regular text (i.e. "if ',(0,l.jsx)(n.code,{className:"language-math math-inline",children:"x > 0"}),'").']}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"When pasting ASCIIMath, recognize more expression using standard functions\nsuch as the trig functions."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:'Recognize text content surrounded with "`" (backtick) delimiters as ASCII\nMath.'}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"When copying to the clipboard, roundtrip verbatim latex when available, i.e.\nthe content of the clipboard will be exactly what has been pasted in if the\nformula has not been edited."}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"other-improvements",children:"Other Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The default color mapping function now returns different values when used as a\nline color or as a background color. This improves the legibility of colors.\nSee\n",(0,l.jsx)(n.a,{href:"https://cortexjs.io/mathlive/guides/customizing/",children:"MathLive Guide: Customizing"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Paste operations are now undoable."}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"architecture-2",children:"Architecture"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Avoid generating unnecessary empty span for limits and other constructs."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Avoid repeating color attributes on child elements by lifting them to an\nappropriate parent. As a consequence, when a background color is applied it is\ndisplayed more uniformly than previously."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Reduced the size of the font-metrics table."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Increased the number of automated and static tests."}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-79",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The size and spacing of fractions in superscript did not match the TeX layout."}),"\n",(0,l.jsxs)(n.li,{children:["Correctly apply TeX inter-atom spacing rules as per TeXBook p. 270. The\nspacing of two consecutive binary atoms (e.g. ",(0,l.jsx)(n.code,{children:"+-"}),") was incorrect, as well as\nsome other combinations."]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly render ",(0,l.jsx)(n.code,{children:"\\sqrt"}),", ",(0,l.jsx)(n.code,{children:"\\placeholder"})," and many other atoms when a mathstyle\nis applied with commands such as ",(0,l.jsx)(n.code,{children:"\\textstyle"}),", ",(0,l.jsx)(n.code,{children:"\\scriptstyle"}),", etc..."]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly render selection rectangle of accent commands (",(0,l.jsx)(n.code,{children:"\\widehat"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["If a document called ",(0,l.jsx)(n.code,{children:"renderMathInDocument()"})," and the document contained a\nmathfield with a value that contained exclusively an environment, the\nmathfield would not render (the ",(0,l.jsx)(n.code,{children:"\\begin{}"})," would be incorrectly rendered by\n",(0,l.jsx)(n.code,{children:"renderMathInDocument()"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["When using ",(0,l.jsx)(n.code,{children:"renderMathInElement()"})," or ",(0,l.jsx)(n.code,{children:"renderMathInDocument()"})," use the same\ndefault ",(0,l.jsx)(n.code,{children:"letterShapeStyle"})," as when using a mathfield, that is, ",(0,l.jsx)(n.code,{children:"french"})," if the\nlocale is French, ",(0,l.jsx)(n.code,{children:"tex"})," otherwise."]}),"\n",(0,l.jsxs)(n.li,{children:["Fixed verbatim latex: when the value of the mathfield is set, if it is not\nmodified, ",(0,l.jsx)(n.code,{children:"getValue('latex')"})," will return exactly what was input."]}),"\n",(0,l.jsxs)(n.li,{children:["Fixed latex output of ",(0,l.jsx)(n.code,{children:"\\exponentialE"}),": when a superscript/subscript was\napplied to a macro, the latex output would become blank."]}),"\n",(0,l.jsx)(n.li,{children:"Math characters with a bold italic style were displayed in regular italic."}),"\n",(0,l.jsxs)(n.li,{children:["An input consisting of only ",(0,l.jsx)(n.code,{children:"\\scriptstyle"})," would crash."]}),"\n",(0,l.jsxs)(n.li,{children:["Allow navigation inside an empty ",(0,l.jsx)(n.code,{children:"skipBoundary"})," atom."]}),"\n",(0,l.jsx)(n.li,{children:"After a copy (command/control+C) command, the content of clipboard was\nincorrect if the end of the selection included some content in text mode."}),"\n",(0,l.jsxs)(n.li,{children:["When rendering a placeholder in static mode, use a non-breaking space instead\nof nothing, which helps preserve a more accurate layout in some cases (for\nexample in ",(0,l.jsx)(n.code,{children:"\\sqrt[\\placeholder{}}{x}"})]}),"\n",(0,l.jsxs)(n.li,{children:["Rules (e.g. from ",(0,l.jsx)(n.code,{children:"\\rule{}{}"}),") were not clickable and did not appear selected."]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly roundtrip ",(0,l.jsx)(n.code,{children:"\\char"})," command when using ",(0,l.jsx)(n.code,{children:"latex-expanded"})," format."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0631-2021-04-24",children:["0.63.1 ",(0,l.jsx)(n.em,{children:"2021-04-24"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-80",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["On the UK QWERTY keyboard, pressing the ",(0,l.jsx)(n.code,{children:"\\"})," key did not switch to LaTeX mode.\nThis key, although it looks like an ordinary key, is unique to the UK QWERTY\nkeyboard and distinct from the ",(0,l.jsx)(n.code,{children:"\\"})," on any other keyboard. Its official name is\n",(0,l.jsx)(n.code,{children:"IntlBackslash"}),", while the other, visually identical ",(0,l.jsx)(n.code,{children:"\\"})," key, is the\n",(0,l.jsx)(n.code,{children:"Backslash"})," key."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0630-2021-04-24",children:["0.63.0 ",(0,l.jsx)(n.em,{children:"2021-04-24"})]}),(0,l.jsx)(n.h3,{id:"new-features-19",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#788"})," Added ",(0,l.jsx)(n.code,{children:"virtualKeyboardState"})," property to indicate if the virtual\nkeyboard is currently visible or hidden. The property can also be modified to\nshow or hide the virtual keyboard."]}),"\n",(0,l.jsx)(n.li,{children:"In read-only mode, do not attempt to load the sounds and do not allow the\nvirtual keyboard to be shown."}),"\n",(0,l.jsxs)(n.li,{children:["Export ",(0,l.jsx)(n.code,{children:"version"})," (previously available as ",(0,l.jsx)(n.code,{children:"MathLive.version"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#199"})," Added ",(0,l.jsx)(n.code,{children:"infty"})," and ",(0,l.jsx)(n.code,{children:"int"})," inline shortcuts."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-81",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#708"})," Pressing on the bottom part of the virtual keyboard keycap did not\ntrigger the key action."]}),"\n",(0,l.jsx)(n.li,{children:"The asset directory (fonts/sounds) was not properly located in some browsers\nwhen using a CDN to load MathLive."}),"\n",(0,l.jsx)(n.li,{children:"Correctly focus the mathfield when the virtual keyboard is invoked."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0620-2021-04-23",children:["0.62.0 ",(0,l.jsx)(n.em,{children:"2021-04-23"})]}),(0,l.jsx)(n.h3,{id:"improvements-61",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#794"})," When a keycap on the virtual keyboard with associated alternate keys\nis long pressed, the other UI elements on the screen are ignored (a scrim\nelement is inserted behind the panel to capture events)."]}),"\n",(0,l.jsx)(n.li,{children:"On iPad OS prevent the document selection from being altered after\nlong-pressing an alternate key in some cases."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-82",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["A ",(0,l.jsx)(n.code,{className:"language-math math-inline",children:"\\chi_{13}"})," (0.1em) gap between the nucleus and the above element was\nmissing in ",(0,l.jsx)(n.code,{children:"OverUnder"})," atoms (",(0,l.jsx)(n.code,{children:"\\overset"}),", etc...)."]}),"\n",(0,l.jsx)(n.li,{children:"On Safari iOS, correctly display the keyboard toggle glyph."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#907"})," When using ",(0,l.jsx)(n.code,{children:"renderMathInElement()"})," or ",(0,l.jsx)(n.code,{children:"renderMathInDocument()"}),",\nformulas containing styling information would get too aggressively coalesced,\ndropping some styling."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#910"})," Fixed an issue introduced in 0.61.0 where some content would not get\nrendered when calling ",(0,l.jsx)(n.code,{children:"renderMathInElement()"})," or ",(0,l.jsx)(n.code,{children:"renderMathInDocument()"}),"."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0610-2021-04-22",children:["0.61.0 ",(0,l.jsx)(n.em,{children:"2021-04-22"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-16",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Some format options have been renamed:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Before"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Now"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:'"spoken-ssml-withHighlighting"'})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:'"spoken-ssml-with-highlighting"'})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:'"mathML"'})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:'"math-ml"'})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:'"ASCIIMath"'})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:'"ascii-math"'})})]})]})]}),"\n",(0,l.jsx)(n.p,{children:"The old spelling is still accepted at runtime but it has been deprecated and\nyou will be removed in a future update."}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-62",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"In many cases, the layout of the formula is closer to the TeX layout."}),"\n",(0,l.jsx)(n.li,{children:"Improved performance of hit testing, selection tracking and selection\nrendering for complex formulas."}),"\n",(0,l.jsxs)(n.li,{children:["Improved accuracy of hit-testing. Prevent children of elements with a\n",(0,l.jsx)(n.code,{children:"captureSelection"})," flag from being selectable."]}),"\n",(0,l.jsx)(n.li,{children:"More efficient rendering by generating simpler markup in some cases."}),"\n",(0,l.jsxs)(n.li,{children:["Dropped ",(0,l.jsx)(n.code,{children:"woff"})," fonts. This change should be transparent, as all supported\nbrowsers support ",(0,l.jsx)(n.code,{children:"woff2"})," at this point."]}),"\n",(0,l.jsxs)(n.li,{children:["Apply sizing commands (e.g. ",(0,l.jsx)(n.code,{children:"\\Huge"}),") to math mode. TeX is inconsistent in how\nit handles those. We choose to always apply them in math mode."]}),"\n",(0,l.jsxs)(n.li,{children:["Added support for ",(0,l.jsx)(n.code,{children:"dcases"})," environment: like ",(0,l.jsx)(n.code,{children:"cases"})," but in ",(0,l.jsx)(n.code,{children:"displaystyle"})," by\ndefault."]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly round trip ",(0,l.jsx)(n.code,{children:"\\mbox"})," by avoiding wrapping it with an unnecessary\n",(0,l.jsx)(n.code,{children:"\\text"})," command."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-20",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#898"}),". Setting the ",(0,l.jsx)(n.code,{children:"plonkSound"})," or ",(0,l.jsx)(n.code,{children:"keypressSound"})," option to ",(0,l.jsx)(n.code,{children:"null"})," will\nsuppress sound feedback."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"PR#905"}),". Added option to specify the container of the virtual keyboard.\nContributed by Dominik Jankovi\u0107 (",(0,l.jsx)(n.a,{href:"https://github.com/djankovic",children:"https://github.com/djankovic"}),"). Thanks,\nDominik!"]}),"\n",(0,l.jsxs)(n.li,{children:["Simplified the specification of virtual keyboards: the ",(0,l.jsx)(n.code,{children:"keycap"})," class no\nlonger needs to be specified for each keycap."]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"defaultMode"})," property or the ",(0,l.jsx)(n.code,{children:"default-mode"})," attribute can be set to a\nvalue of ",(0,l.jsx)(n.code,{children:"inline-math"})," to set the mathfield in inline math ",(0,l.jsx)(n.code,{children:"\\textstyle"})," by\ndefault."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-83",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Fixed LaTeX output of ",(0,l.jsx)(n.code,{children:"\\htmlData"}),", ",(0,l.jsx)(n.code,{children:"\\cssId"})," and ",(0,l.jsx)(n.code,{children:"\\class"})," commands."]}),"\n",(0,l.jsx)(n.li,{children:"Ignore commands that are only applicable in some modes when they are used in\nan incorrect mode."}),"\n",(0,l.jsxs)(n.li,{children:["Fixed styling of some characters, such as the ones from ",(0,l.jsx)(n.code,{children:"\\cdot"}),". The incorrect\nstyling resulted in incorrect measurement and vertical layout of some\ncharacters."]}),"\n",(0,l.jsxs)(n.li,{children:["Fixed rendering of ",(0,l.jsx)(n.code,{children:"\\ne"}),", ",(0,l.jsx)(n.code,{children:"\\neq"})," and ",(0,l.jsx)(n.code,{children:"\\not"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["When using ",(0,l.jsx)(n.code,{children:"renderMathInElement()"})," or ",(0,l.jsx)(n.code,{children:"renderMathInDocument()"})," do not\nduplicate the accessible node."]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly display ",(0,l.jsx)(n.code,{children:"e^x"})," and ",(0,l.jsx)(n.code,{children:"d/dx"})," in the ",(0,l.jsx)(n.code,{children:"functions"})," virtual keyboard"]}),"\n",(0,l.jsx)(n.li,{children:"Ensure the correct spacing around fractions."}),"\n",(0,l.jsx)(n.li,{children:"In Safari, the fonts would not load. This was a regression due to a change in\nthe behavior of the API to test if a font is loaded. Safari lies and always\nanswer yes (to prevent fingerprinting)."}),"\n",(0,l.jsxs)(n.li,{children:["Correctly parse the ",(0,l.jsx)(n.code,{children:"\\displaystyle"}),", ",(0,l.jsx)(n.code,{children:"\\textstyle"}),", ",(0,l.jsx)(n.code,{children:"\\scriptstyle"})," and\n",(0,l.jsx)(n.code,{children:"\\scriptscriptstyle"})," commands: they apply to the commands to their right."]}),"\n",(0,l.jsxs)(n.li,{children:["In a tabular environment (matrix, etc...) ",(0,l.jsx)(n.code,{children:"\\displaystyle"})," applies to the\ncurrent cell only (not the whole array)."]}),"\n",(0,l.jsxs)(n.li,{children:["Moving forward in a group with the ",(0,l.jsx)(n.code,{children:"skipBoundary"})," flag would not skip it."]}),"\n",(0,l.jsxs)(n.li,{children:["In a sequence of atoms with ",(0,l.jsx)(n.code,{children:"skipBoundary"}),", only the first one would be\nskipped."]}),"\n",(0,l.jsx)(n.li,{children:"In the virtual keyboard, some keycaps in the greek keyboard were displayed\nwith the system font instead of the TeX font."}),"\n",(0,l.jsxs)(n.li,{children:["The selection rectangle for ",(0,l.jsx)(n.code,{children:"\\int"})," now accounts for the slant of the symbol."]}),"\n",(0,l.jsxs)(n.li,{children:["When using ",(0,l.jsx)(n.code,{children:"convertLatexToMarkup()"})," or ",(0,l.jsx)(n.code,{children:"renderMathInDocument()"})," properly wrap\nthe generated atoms in a root atom. Without it, some atoms render differently\nin static mode than in interactive mode."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#654"})," Added ASCII Math output for tabular environments (array, matrix,\netc...)"]}),"\n",(0,l.jsx)(n.li,{children:"If the basefont of the mathfield was large (>48px) the virtual keyboard toggle\nbutton would not be vertically centered in the field."}),"\n",(0,l.jsxs)(n.li,{children:["Correctly layout superscripts after ",(0,l.jsx)(n.code,{children:"\\overset"})," (they are adjacent, not over,\nunlike ",(0,l.jsx)(n.code,{children:"\\overbrace"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"cases"})," environment should be in inline mode (",(0,l.jsx)(n.code,{children:"textstyle"}),") by default."]}),"\n",(0,l.jsxs)(n.li,{children:["Fixed keyboard navigation of ",(0,l.jsx)(n.code,{children:"\\overbrace"}),", ",(0,l.jsx)(n.code,{children:"\\underbrace"}),", etc..."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0601-2021-04-13",children:["0.60.1 ",(0,l.jsx)(n.em,{children:"2021-04-13"})]}),(0,l.jsx)(n.h3,{id:"new-features-21",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#793"}),". Added '%' inline shortcut"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-84",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#896"}),". Touch events were not properly detected on FireFox."]}),"\n",(0,l.jsxs)(n.li,{children:["When using the ",(0,l.jsx)(n.code,{children:"vite"})," bundler, the library location could not be determined\ncorrectly. As a result, the assets (fonts and sounds) could not be loaded when\nin their default location."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#864"})," Fixed layout of ",(0,l.jsx)(n.code,{children:"\\enclose{roundedbox}"})," and other variants."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#822"})," When using the Vue.js wrapper, the caret would jump to end of input\nfield when typing a character in the middle of the formula"]}),"\n",(0,l.jsxs)(n.li,{children:["When changing options with ",(0,l.jsx)(n.code,{children:"setOptions()"})," avoid changing the selection unless\nnecessary (react-mathlive issue #4)."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0600-2021-04-12",children:["0.60.0 ",(0,l.jsx)(n.em,{children:"2021-04-12"})]}),(0,l.jsx)(n.h3,{id:"breaking-change",children:"Breaking Change"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Renamed ",(0,l.jsx)(n.code,{children:"getCaretPosition()"})," and ",(0,l.jsx)(n.code,{children:"setCaretPosition()"})," to ",(0,l.jsx)(n.code,{children:"get/set caretPoint"}),"."]}),"\n",(0,l.jsx)(n.p,{children:'"Position" refers to where the caret/insertion point is, as an offset inside\nthe expression. These methods return client screen coordinates and the new\nname better reflect the correct terminology.'}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Removed deprecated (April 2019) method ",(0,l.jsx)(n.code,{children:"enterCommandMode()"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Replaced ",(0,l.jsx)(n.code,{children:"ignoreSpacebarInMathMode"})," option with ",(0,l.jsx)(n.code,{children:"mathModeSpace"}),". The\n",(0,l.jsx)(n.code,{children:"ignoreSpacebarInMathMode"})," was accidentally not working (",(0,l.jsx)(n.strong,{children:"#859"}),"). However,\nthe boolean form is problematic as an element attribute (it defaults to true,\nbut element attributes default to false). It has been replaced with\n",(0,l.jsx)(n.code,{children:"mathModeSpace"})," which is more flexible (you can specify which space to use)\nand doesn't have the issue of the default boolean value."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-22",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Support for ",(0,l.jsx)(n.em,{children:"iframes"}),". Multiple mathfields in a single document but in\ndifferent ",(0,l.jsx)(n.em,{children:"iframes"})," can now share a single virtual keyboard. In the main\ndocument, use:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"makeSharedVirtualKeyboard({\n  virtualKeyboardLayout: 'dvorak',\n});\n"})}),"\n",(0,l.jsxs)(n.p,{children:["And in the ",(0,l.jsx)(n.em,{children:"iframes"}),", use the ",(0,l.jsx)(n.code,{children:"use-shared-virtual-keyboard"})," attribute:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"<math-field use-shared-virtual-keyboard></math-field>\n"})}),"\n",(0,l.jsxs)(n.p,{children:["See ",(0,l.jsx)(n.code,{children:"examples/iframe"})," for more info."]}),"\n",(0,l.jsxs)(n.p,{children:["Contribution by ",(0,l.jsx)(n.a,{href:"https://github.com/alexprey",children:"https://github.com/alexprey"}),". Thanks!"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#555"})," Support for IME (Input Method Engines) for Japanese, Chinese, Korean\nand other complex scripts."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"applyStyle()"})," has now more options. Previously it always toggled the style of\nthe selection. Now it can either toggle or set the style, and modify the\nselection or a specific range."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#387"})," ",(0,l.jsx)(n.code,{children:"find()"})," method to search the fragments of an expression that match a\nLaTeX string or regular expression."]}),"\n",(0,l.jsx)(n.p,{children:"For example the following code snippet will add a yellow background to the\nfractions in the expression:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"mf.find(/^\\\\frac{[^}]*}{[^}]*}\\$/).forEach((x) => {\n  mf.applyStyle({ backgroundColor: 'yellow' }, x, {\n    suppressChangeNotifications: true,\n  });\n});\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#387"})," ",(0,l.jsx)(n.code,{children:"replace()"})," method to replace fragments of an expression."]}),"\n",(0,l.jsxs)(n.p,{children:["This method is similar to the ",(0,l.jsx)(n.code,{children:"replace()"})," method of the ",(0,l.jsx)(n.code,{children:"String"})," class. The\nsearch pattern can be specified using a string or regular expression, and the\nreplacement pattern can be a string or a function. If using a regular\nexpression, it can contain capture groups, and those can be references in the\nreplacement pattern."]}),"\n",(0,l.jsx)(n.p,{children:"The following snippet will invert fractions in a formula:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"mf.replace(/^\\\\frac{([^}]*)}{([^}]*)}$/, '\\\\frac{$2}{$1}');\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["New ",(0,l.jsx)(n.strong,{children:"LaTeX Mode"})]}),"\n",(0,l.jsxs)(n.p,{children:["This mode replaces the previous ",(0,l.jsx)(n.strong,{children:"Command Mode"}),". While the ",(0,l.jsx)(n.strong,{children:"Command Mode"}),"\n(triggered by pressing the ",(0,l.jsx)(n.strong,{children:"\\"})," or ",(0,l.jsx)(n.strong,{children:"ESC"}),' key) was only intended to insert\na single LaTeX command (e.g. "\\aleph"), the ',(0,l.jsx)(n.strong,{children:"LaTeX Mode"})," is a more\ncomprehensive LaTeX editing mode."]}),"\n",(0,l.jsxs)(n.p,{children:["To enter the ",(0,l.jsx)(n.strong,{children:"LaTeX Mode"}),", press the ",(0,l.jsx)(n.strong,{children:"ESC"})," key or the ",(0,l.jsx)(n.strong,{children:"\\"})," key. While in\nthis mode, a complex LaTeX expression can be edited. Press the ",(0,l.jsx)(n.strong,{children:"ESC"})," or\n",(0,l.jsx)(n.strong,{children:"Return"})," key to return to regular editing mode."]}),"\n",(0,l.jsxs)(n.p,{children:["To quickly peek at the LaTeX code of an expression, select it, then press\n",(0,l.jsx)(n.strong,{children:"ESC"}),". Press ",(0,l.jsx)(n.strong,{children:"ESC"})," again to return to the regular editing mode."]}),"\n",(0,l.jsxs)(n.p,{children:["To insert a command, press the ",(0,l.jsx)(n.strong,{children:"\\"})," key, followed by the command name. Press\nthe ",(0,l.jsx)(n.strong,{children:"TAB"})," key to accept a suggestion, then the ",(0,l.jsx)(n.strong,{children:"RETURN"})," key to return to\nregular editing mode (previously pressing the ",(0,l.jsx)(n.strong,{children:"TAB"})," key would have exited\nthe command mode)."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added ",(0,l.jsx)(n.code,{children:"soundsDirectory"})," option to customize the location of the sound files,\nsimilarly to ",(0,l.jsx)(n.code,{children:"fontsDirectory"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Enabled audio feedback by default."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#707"})," added support for ",(0,l.jsx)(n.code,{children:"\\begin{rcases}\\end{rcases}"})," (reverse ",(0,l.jsx)(n.code,{children:"cases"}),", with\nbrace trailing instead of leading)"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#730"})," added new CSS variables to control the height of the virtual\nkeyboard:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--keycap-height"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--keycap-font-size"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--keycap-small-font-size"})," (only if needed)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--keycap-extra-small-font-size"})," (only if needed)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--keycap-tt-font-size"})," (only if needed)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#732"})," Support for Dvorak keyboard layout"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Synchronize the virtual keyboard layout (QWERTY, AZERTY, etc...) with the\nphysical keyboard layout."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added ",(0,l.jsx)(n.code,{children:"\\htmlData"})," command, which takes as argument a comma-delimited string of\nkey/value pairs, e.g. ",(0,l.jsx)(n.code,{children:"\\htmlData{foo=green,bar=blue}"}),". A corresponding\n",(0,l.jsx)(n.code,{children:"data-foo"})," and ",(0,l.jsx)(n.code,{children:"data-bar"})," DOM attribute is generated to the rendered DOM."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-85",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#805"}),": exponent towers did not display correctly"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#857"}),": when a mathfield was in ",(0,l.jsx)(n.code,{children:"read-only"})," mode, it was still possible to\ndelete a portion of it by pressing the backspace key."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#818"}),': on iPad OS 14 and later, Safari pretends to be macOS ("Desktop\nMode"). This interfered with the handling of the MathLive virtual keyboard.']}),"\n",(0,l.jsx)(n.li,{children:"The selection in an expression could render incorrectly if it was displayed\nbefore the fonts were fully loaded. This situation is now handled correctly\nand the selection is redrawn when fonts finish loading."}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"typedText"})," selector dropped its options argument. As a result, the sound\nfeedback from the virtual keyboard only played for some keys."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#697"})," When using the ",(0,l.jsx)(n.code,{children:"<math-field>"})," element the command popover did not\ndisplay correctly."]}),"\n",(0,l.jsx)(n.li,{children:"Fixed issues with copy/paste. Copying from a text zone will copy the text (and\nnot a latex representation of it). Copy from a LaTeX zone now works."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#816"})," Fixed some issues with keybindings on some keyboards, such as Swiss\nGerman. The physical keyboard layout was not always recognized, and some\nkeybindings conflicted with each other."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-63",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Improved handling of paste commands: if a JSON item is on the clipboard it is\nused in priority, before a ",(0,l.jsx)(n.code,{children:"plain/text"})," item."]}),"\n",(0,l.jsxs)(n.li,{children:["It is now possible to type dead keys such as ",(0,l.jsx)(n.code,{children:"alt+e"}),", and they are properly\ndisplayed as a composition (side effect of the fix for ",(0,l.jsx)(n.strong,{children:"#555"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#807"})," Support for AZERTY keyboard layout on Linux."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"architecture-3",children:"Architecture"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Complete rewrite of selection handling."})}),"\n",(0,l.jsx)(n.p,{children:"This is mostly an internal change, but it will offer some benefits for new\ncapabilities in the public API as well."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Warning"}),": ",(0,l.jsx)(n.em,{children:"This is a very disruptive change, and there might be some edge\ncases that will need to be cleaned up."})]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.em,{children:"position"})," of the insertion point is no longer represented by a ",(0,l.jsx)(n.em,{children:"path"}),". It\nis now an ",(0,l.jsx)(n.em,{children:"offset"})," from the start of the expression, with each possible\ninsertion point position being assigned a sequential value."]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.em,{children:"selection"})," is no longer represented with a ",(0,l.jsx)(n.em,{children:"path"})," and a sibling-relative\n",(0,l.jsx)(n.em,{children:"offset"}),". It is now a ",(0,l.jsx)(n.em,{children:"range"}),", i.e. a start and end ",(0,l.jsx)(n.em,{children:"offset"}),". More precisely,\nthe selection is an array of ranges (to represent discontinuous selections,\nfor example a column in a matrix) and a direction."]}),"\n",(0,l.jsx)(n.p,{children:"These changes have these benefits:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The selection related code is more expressive and much simpler to read and\ndebug"}),"\n",(0,l.jsxs)(n.li,{children:["The code is also simpler to change so that changes in UI behavior are much\neasier to implement. There are several open issues that will be much easier\nto fix now. In particular, the ",(0,l.jsx)(n.code,{children:"onDelete"})," function now regroups all the\nspecial handling when pressing the ",(0,l.jsx)(n.strong,{children:"Backspace"})," and ",(0,l.jsx)(n.strong,{children:"Delete"})," keys."]}),"\n",(0,l.jsxs)(n.li,{children:["Instead of the esoteric paths, the concept of position as an offset is much\neasier to explain and understand, and can now be exposed in the public API.\nConsequently, new functionality can be exposed, such as the ",(0,l.jsx)(n.code,{children:"find()"})," method\nwhich returns its results as an array of ranges. It is also possible now to\nquery and change the current selection, and to apply styling to a portion of\nthe expression other than the selection."]}),"\n",(0,l.jsxs)(n.li,{children:["The selection is represented as an ",(0,l.jsx)(n.em,{children:"array"})," of ranges to support\ndiscontinuous selections, which are useful to select for example all the\ncells in the column of a matrix column. This kind of selection was not\npreviously possible."]}),"\n",(0,l.jsx)(n.li,{children:"Incidentally this fixes a circular dependency, which was a smell test that\nthere was a problem with the previous architecture."}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["On a historical note, the reason for the original implementation with paths\nwas based on the TeX implementation: when rendering a tree of atoms (which TeX\ncalls ",(0,l.jsx)(n.em,{children:"nodes"}),"), the TeX layout algorithm never needs to find the parent of an\natom. The MathLive rendering engine was implemented in the same way. However,\nfor interactive editing, being able to locate the parent of an atom is\nfrequently necessary. The paths were a mechanism to maintain a separate data\nstructure from the one needed by the rendering engine. However, they were a\ncomplex and clumsy mechanism. Now, a ",(0,l.jsx)(n.code,{children:"parent"})," property has been introduced in\ninstance of ",(0,l.jsx)(n.code,{children:"Atom"}),", even though it is not necessary for the rendering phase.\nIt does make the handling of the interactive manipulation of the formula much\neasier, though."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsxs)(n.strong,{children:["Changes to the handling of sentinel atoms (type ",(0,l.jsx)(n.code,{children:'"first"'}),")"]})}),"\n",(0,l.jsx)(n.p,{children:"This is an internal change that does not affect the public API."}),"\n",(0,l.jsxs)(n.p,{children:["Sentinel atoms are atoms of type ",(0,l.jsx)(n.code,{children:'"first"'}),' that are inserted as the first\nelement in atom branches. Their purpose is to simplify the handling of "empty"\nlists, for example an empty numerator or superscript.']}),"\n",(0,l.jsxs)(n.p,{children:["Previously, these atoms where added when an editable atom tree was created,\ni.e. in the ",(0,l.jsx)(n.code,{children:"editor"})," code branch, since they are not needed for pure\nrendering. However, this created situations where the tree had to be\n'corrected' by inserting missing ",(0,l.jsx)(n.code,{children:'"first"'}),". This code was complex and resulted\nin some unexpected operations having the side effect of modifying the tree."]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:'"first"'})," atoms are now created during parsing and are present in editable\nand non-editable atom trees."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Refactoring of Atom classes"})}),"\n",(0,l.jsx)(n.p,{children:"This is an internal change that does not affect the public API."}),"\n",(0,l.jsxs)(n.p,{children:["Each 'kind' of atom (fraction, extensible symbol, boxed expression, etc...) is\nnow represented by a separate class extending the ",(0,l.jsx)(n.code,{children:"Atom"})," base class (for\nexample ",(0,l.jsx)(n.code,{children:"GenfracAtom"}),"). Each of those classes have a ",(0,l.jsx)(n.code,{children:"render()"})," method that\ngenerates a set of DOM virtual nodes representing the Atom and a ",(0,l.jsx)(n.code,{children:"serialize()"}),"\nmethod which generates a LaTeX string representing the atom."]}),"\n",(0,l.jsx)(n.p,{children:"Previously the handling of the different kind of atoms was done procedurally\nand all over the code base. The core code is now much smaller and easier to\nread, while the specialized code specific to each kind of atom is grouped in\ntheir respective classes."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Unit testing using Jest snapshot"})}),"\n",(0,l.jsx)(n.p,{children:"Rewrote the unit tests to use Jest snapshots for more comprehensive\nvalidation."}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0590-2020-11-04",children:["0.59.0 ",(0,l.jsx)(n.em,{children:"2020-11-04"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-86",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#685"})," Virtual keyboard event listeners were not properly released when the\nmathfield was removed from the DOM"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0580-2020-10-11",children:["0.58.0 ",(0,l.jsx)(n.em,{children:"2020-10-11"})]}),(0,l.jsx)(n.h3,{id:"new-features-23",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#225"})," Added ",(0,l.jsx)(n.code,{children:"onCommit"})," listener to ",(0,l.jsx)(n.code,{children:"mf.options"}),". This listener is invoked\nwhen the user presses ",(0,l.jsx)(n.strong,{children:"Enter"})," or ",(0,l.jsx)(n.strong,{children:"Return"})," key, or when the field loses\nfocus and its value has changed since it acquired it. In addition, a ",(0,l.jsx)(n.code,{children:"change"}),"\nevent is triggered when using a ",(0,l.jsx)(n.code,{children:"MathfieldElement"}),". The event previously named\n",(0,l.jsx)(n.code,{children:"change"})," has been renamed to ",(0,l.jsx)(n.code,{children:"input"}),". This mimics the behavior of ",(0,l.jsx)(n.code,{children:"<input>"}),"\nand ",(0,l.jsx)(n.code,{children:"<textarea>"})," elements."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#225"})," Changed the keyboard shortcuts to add columns and rows:"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Shortcut"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Command"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)(n.strong,{children:"ctrl"}),"/",(0,l.jsx)(n.strong,{children:"cmd"})," + ",(0,l.jsx)(n.strong,{children:"Return"}),"/",(0,l.jsx)(n.strong,{children:"Enter"})]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"addRowAfter"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)(n.strong,{children:"ctrl"}),"/",(0,l.jsx)(n.strong,{children:"cmd"})," + ",(0,l.jsx)(n.strong,{children:"shift"})," + ",(0,l.jsx)(n.strong,{children:"Return"}),"/",(0,l.jsx)(n.strong,{children:"Enter"})]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"addRowBefore"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)(n.strong,{children:"ctrl"}),"/",(0,l.jsx)(n.strong,{children:"cmd"})," + ",(0,l.jsx)(n.strong,{children:";"})]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"addRowAfter"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)(n.strong,{children:"ctrl"}),"/",(0,l.jsx)(n.strong,{children:"cmd"})," + ",(0,l.jsx)(n.strong,{children:"shift"})," + ",(0,l.jsx)(n.strong,{children:";"})]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"addRowBefore"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)(n.strong,{children:"ctrl"}),"/",(0,l.jsx)(n.strong,{children:"cmd"})," + ",(0,l.jsx)(n.strong,{children:","})]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"addColumnAfter"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)(n.strong,{children:"ctrl"}),"/",(0,l.jsx)(n.strong,{children:"cmd"})," + ",(0,l.jsx)(n.strong,{children:"shift"})," + ",(0,l.jsx)(n.strong,{children:","})]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"addColumnBefore"})})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:["Note that ",(0,l.jsx)(n.strong,{children:"Enter"}),"/",(0,l.jsx)(n.strong,{children:"Return"})," no longer create a matrix/vector when inside a\nparenthesized expression. Use ",(0,l.jsx)(n.strong,{children:"ctrl/cmd"})," + ",(0,l.jsx)(n.strong,{children:"Return"}),"/",(0,l.jsx)(n.strong,{children:"Enter"})," instead."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added a ",(0,l.jsx)(n.code,{children:"commit"})," command to programmatically trigger the ",(0,l.jsx)(n.code,{children:"onCommit"})," listener\n",(0,l.jsx)(n.code,{children:"change"})," event."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added ",(0,l.jsx)(n.code,{children:"mount"})," and ",(0,l.jsx)(n.code,{children:"unmount"})," events to ",(0,l.jsx)(n.code,{children:"MathfieldElement"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"$text()"})," method, which is deprecated, was accidentally prematurely\nremoved. It has been added back."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-87",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Inline shortcuts would not always be triggered correctly, for example ",(0,l.jsx)(n.code,{children:"x=sin"}),"\n\u2192 ",(0,l.jsx)(n.code,{children:"x\\sin"})," instead of ",(0,l.jsx)(n.code,{children:"x=\\sin"})]}),"\n",(0,l.jsx)(n.li,{children:"The text in tooltip was not vertically centered in narrow layouts (mobile\ndevices)"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#668"})," Extensible symbols, such as ",(0,l.jsx)(n.code,{children:"\\xrightarrow"})," were incorrectly treated\nas if they had an invisible boundary, resulting in the cursor being positioned\nincorrectly when navigating with the keyboard."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0570-2020-10-09",children:["0.57.0 ",(0,l.jsx)(n.em,{children:"2020-10-09"})]}),(0,l.jsx)(n.h3,{id:"major-new-feature",children:"Major New Feature"}),(0,l.jsx)(n.p,{children:"This release introduce two major new features which will require code changes.\nFor now, the older API remains supported but it will be dropped in an upcoming\nrelease."}),(0,l.jsx)(n.h4,{id:"665-web-component",children:(0,l.jsx)(n.strong,{children:"#665: Web Component"})}),(0,l.jsxs)(n.p,{children:["Support for ",(0,l.jsx)(n.code,{children:"MathfieldElement"})," custom element/web component and ",(0,l.jsx)(n.code,{children:"<math-field>"}),"\ntag."]}),(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"makeMathField()"})," function is still supported, but it will be removed in an\nupcoming version. You should transition to using ",(0,l.jsx)(n.code,{children:"<math-field>"})," or\n",(0,l.jsx)(n.code,{children:"MathfieldElement"})," instead."]}),(0,l.jsx)(n.p,{children:"This transition require the following changes:"}),(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Create mathfields using ",(0,l.jsx)(n.code,{children:"MathfieldElement"})," or declaratively"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// Before\nlet mf = MathLive.makeMathField(document.createElement('div'), {\n  virtualKeyboardMode: 'manual',\n});\nmf.$latex('f(x) = \\\\sin x');\ndocument.body.appendChild(mf.$el());\n\n// After\nlet mfe = new MathfieldElement({\n  virtualKeyboardMode: 'manual',\n});\nmfe.value = 'f(x) = \\\\sin x';\ndocument.body.appendChild(mfe);\n"})}),(0,l.jsx)(n.p,{children:"or:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<math-field virtual-keyboard-mode="manual">f(x) = \\sin x</math-field>\n'})}),(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"Use events instead of callbacks"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"    // Before\n    mf.setConfig({ onContentDidChange: (mf) => {\n        console.log(mf.$latex())\n    });\n\n    // After\n    mfe.addEventListener('input', (ev) => {\n        console.log(mfe.value);\n    });\n"})}),(0,l.jsx)(n.h4,{id:"667-modernized-public-api",children:(0,l.jsx)(n.strong,{children:"#667 Modernized Public API"})}),(0,l.jsx)(n.p,{children:"Support for web component is an opportunity to revisit the MathLive public API\nand modernize it."}),(0,l.jsx)(n.p,{children:"The goals are:"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["clarity. For example, the ",(0,l.jsx)(n.code,{children:"$latex()"})," can be used to read or change the content\nof the mathfield."]}),"\n",(0,l.jsxs)(n.li,{children:["expressiveness. For example, ",(0,l.jsx)(n.code,{children:"$selectedText()"})," can return the value of the\nselection, but there is no way to inspect (or save/restore) the selection."]}),"\n",(0,l.jsxs)(n.li,{children:["consistency with web platform APIs when applicable, otherwise following the\n",(0,l.jsx)(n.a,{href:"https://github.com/Microsoft/monaco-editor/blob/master/monaco.d.ts",children:(0,l.jsx)(n.strong,{children:"monaco"})}),"\n(VSCode editor) or\n",(0,l.jsx)(n.a,{href:"https://codemirror.net/doc/manual.html#api",children:(0,l.jsx)(n.strong,{children:"CodeMirror"})})," conventions\nprimarily. As part of this proposal, the APIs of ",(0,l.jsx)(n.strong,{children:"TinyMCE"}),", ",(0,l.jsx)(n.strong,{children:"CKEditor"})," and\n",(0,l.jsx)(n.strong,{children:"QuillJS"})," were also considered. For example, the method equivalent to\n",(0,l.jsx)(n.code,{children:"getConfig()"})," is called ",(0,l.jsx)(n.code,{children:"getOptions()"})," in most Javascript text editor\nlibraries."]}),"\n"]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Mathfield methods"})}),(0,l.jsxs)(n.p,{children:["The following ",(0,l.jsx)(n.code,{children:"Mathfield"})," methods have been renamed as indicated:"]}),(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Before"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"After"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$setConfig()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"setOptions()"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"getConfig()"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)(n.code,{children:"getOptions()"})," and ",(0,l.jsx)(n.code,{children:"getOption()"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$text()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"getValue()"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$latex()"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)(n.code,{children:"value"}),", ",(0,l.jsx)(n.code,{children:"getValue()"})," and ",(0,l.jsx)(n.code,{children:"setValue()"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$insert()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"insert()"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$hasFocus()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"hasFocus()"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$focus()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"focus()"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$blur()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"blur()"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$selectedText()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.getValue(mf.selection)"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$selectionIsCollapsed()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.selection[0].collapsed"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$selectionDepth()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.selection[0].depth"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$selectionAtStart()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.position === 0"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$selectionAtEnd()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"mf.position === mf.lastPosition"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$select()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"select()"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$clearSelection()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"executeCommand('delete-backward')"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$keystroke()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"executeCommand()"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$typedText()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"executeCommand('typed-text')"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$perform()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"executeCommand()"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$revertToOriginalContent()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"n/a"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"$el()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"n/a"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"n/a"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"selection"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"n/a"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"position"})})]})]})]}),(0,l.jsxs)(n.p,{children:['The methods indicated with "n/a" in the ',(0,l.jsx)(n.strong,{children:"After"})," column have been dropped."]}),(0,l.jsxs)(n.p,{children:["Only the new methods are available on ",(0,l.jsx)(n.code,{children:"MathfieldElement"})," (i.e. when using web\ncomponents). The ",(0,l.jsx)(n.code,{children:"Mathfield"})," class retains both the old methods and the new ones\nto facilitate the transition, but the old ones will be dropped in an upcoming\nversion."]}),(0,l.jsxs)(n.p,{children:["There is also a new ",(0,l.jsx)(n.code,{children:"selection"})," property on ",(0,l.jsx)(n.code,{children:"Mathfield"})," and ",(0,l.jsx)(n.code,{children:"MathfieldElement"}),"\nwhich can be used to inspect and change the selection and a ",(0,l.jsx)(n.code,{children:"position"})," property\nto inspect and change the insertion point (caret)."]}),(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"getValue()"})," method also now take an (optional) ",(0,l.jsx)(n.code,{children:"Range"}),", which is the type\nof the ",(0,l.jsx)(n.code,{children:"selection"})," property, to extract a fragment of the expression."]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Default Exports"})}),(0,l.jsx)(n.p,{children:"While default exports have the benefits of expediency, particularly when\nconverting an existing code base to ES Modules, they are problematic for\neffective tree shaking. Therefore the default export will be eliminated."}),(0,l.jsx)(n.p,{children:"This means that instead of:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"import MathLive from 'mathlive';\nMathLive.renderMathInDocument();\n"})}),(0,l.jsx)(n.p,{children:"you will need to use:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"import { renderMathInDocument } from 'mathlive';\nrenderMathInDocument();\n"})}),(0,l.jsx)(n.p,{children:"The following functions have been renamed:"}),(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Before"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"After"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathLive.latexToAST()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Use MathJSON"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathLive.latexToMarkup()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"convertLatexToMarkup()"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathLive.latexToMathML()"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"convertLatexToMathMl()"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"MathLive.latexToSpeakableText()"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)(n.code,{children:"convertLatexToSpeakableText("}),")"]})]})]})]}),(0,l.jsx)(n.h3,{id:"new-features-24",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#101"}),": added ",(0,l.jsx)(n.code,{children:"getCaretPosition()"})," and ",(0,l.jsx)(n.code,{children:"setCaretPosition()"})]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-64",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The Typescript types for ",(0,l.jsx)(n.code,{children:"Selector"})," has been improved"]}),"\n",(0,l.jsxs)(n.li,{children:["The Typescript type for ",(0,l.jsx)(n.code,{children:"getOptions()"})," (",(0,l.jsx)(n.code,{children:"getConfig()"}),") are more accurate"]}),"\n",(0,l.jsx)(n.li,{children:'The "sqrt" inline shortcut now inserts an argument'}),"\n",(0,l.jsxs)(n.li,{children:["Don't throw an error if the first argument of ",(0,l.jsx)(n.code,{children:"\\enclose"})," is empty"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#591"}),": add ",(0,l.jsx)(n.code,{children:"upward"})," and ",(0,l.jsx)(n.code,{children:"downward"})," hooks when navigating out of the\nmathfield (now also sent as a ",(0,l.jsx)(n.code,{children:"focus-out"})," event)"]}),"\n",(0,l.jsx)(n.li,{children:"Improved layout of the virtual keyboard on narrow mobile devices (fill the\navailable width)."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-88",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#198"}),": typing backspace while typing inline shortcuts would prevent the\nshortcuts from being recognized"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#573"}),": brackets were not properly styled (i.e. color applied to them)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#543"}),": spurious focus/blur events were dispatched if ",(0,l.jsx)(n.code,{children:"tabIndex"})," was set to\n0 on the mathfield and some area of the mathfield were clicked on. The issue\nwas that with ",(0,l.jsx)(n.code,{children:'tabIndex="0"'})," the mathfield frame would be focusable and when\nthat happened the focus would correctly switch to the invisible ",(0,l.jsx)(n.code,{children:"<textarea>"}),"\nelement which is normally focused to receive keyboard events, but this\ngenerated an incorrect ",(0,l.jsx)(n.code,{children:"blur"})," event (for the container losing focus) and an\nincorrect ",(0,l.jsx)(n.code,{children:"focus"})," event (for the ",(0,l.jsx)(n.code,{children:"<textarea>"})," gaining focus)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#599"}),': some characters, for example "\xfc", would not be correctly parsed or\ndisplayed. Note that technically, those characters are ignored by TeX, but\nit\'s a reasonable behavior nowadays to accept them as input.']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#628"}),': typing "e" repeatedly inside a matrix would corrupt the emitted']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#637"}),": in Chrome, thin lines, such as fraction bars or square root lines\nwould not display at some zoom levels"]}),"\n",(0,l.jsx)(n.li,{children:"The locale was not properly taking into account when it was set manually"}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"config.strings"})," property did not reflect the state of the localization\nstrings"]}),"\n",(0,l.jsx)(n.li,{children:"When configs was updated (e.g. new macros added), the content of the mathfield\nwas not properly re-parsed and rendered"}),"\n",(0,l.jsx)(n.li,{children:"When making the virtual keyboard visible, the mathfield would not be focused"}),"\n",(0,l.jsx)(n.li,{children:"The virtual keyboard would not display correctly when the mathfield was inside\na shadow DOM"}),"\n"]}),(0,l.jsx)(n.h3,{id:"special-thanks",children:"Special Thanks"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Thanks to ",(0,l.jsx)(n.code,{children:"@stefnotch"})," for contributing several of the improvements in this\nrelease"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0560-2020-08-22",children:["0.56.0 ",(0,l.jsx)(n.em,{children:"2020-08-22"})]}),(0,l.jsx)(n.h3,{id:"new-features-25",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added support for ",(0,l.jsx)(n.code,{children:"\\phantom"}),", ",(0,l.jsx)(n.code,{children:"\\vphantom"}),", ",(0,l.jsx)(n.code,{children:"\\hphantom"})," and ",(0,l.jsx)(n.code,{children:"\\smash[]"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#182"})," Added support for the mhchem package, with the commands ",(0,l.jsx)(n.code,{children:"\\ce"})," and\n",(0,l.jsx)(n.code,{children:"\\pu"}),", to display chemical equations"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0550-2020-08-17",children:["0.55.0 ",(0,l.jsx)(n.em,{children:"2020-08-17"})]}),(0,l.jsx)(n.h3,{id:"new-features-26",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"WebPack issues workaround and font loading configuration"})}),"\n",(0,l.jsxs)(n.p,{children:["Follow up to ",(0,l.jsx)(n.strong,{children:"#508"}),". The fonts can now be loaded either statically or\ndynamically."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"dynamic loading"})," by default, the fonts will get loaded programmatically\nwhen they are needed and the rendering will be deferred until the fonts are\navailable to avoid unnecessary redrawing. Use this technique if you have a\nsimple build/bundle workflow. You can still customize the relative path to\nthe fonts folder using the ",(0,l.jsx)(n.code,{children:"fontsDirectory"})," configuration option."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"static loading"})," include the ",(0,l.jsx)(n.code,{children:"mathlive-fonts.css"})," stylesheet in your page.\nThe loading of this file will trigget the font to be loaded asynchronously\nby the browser. Use this technique if you are using WebPack or have a\nbuild/bundle workflow that renames the font files or in general require the\nbundler to know about the required assets."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"New packaging options"}),". The distribution files have been split between\nminified and non-minified version. In the more common cases, the minified\nversion (",(0,l.jsx)(n.code,{children:"mathlive.min.js"})," and ",(0,l.jsx)(n.code,{children:"mathlive.min.mjs"})," should be used). The\nnon-minified version (",(0,l.jsx)(n.code,{children:"mathlive.js"})," and ",(0,l.jsx)(n.code,{children:"mathlive.mjs"})," can be used to help in\ndebugging issues or to apply patches)."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-89",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The fonts failed to load when loading MathLive using a ",(0,l.jsx)(n.code,{children:"<script>"})," tag and a\nCDN. The fonts folder is now resolved correctly with the following\nconfigurations:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<script>"})," tag and CDN"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<script>"})," tag and local file"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"import"})," and CDN"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"import"})," and local file"]}),"\n"]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0540-2020-06-24",children:["0.54.0 ",(0,l.jsx)(n.em,{children:"2020-06-24"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-90",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#490"})," Firefox does not load fonts There is a bug in Firefox\n(",(0,l.jsx)(n.a,{href:"https://bugzilla.mozilla.org/show_bug.cgi?id=1252821",children:"https://bugzilla.mozilla.org/show_bug.cgi?id=1252821"}),") where the status of\nfonts is reported incorrectly."]}),"\n",(0,l.jsx)(n.p,{children:"Implemented a workaround by always loading fonts in Firefox."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#506"})," Chrome was outputing a harmless warning about passive event\nlisteners. The warning has been silenced."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#505"})," Chrome was outputing a harmless warning about passive event\nlisteners. The warning has been silenced with extreme prejudice."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#503"})," Dynamic styles were not applied inside of shadow DOM"]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0533-2020-06-24",children:["0.53.3 ",(0,l.jsx)(n.em,{children:"2020-06-24"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-91",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#504"}),' "Spacing is inconsistent after editing"']}),"\n",(0,l.jsx)(n.p,{children:'The spacing of operators should be adjusted depending on what\'s around them:\nthere is less space after a "-" sign when used as an infix operator than there\nis around a "-" sign used as a prefix operator (i.e. "-4" vs "3-4").'}),"\n",(0,l.jsx)(n.p,{children:'The code that was handling this was accounting for it by modifying the type of\nthe element. This worked well enough for static rendering, but for dynamic\nrendering (i.e. editing), once modified the previous type of the element was\nlost and could not be restored (i.e. after deleting the atom in front of a "-"\nsign, the "-" was no longer a binary operator but a regular symbol).'}),"\n",(0,l.jsx)(n.p,{children:"This is now handled during layout without modifying the type of the element."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Workaround for a Safari bug where in some cases the caret would not blink."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#505"})," More consistent spacing between elements. Previously some Unicode\nmath spacing characters were used. However, these characters are not rendered\nconsistently. Switched to using CSS margins instead."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The LaTeX generated for a ",(0,l.jsx)(n.code,{children:"\\left"})," command with another command as a fence was\nlacking a space, e.g. ",(0,l.jsx)(n.code,{children:"\\left\\lbracka\\right\\rbrack"})," instead of\n",(0,l.jsx)(n.code,{children:"\\left\\lbrack a\\right\\rbrack"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Smart fence for square brackets was not working correctly."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:'Fixed smartmode to avoid converting a decimal point to text when entering,\ne.g. "314.1576"'}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"The alt/option+V shortcut now correctly inserts a placeholder in the square\nroot"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:'The "\\arcos" function was incorrectly spelled "\\arccos".'}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-feature-1",children:"New Feature"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#508"})," In order to better support some deployment configurations, added a\n'mathlive-fonts.css' file to the distribution package."]}),"\n",(0,l.jsx)(n.p,{children:"This is intended to be used by build/bundle environments that have an asset\npipeline that can move/rename assets, including the font-files"}),"\n",(0,l.jsxs)(n.p,{children:["Note that this method is ",(0,l.jsx)(n.strong,{children:"not"})," recommended. It will result in some cases\nwhere the layout is incorrect until the page is reloaded (especially for\nformulas using large symbols such as integrals or large parentheses)."]}),"\n",(0,l.jsx)(n.p,{children:"To use it, add the following to the web pages using MathLive:"}),"\n"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<link rel="stylesheet" href="dist/mathlive-fonts.css" />\n'})}),(0,l.jsxs)(n.h2,{id:"0532-2020-06-10",children:["0.53.2 ",(0,l.jsx)(n.em,{children:"2020-06-10"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-92",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Adjusted height of square root (there was some extra blank space above)"}),"\n",(0,l.jsx)(n.li,{children:"Ensure that the 'dt' inline shortcut does not trigger when writing \"width\" (it\nshould only apply in the math mode)"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#492"}),' Typing "/" to insert as fraction when some items were selected would\nresult in an erroneous output.']}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0531-2020-06-01",children:["0.53.1 ",(0,l.jsx)(n.em,{children:"2020-06-01"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-93",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["In the virtual keyboard, use ",(0,l.jsx)(n.code,{children:"\\scriptstyle"})," to display small symbols"]}),"\n",(0,l.jsx)(n.li,{children:"Better vertical alignment of extensible arrows"}),"\n",(0,l.jsxs)(n.li,{children:["Don't display a double caret after a ",(0,l.jsx)(n.code,{children:"\\leftright"})]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0530-2020-05-31",children:["0.53.0 ",(0,l.jsx)(n.em,{children:"2020-05-31"})]}),(0,l.jsx)(n.h3,{id:"breaking-change--new-feature",children:"Breaking Change / New Feature"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#158"})," The CSS files ",(0,l.jsx)(n.code,{children:"mathlive.css"})," and ",(0,l.jsx)(n.code,{children:"mathlive.core.css"})," have been\ndeprecated and removed from the distribution."]}),"\n",(0,l.jsx)(n.p,{children:"The necessary CSS is now injected dynamically into the page. This simplifies\nthe use of the library, but also reduces the amount of CSS in the page,\npotentially improving performance. That's particularly the case when the\nvirtual keyboard is not used, as the CSS stylesheet for the virtual keyboard\nis substantial, and it is now injected only when the keyboard is used."}),"\n",(0,l.jsx)(n.p,{children:"To transition, you should remove from your code any instance of:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<link rel="stylesheet" href="mathlive.core.css" type="text/css" />\n<link rel="stylesheet" href="mathlive.css" type="text/css" />\n'})}),"\n",(0,l.jsx)(n.p,{children:"(the path to your CSS file may be different)."}),"\n",(0,l.jsxs)(n.p,{children:["You may need to specify the location of the 'fonts' directory. By default, the\n'fonts' directory is expected to be next to the 'mathlive.js', 'mathlive.mjs'\nfile. If you need to copy the 'fonts' directory to a different location,\nspecify it using the ",(0,l.jsx)(n.code,{children:"Config.fontsDirectory"})," option. It should be either a\nrelative path or a full URL pointing to the directory that contains the fonts.\n(Fix for ",(0,l.jsx)(n.strong,{children:"#425"}),")"]}),"\n",(0,l.jsxs)(n.p,{children:["You no longer need to manually specify the stylesheets when using\n",(0,l.jsx)(n.code,{children:"renderMathInElement()"})," or ",(0,l.jsx)(n.code,{children:"renderMathInDocument()"})," either. The necessary\nstylesheet will get injected in the document as needed. Note that this\nstylesheet for these functions is smaller than the stylesheet used when the\neditor is in use. These two functions also gain a property to specify the\nlocation of the 'fonts' directory, if necessary (by default, the 'fonts'\ndirectory is expected to be next to the 'mathlive.js', 'mathlive.mjs' file.)"]}),"\n",(0,l.jsxs)(n.p,{children:["In some rare cases, you may have used the CSS stylesheet without the MathLive\nlibrary, for example, after you may have saved the output of ",(0,l.jsx)(n.code,{children:"latexToMarkup()"}),"\nto a database and use it to render later in a page. In that case, you would\nneed to use the CSS stylesheet ",(0,l.jsx)(n.code,{children:"dist/mathlive-static.css"}),", which is suitable\nfor this use case. Note that it does reference a 'fonts' folder that may need\nto be adjusted. By default, the ",(0,l.jsx)(n.code,{children:"fonts"})," folder should be placed next to the\nstylesheet. If you need a different location when using the static stylesheet,\nyou will need to modify it."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#425"})," Added CSS variable ",(0,l.jsx)(n.code,{children:"--ML_keyboard-zindex"})," to control the zindex of\nthe virtual keyboard."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Add support for ",(0,l.jsx)(n.code,{children:"^^"})," and ",(0,l.jsx)(n.code,{children:"^^^^"})," constructs in LaTeX. See TexBook p. 56:"]}),"\n",(0,l.jsx)(n.p,{children:"There\u2019s also a special convention in which ^^ is followed by two\n\u201clowercase hexadecimal digits,\u201d 0\u20139 or a\u2013f. With this convention, all 256 characters are\nobtainable in a uniform way, from ^^00 to ^^ff. Character 127 is ^^7f."}),"\n",(0,l.jsxs)(n.p,{children:["XeTeX extends this convention with ",(0,l.jsx)(n.code,{children:"^^^^"})," for four-digit Unicode characters."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added support for more TeX primitives, including ",(0,l.jsx)(n.code,{children:"\\string"}),", ",(0,l.jsx)(n.code,{children:"\\csname"}),",\n",(0,l.jsx)(n.code,{children:"\\endcsname"}),", ",(0,l.jsx)(n.code,{children:"\\obeyspaces"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Improved the handling of parameters (e.g. ",(0,l.jsx)(n.code,{children:"#1"}),") to more accurately match the\nTeX behavior (previously parameters could only substitute for an entire\nargument, i.e. ",(0,l.jsx)(n.code,{children:"{#1}"}),"). They are now handled by replacing their value with\ntheir corresponding tokens."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added support for ",(0,l.jsx)(n.code,{children:"\\laplace"})," and ",(0,l.jsx)(n.code,{children:"\\Laplace"})," symbols"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-94",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#469"})," The keyboard layout on Linux was not detected correctly, resulting in\nsome keys (such as arrows and backspace) not working correctly."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:['Integers in a LaTeX stream would not always be parsed correctly. As per the\nTeXBook, an integer can be preceded by an arbitrary number of "+", "-" or\nwhitespace characters, so ',(0,l.jsx)(n.code,{children:'\\char -+ +- "4A'})," is valid and equivalent to\n",(0,l.jsx)(n.code,{children:'\\char"4A'})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:['Integers in a latex stream specified with a backtick ("alphabetic constant")\nwould not be parsed correctly. Now ',(0,l.jsx)(n.code,{children:"\\char`A"})," gives the expected result\n(",(0,l.jsx)(n.code,{children:"A"}),")."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Consecutive whitespace where not always coalesced."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"The bounding box of the initial selection (before the 'first' atom was\ninserted) was incorrect."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The sizing commands (",(0,l.jsx)(n.code,{children:"\\huge"}),", ",(0,l.jsx)(n.code,{children:"\\small"}),", ",(0,l.jsx)(n.code,{children:"\\tiny"}),", etc...) should not apply in\n'math' mode."]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"052-2020-05-23",children:["0.52 ",(0,l.jsx)(n.em,{children:"2020-05-23"})]}),(0,l.jsx)(n.h3,{id:"new-feature-2",children:"New Feature"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Support for\n",(0,l.jsx)(n.a,{href:"https://w3c.github.io/webappsec-trusted-types/dist/spec/",children:"Trusted Types"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["A new option in ",(0,l.jsx)(n.code,{children:"Config"}),", ",(0,l.jsx)(n.code,{children:"createHTML"}),", is called before injecting HTML into\nthe page, providing an opportunity to sanitize the markup according to a\npolicy set by the host"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-65",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Move some of the Mathematica inspired command (e.g. ",(0,l.jsx)(n.code,{children:"\\differentialD"}),",\n",(0,l.jsx)(n.code,{children:"doubleStruckCapitalN"}),", etc...) to be macros instead of built-in commands.\nThis will allow them to be properly expanded during copy/paste operations for\nimproved interoperability"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["When an invalid keybinding is encountered, the ",(0,l.jsx)(n.code,{children:"onError"})," listener is now\ninvoked with an error code of ",(0,l.jsx)(n.code,{children:"invalid-keybinding"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Added support for German keyboard layout."}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-95",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"The Undo and Redo button in the virtual keyboard did not change their state\nappropriately given the state of the undo stack."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["'overunder': The superscript and subscript after an 'overunder' atom (e.g.\n",(0,l.jsx)(n.code,{children:"\\overbrace"}),") did not display correctly (above or below the brace). The\n'overunder' atom would also not display correctly if the width of the atom was\nbelow a minimal threshold."]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0510-2020-05-19",children:["0.51.0 ",(0,l.jsx)(n.em,{children:"2020-05-19"})]}),(0,l.jsx)(n.h3,{id:"new-features-27",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#450"})," Custom keybindings. A keybinding (also called keyboard shortcut)\nassociate a keystroke combination on a physical keyboard with a command.\nMathLive previously had some built-in keybindings, but now they can be\nextended or replaced."]}),"\n",(0,l.jsxs)(n.p,{children:["See ",(0,l.jsx)(n.code,{children:"config.keybindings"})," and ",(0,l.jsx)(n.code,{children:"Keybinding"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added ",(0,l.jsx)(n.code,{children:"setKeyboardLayout()"})," and ",(0,l.jsx)(n.code,{children:"setKeyboardLayoutLocale()"})," functions to\ncustomize the current physical keyboard layout"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-66",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#461"})," The array editing commands only worked in math mode. They now apply\nin text mode as well"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#459"}),": Add a placeholder for incomplete commands, for example entering\n",(0,l.jsx)(n.code,{children:"\\frac"})," in command mode"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added some missing commands: ",(0,l.jsx)("del",{children:(0,l.jsx)(n.code,{children:"deleteNextChar"})})," ",(0,l.jsx)(n.code,{children:"deleteForward"}),",\n",(0,l.jsx)("del",{children:(0,l.jsx)(n.code,{children:"deletePreviousChar"})})," ",(0,l.jsx)(n.code,{children:"deleteBackward"}),", ",(0,l.jsx)(n.code,{children:"deleteNextWord"}),",\n",(0,l.jsx)(n.code,{children:"deletePreviousWord"}),", ",(0,l.jsx)(n.code,{children:"deleteToGroupStart"}),", ",(0,l.jsx)(n.code,{children:"deleteToGroupEnd"}),",\n",(0,l.jsx)(n.code,{children:"deleteToMathFieldEnd"}),", ",(0,l.jsx)(n.code,{children:"moveToSubscript"}),", ",(0,l.jsx)(n.code,{children:"applyStyle"}),",\n",(0,l.jsx)(n.code,{children:"toggleVirtualKeyboard"}),", ",(0,l.jsx)(n.code,{children:"hideVirtualKeyboard"}),", ",(0,l.jsx)(n.code,{children:"showVirtualKeyboard"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"In some cases, the top of the placeholder character could be cut off"}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-96",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"The Read Aloud feature would not work when a Neural Engine AWS voice was used\n(such as Joana or Matthew)"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["In the Vue wrapper, the ",(0,l.jsx)(n.code,{children:"onKeystroke"})," handler would error"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Styling (applying color, style) was disabled. This also affected mode change\n(i.e. alt+= to switch between text and math mode)"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"After completing a command in command mode (i.e. pressing the return key), the\nmode did not switch not math mode and remained in command mode."}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0508-2020-05-13",children:["0.50.8 ",(0,l.jsx)(n.em,{children:"2020-05-13"})]}),(0,l.jsx)(n.h3,{id:"improvements-67",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The Symbols keyboard is now a top-level keyboard. Previously it was accessible\nonly from the Roman keyboard"}),"\n",(0,l.jsxs)(n.li,{children:["Added some standard LaTeX commands: ",(0,l.jsx)(n.code,{children:"\\inf"}),", ",(0,l.jsx)(n.code,{children:"\\Pr"}),", ",(0,l.jsx)(n.code,{children:"\\liminf"}),", ",(0,l.jsx)(n.code,{children:"\\limsup"})]}),"\n",(0,l.jsxs)(n.li,{children:["Added inline shortcuts for some commands: ",(0,l.jsx)(n.code,{children:"sinh"}),", ",(0,l.jsx)(n.code,{children:"cosh"}),", ",(0,l.jsx)(n.code,{children:"sec"}),", ",(0,l.jsx)(n.code,{children:"csc"}),", ",(0,l.jsx)(n.code,{children:"cot"}),",\n",(0,l.jsx)(n.code,{children:"arcsin"}),", ",(0,l.jsx)(n.code,{children:"arccos"}),", ",(0,l.jsx)(n.code,{children:"arctan"})]}),"\n",(0,l.jsxs)(n.li,{children:["When generating LaTeX output, only insert spaces when necessary (i.e. after\ncommands that are followed by a letter). Conversely, ",(0,l.jsx)(n.em,{children:"always"})," generate the\nspace when necessary (",(0,l.jsx)(n.code,{children:"\\rbrack a"})," would generate ",(0,l.jsx)(n.code,{children:"\\rbracka"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"Minor rendering performance improvement"}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-97",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:'The absolute value character "|" (and other small delimiters) would be\ndisplayed in the wrong font (and too small)'}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"The absolute value key from the virtual keyboard would insert '|#@|'"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"The 'sqrt' key from the virtual keyboard or keyboard shortcut (option+V) would\ndo nothing. The problem affected any inline shortcut or key that included a\n'#0' argument when there was no selection"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Fixed an issue with long inline shortcuts that could trigger text mode (e.g.\n'arcsin') and never apply the inline shortcut"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Do not trigger smart mode conversion with arrow keys"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Fixed an issue on iOS 12 and Firefox/Android where the mathfield could not be\nfocused (fix contributed by (",(0,l.jsx)(n.a,{href:"https://github.com/beneater",children:"https://github.com/beneater"}),")"]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0507-2020-05-11",children:["0.50.7 ",(0,l.jsx)(n.em,{children:"2020-05-11"})]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Fix #448"}),': Fix an issue where the "^" keyboard shortcut would not work']}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0506-2020-05-11",children:["0.50.6 ",(0,l.jsx)(n.em,{children:"2020-05-11"})]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Fix date stamping of declaration files"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0505-2020-05-10",children:["0.50.5 ",(0,l.jsx)(n.em,{children:"2020-05-10"})]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Fix #311"})," Before making a build, check the correct version of node and npm\nare installed"]}),"\n",(0,l.jsx)(n.li,{children:"Make the build system work better on Windows"}),"\n",(0,l.jsx)(n.li,{children:"Do not update /dist on each push"}),"\n",(0,l.jsx)(n.li,{children:"When using a UMD module, do not export 'default'"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0504-2020-05-09",children:["0.50.4 ",(0,l.jsx)(n.em,{children:"2020-05-09"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-98",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Fix #444"}),' The "x^2" key in the virtual keyboard did not work as expected.']}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-68",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Updated the build system to automatically add the lastest entry from the\nCHANGELOG to the GitHub release note."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0503-2020-05-08",children:["0.50.3 ",(0,l.jsx)(n.em,{children:"2020-05-08"})]}),(0,l.jsx)(n.h3,{id:"new-features-28",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added a ",(0,l.jsx)(n.code,{children:"MathLive.version"})," string"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0502-2020-05-07",children:["0.50.2 ",(0,l.jsx)(n.em,{children:"2020-05-07"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-99",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Fixed an issue with rendering of MathML"}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-69",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Added additional contextual information to the parser error message. Detect\nmore errors."}),"\n"]}),(0,l.jsx)(n.h3,{id:"breaking-change-1",children:"Breaking Change"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Renamed ",(0,l.jsx)(n.code,{children:"config.error"})," to ",(0,l.jsx)(n.code,{children:"config.onError"})," for consistency with the other\nlisteners."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-feature-3",children:"New Feature"}),(0,l.jsxs)(n.h2,{id:"0501-2020-05-06",children:["0.50.1 ",(0,l.jsx)(n.em,{children:"2020-05-06"})]}),(0,l.jsx)(n.h3,{id:"new-feature-4",children:"New Feature"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["A new option, ",(0,l.jsx)(n.code,{children:"config.error"})," can be used to catch errors while parsing LaTeX."]}),"\n",(0,l.jsx)(n.p,{children:"This is invoked both for the initial content of the mathfield, when the\ncontent of the mathfield is changed programmatically, and when the user pastes\nlatex content in the field."}),"\n",(0,l.jsx)(n.p,{children:"An error code will indicate the problem encountered, but the parsing will\nattempt to recover, in keeping with the previous behavior."}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-100",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Fixed an issue where the alphabetic 'sans' keys on the virtual keyboard output\nblackboard."}),"\n",(0,l.jsxs)(n.li,{children:["Fixed an issue where the ",(0,l.jsx)(n.code,{children:"\\mleft."})," and ",(0,l.jsx)(n.code,{children:"\\mright."})," commands would not be\nrendered correctly (or propertly converted to ASCIIMath).\n(",(0,l.jsx)(n.a,{href:"https://github.com/benetech/MathShare/issues/1182",children:"https://github.com/benetech/MathShare/issues/1182"}),")"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"050-2020-05-04",children:["0.50 ",(0,l.jsx)(n.em,{children:"2020-05-04"})]}),(0,l.jsx)(n.h3,{id:"highlights",children:"Highlights"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Maintenance"}),": Migration to TypeScript"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Maintenance"}),": New math variant (bold, italic, etc...) subsystem matches\nLaTeX more closely"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Maintenance"}),": Reduced code size"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"New feature"}),": Verbatim LaTeX"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"New feature"}),": ",(0,l.jsx)(n.code,{children:"MathField.getConfig()"})]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-29",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:'"Verbatim LaTeX"'}),": the LaTeX provided as input (for example with\n",(0,l.jsx)(n.code,{children:"insert()"}),") is preserved as long as it's not edited. Previously, the LaTeX\nwould be normalized on input, and the output would not match character for\ncharacter, even though it produced equivalent LaTeX code. For example, extra\nspaces could be inserted, and the order of subscript and superscript was not\npreserved."]}),"\n",(0,l.jsx)(n.p,{children:"Now, the input LaTeX is preserved until editing operations cause it to be\nmodified. This also means that the arguments of macros are never modified\n(since the macros are not editable) and will be returned exactly as input\n(they were normalized before)."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["New ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"letterShapeStyle"})})," configuration setting to control which letters are\nautomatically italicized, according to four popular styles:"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"right"},children:(0,l.jsx)(n.code,{children:"letterShapeStyle"})}),(0,l.jsx)(n.th,{children:"xyz"}),(0,l.jsx)(n.th,{children:"ABC"}),(0,l.jsx)(n.th,{children:"\u03b1\u03b2\u0263"}),(0,l.jsx)(n.th,{children:"\u0393\u0394\u0398"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"right"},children:(0,l.jsx)(n.code,{children:"iso"})}),(0,l.jsx)(n.td,{children:"it"}),(0,l.jsx)(n.td,{children:"it"}),(0,l.jsx)(n.td,{children:"it"}),(0,l.jsx)(n.td,{children:"it"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"right"},children:(0,l.jsx)(n.code,{children:"tex"})}),(0,l.jsx)(n.td,{children:"it"}),(0,l.jsx)(n.td,{children:"it"}),(0,l.jsx)(n.td,{children:"it"}),(0,l.jsx)(n.td,{children:"up"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"right"},children:(0,l.jsx)(n.code,{children:"french"})}),(0,l.jsx)(n.td,{children:"it"}),(0,l.jsx)(n.td,{children:"up"}),(0,l.jsx)(n.td,{children:"up"}),(0,l.jsx)(n.td,{children:"up"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"right"},children:(0,l.jsx)(n.code,{children:"upright"})}),(0,l.jsx)(n.td,{children:"up"}),(0,l.jsx)(n.td,{children:"up"}),(0,l.jsx)(n.td,{children:"up"}),(0,l.jsx)(n.td,{children:"up"})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"(it)"})," = italic",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"(up)"})," = upright"]}),"\n",(0,l.jsxs)(n.p,{children:["The default letter shape style is ",(0,l.jsx)(n.code,{children:"auto"}),': if the system locale is "french",\nthe ',(0,l.jsx)(n.code,{children:"french"})," style will be used, ",(0,l.jsx)(n.code,{children:"tex"})," otherwise. The previous behavior was to\nalways use ",(0,l.jsx)(n.code,{children:"tex"})," style lettershape."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["New ",(0,l.jsx)(n.code,{children:"MathField.getConfig()"})," method which gives access to the current\nconfiguration settings."]}),"\n",(0,l.jsx)(n.p,{children:"It can be invoked in three different ways:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"mf.getConfig()"}),": return a ",(0,l.jsx)(n.code,{children:"MathfieldConfig"})," object will the values for all\nthe configuration options filled-in."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"mf.getConfig('letterShapeStyle')"}),": return the current value of the\n",(0,l.jsx)(n.code,{children:"letterShapeStyle"})," option"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"mf.getConfig(['smartMode', 'smartFence'])"}),": return an object with the\nvalues of the ",(0,l.jsx)(n.code,{children:"smartMode"})," and ",(0,l.jsx)(n.code,{children:"smartFence"})," filled in."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Note that ",(0,l.jsx)(n.code,{children:"getConfig()"})," may return a different value immediately after\n",(0,l.jsx)(n.code,{children:"setConfig()"})," was invoked: ",(0,l.jsx)(n.code,{children:"getConfig()"}),' returns a "resolved" value, so for\nexample:']}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"mf.setConfig({ letterShapeStyle: 'auto' });\nconsole.log(mf.getConfig('letterShapeStyle')); // prints 'tex'\n"})}),"\n"]}),"\n"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["An example (",(0,l.jsx)(n.code,{children:"examples/test-cases"}),") with some test cases was added, including\nLaTeX output screenshots for comparison."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Re-done the font selection sub-system. Internally, it's now cleaner and easier\nto follow, and also closer to the LaTeX implementation. In particular, in math\nmode, the styling directives are exclusive, except for ",(0,l.jsx)(n.code,{children:"\\mathsymbol"}),", which\nmatches the TeX behavior."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["When a character variant (for example using ",(0,l.jsx)(n.code,{children:"\\mathbb"}),") is not available in the\nfont repertoire, convert to Unicode and fallback to the system font. This\nallows ",(0,l.jsx)(n.code,{children:"\\mathbb{1}"})," to correctly output \ud835\udfd9."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added support for ",(0,l.jsx)(n.code,{children:"\\ensuremath"})," command"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added the ",(0,l.jsx)(n.code,{children:"\\imageof"})," \u22b7 and ",(0,l.jsx)(n.code,{children:"\\originalof"})," \u22b8 symbols"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"code-maintenance",children:"Code Maintenance"}),(0,l.jsx)(n.h4,{id:"codebase-migrated-to-typescript",children:"Codebase Migrated to Typescript"}),(0,l.jsx)(n.p,{children:"This does not impact the bundled library, which is still transpiled JavaScript\nfrom the TypeScript sources and which can be used either with a JavaScript or\nTypeScript based project."}),(0,l.jsxs)(n.p,{children:["The migration did not result in changes to the public API which remains backward\ncompatible with previous versions. However, new declaration files (",(0,l.jsx)(n.code,{children:"*.d.ts"}),") for\nTypeScript are available. They are more detailed (and accurate) than the\nprevious ones which were generated from JSDoc comments."]}),(0,l.jsx)(n.p,{children:"The migration was done by hand for the entire code base (35 kloc). Type\ninformation was provided for all the data structures and function signatures."}),(0,l.jsxs)(n.p,{children:["While this does not affect the external users of MathLive (the API and\nfunctionality remains the same), this has resulted in several bugs being found\nby the compiler through static analysis. For example, the\n",(0,l.jsx)(n.code,{children:"onUndoStateWillChange()"})," handler was never invoked because of this statement:"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"if (options && options.onUndoStateWillChange === 'function') {\n  options.onUndoStateWillChange();\n}\n"})}),(0,l.jsx)(n.p,{children:"instead of:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"if (options && typeof options.onUndoStateWillChange === 'function') {\n  options.onUndoStateWillChange();\n}\n"})}),(0,l.jsx)(n.p,{children:"The TypeScript compiler correctly flagged this error."}),(0,l.jsx)(n.p,{children:"This migration will make the ongoing maintenance and development of the codebase\nmuch easier."}),(0,l.jsx)(n.h4,{id:"codebase-refactoring",children:"Codebase Refactoring"}),(0,l.jsx)(n.p,{children:"Concurrently to the migration to TypeScript, and thanks to the increased clarity\nand confidence brought in with static typing and code analysis tools, the code\nhas been modularized and reorganized as follow. The codebase previously\nconsisted of several large monolithic source files, some of which were in excess\nof 4,500 loc."}),(0,l.jsx)(n.p,{children:"They have been broken up as follow:"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"core/atom.js"})," \u2192","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom-array.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom-accent.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom-box.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom-enclose.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom-genfrac.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom-leftright.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom-line.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom-op.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom-overunder.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom-surd.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom-to-latex.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom-utils.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"atom.ts"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"core/definitions.js"})," \u2192","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"definitions-accents.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"definitions-enclose.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"definitions-environments.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"definitions-extensible-symbols.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"definitions-functions.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"definitinos-styling.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"definitions-symbols.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"definitions-utils.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"definitions.ts"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"core/parser.js"})," \u2192","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"parser.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"modes.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"modes-utils.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"modes-math.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"modes-text.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"modes-command.ts"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"editor-mathlist.js"})," \u2192","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"model.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"model-utils.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"model-styling.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"model-smartfence.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"model-selection.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"model-listeners.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"model-insert.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"model-delete.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"model-commands.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"model-command-mode.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"model-array.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"model-array-utils.ts"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"editor-mathfield.js"})," \u2192","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"a11y.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"autocomplete.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"commands.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"config.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"speech.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"speech-read-aloud.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"undo.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mathfield.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mathfield-virtual-keyboards.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mathfield-utils.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mathfield-styling.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mathfield-smartmode.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mathfield-render.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mathfield-pointer-input.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mathfield-keyboard-input.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mathfield-commands.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mathfield-clipboard.ts"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mathfield-buttons.ts"})}),"\n"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.p,{children:"Again, this is an internal change that will have no impact for external users of\nthe MathLive library, but it will contribute to improving the maintainability\nand velocity of the project."}),(0,l.jsx)(n.h4,{id:"other-code-maintenance",children:"Other Code Maintenance"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Updated font binaries"}),"\n",(0,l.jsx)(n.li,{children:"Rewrote grapheme splitter in TypeScript. As a result, code size reduced by\n113Kb (!)."}),"\n",(0,l.jsxs)(n.li,{children:["Switched to ",(0,l.jsx)(n.code,{children:"jest"})," as a test runner."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-101",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Fix #285"}),": The initial content of the mathfield was considered part of the\nundo stack, that is, typing command+Z before making any editing operations\nwould make the initial content disappear."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Fix #236"}),": An initially empty field had no visible caret until it had\nfocused, then blurred, then focused again."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Fix #438"}),": MathLive did not behave correctly when inside a shadow DOM"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Fix #436"}),": When ",(0,l.jsx)(n.code,{children:"smartFence"})," was on, applying an inline shortcut before the\nclosing parent of a paren group that had been inserted as a pure fence (not a\n",(0,l.jsx)(n.code,{children:"\\left\\right"})," group) the parens would get (incorrectly) promoted to a\n",(0,l.jsx)(n.code,{children:"\\left\\right"})," group, and the shortcut would be inserted outside of the paren."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Fix #435"}),": Virtual keyboard after a JSON-based virtual keyboard would not\ndisplay correctly."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Fix #417"}),': The "International Backslash" (labeled ',(0,l.jsx)(n.code,{children:"><"})," on a german\nkeyboard) would incorrectly trigger the command mode."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Fix #416"}),": With ",(0,l.jsx)(n.code,{children:"smartFence"}),' on, braces around a fraction would disappear,\ne.g. typing "(1/2" would result in "1/2"']}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Fix #415"}),": ",(0,l.jsx)(n.code,{children:"toASCIIMath()"})," would fail when the mathfield was empty"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Fix #393"}),": some characters in a ",(0,l.jsx)(n.code,{children:"\\operatorname"})," command, including ",(0,l.jsx)(n.code,{children:"-"})," and\n",(0,l.jsx)(n.code,{children:"*"}),", were not displayed correctly (they should display as if in text mode, not\nin math mode, and the correct glyphs are different between the two modes)"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Fix #395"}),": re-implemented how macros handle their arguments. They would\npreviously parse their argument using the current parseMode. This is\nincorrect. The parseMode cannot be determined until the macro has been\nexpanded and the arguments substituted. The parsing of the macros arguments is\nnow deferred until after the macro has been expanded. Additionally, it wasn't\npreviously possible for arguments to macros to contain other arguments. This\nis now allowed."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Fix #395 (bis)"}),": Properly output LaTeX for macros when using 'latex' and\n'latex-expanded' formats."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Fixed numerous issues with LaTeX round-tripping. For example, ",(0,l.jsx)(n.code,{children:"\\mathfrak{C}"}),",\n",(0,l.jsx)(n.code,{children:"\\boldsymbol{\\sin\\theta}"}),","]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["If the ",(0,l.jsx)(n.code,{children:"\\text"})," command included a ",(0,l.jsx)(n.code,{children:"&"}),", the content following the ",(0,l.jsx)(n.code,{children:"&"})," would be\nignored."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"align*"})," environment was not handled correctly and displayed an extra gap\nbetween columns."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The math styling commands did not behave properly. For example:",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.code,{children:"\\mathbf{\\sin \\alpha} + \\mathit{\\cos \\beta} + \\mathbf{\\tan x} + \\boldsymbol{\\sin \\gamma}"})]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{}),(0,l.jsx)(n.th,{children:"before"}),(0,l.jsx)(n.th,{children:"after"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"alpha"}),(0,l.jsx)(n.td,{children:"bold upright"}),(0,l.jsx)(n.td,{children:"italic"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"cos"}),(0,l.jsx)(n.td,{children:"italic"}),(0,l.jsx)(n.td,{children:"upright"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"tan"}),(0,l.jsx)(n.td,{children:"bold"}),(0,l.jsx)(n.td,{children:"roman"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gamma"}),(0,l.jsx)(n.td,{children:"bold upright"}),(0,l.jsx)(n.td,{children:"bold italic"})]})]})]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Related to the above, but worth noting separately, ",(0,l.jsx)(n.code,{children:"\\mathbf{\\alpha}"})," should\nrender as normal italic: the ",(0,l.jsx)(n.code,{children:"\\mathbf"})," command does not apply to lowercase\ngreek letters. The command ",(0,l.jsx)(n.em,{children:"does"})," apply to uppercase greek letters. This is an\nartifact of the TeX font encoding, but the behavior is preserved for\ncompatibility with TeX."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"\\textcolor"})," command did not apply to large symbols, such as ",(0,l.jsx)(n.code,{children:"\\sum"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Correctly output LaTeX for infix operators such as ",(0,l.jsx)(n.code,{children:"\\atopwithdelims"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Correctly output unicode characters in the astral plane, e.g.\n",(0,l.jsx)(n.code,{children:'\\unicode{"1F468}'})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Fixed an issue were consecutive calls to set the content of the mathfield\ncould result in some spurious characters inserted at the beginning of the\nfield."}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"breaking-change-2",children:"Breaking Change"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The signature of the ",(0,l.jsx)(n.code,{children:"latexToMarkup()"})," function has changed.",(0,l.jsx)(n.br,{}),"\n","Instead of a style and format, the second argument is an option object. The\nstyle can be specified with a ",(0,l.jsx)(n.code,{children:"mathstyle"})," property, the format with a ",(0,l.jsx)(n.code,{children:"format"}),"\nproperty. A new ",(0,l.jsx)(n.code,{children:"letterShapeStyle"})," property can also be specified."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Before: ",(0,l.jsx)(n.code,{children:"MathLive.latexToMarkup(formula, 'displaystyle')"})]}),"\n",(0,l.jsxs)(n.li,{children:["After: ",(0,l.jsx)(n.code,{children:"MathLive.latexToMarkup(formula, { mathstyle: 'displaystyle' });"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"The 'command' virtual keyboard is no longer displayed by default. The layout\nfor this virtual keyboard has been deprecated and will be removed in a future\nversion. This is a partial fullfilment of #270."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"config.handleSpeak"})," and ",(0,l.jsx)(n.code,{children:"config.handleReadAloud"})," hooks have been renamed\n",(0,l.jsx)(n.code,{children:"config.speakHook"})," and ",(0,l.jsx)(n.code,{children:"config.readAloudHook"})," respectively"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"deprecated",children:"Deprecated"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"overrideDefaultInlineShortcuts"})," is deprecated (still supported in this\nversion, but will be removed in an upcoming one). Instead, to add to the\ndefault shortcuts, use:"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"mf.setConfig({\n  inlineShortcuts: {\n    ...mf.getConfig('inlineShortcuts').inlineShortcuts,\n    ...newShortcuts,\n  },\n});\n"})}),(0,l.jsxs)(n.h2,{id:"0350-2020-03-24",children:["0.35.0 ",(0,l.jsx)(n.em,{children:"2020-03-24"})]}),(0,l.jsx)(n.h3,{id:"new-features-30",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Extensible (stretchy) symbols"}),":"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#126"})," (",(0,l.jsx)(n.code,{children:"\\overgroup"}),", ",(0,l.jsx)(n.code,{children:"\\overrightarrow"}),", ",(0,l.jsx)(n.code,{children:"\\overleftrightarrow"}),"), ",(0,l.jsx)(n.strong,{children:"#180"}),"\n(",(0,l.jsx)(n.code,{children:"\\xrightarrow"}),", ",(0,l.jsx)(n.code,{children:"\\xrightleftharpoons"}),"), ",(0,l.jsx)(n.strong,{children:"#292"})," (",(0,l.jsx)(n.code,{children:"\\widehat"}),", ",(0,l.jsx)(n.code,{children:"\\overbrace"}),",\n",(0,l.jsx)(n.code,{children:"\\underbrace"}),"), ",(0,l.jsx)(n.strong,{children:"#338"})," (",(0,l.jsx)(n.code,{children:"\\vec"}),", ",(0,l.jsx)(n.code,{children:"\\bar"}),")."]}),"\n",(0,l.jsx)(n.p,{children:"This work has been made possible thanks to the financial support of a generous\nsponsor."}),"\n",(0,l.jsx)(n.p,{children:"It is now possible for a symbol with operands above or below, or for a\ndecoration above or below an expression, to stretch (extend) so that its width\nwill match the width of the operands or expression."}),"\n",(0,l.jsx)(n.p,{children:"These extensible symbols and decorations are important for some domains such\nas geometry and chemistry."}),"\n",(0,l.jsx)(n.p,{children:"This release introduces the following new commands:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\overrightarrow{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\overleftarrow{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\Overrightarrow{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\overleftharpoon{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\overrightharpoon{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\overleftrightarrow{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\overbrace{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\overlinesegment{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\overgroup{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\underrightarrow{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\underleftarrow{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\underleftrightarrow{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\underbrace{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\underlinesegment{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\undergroup{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xrightarrow[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xleftarrow[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xRightarrow[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xLeftarrow[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xleftharpoonup[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xleftharpoondown[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xrightharpoonup[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xrightharpoondown[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xlongequal[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xtwoheadleftarrow[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xtwoheadrightarrow[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xleftrightarrow[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xLeftrightarrow[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xrightleftharpoons[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xleftrightharpoons[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xhookleftarrow[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xhookrightarrow[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xmapsto[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xtofrom[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xrightleftarrows[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xrightequilibrium[below]{above}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\xleftequilibrium[below]{above}"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"In addition, the following commands can now be used to represent stretchy\naccents:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\widehat{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\widecheck{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\widetilde{base}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\utilde{base}"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Improved rendering and layout of ",(0,l.jsx)(n.code,{children:"\\enclose"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Improved layout of ",(0,l.jsx)(n.code,{children:"overunder"})," atoms"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Improved layout of ",(0,l.jsx)(n.code,{children:"accent"})," atoms"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Improved fidelity of styling commands (",(0,l.jsx)(n.code,{children:"\\textup"}),", ",(0,l.jsx)(n.code,{children:"\\fontseries"}),", etc...). They\nare now closer to what LaTeX does, in all its wonderful weirdness (see\n",(0,l.jsx)(n.a,{href:"https://texfaq.org/FAQ-2letterfontcmd",children:"https://texfaq.org/FAQ-2letterfontcmd"}),"). Added ",(0,l.jsx)(n.code,{children:"\\selectfont"})," command."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-102",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#371"}),": When clicking after the last element in the mathfield, always set\nthe anchor to be the last element in the root, i.e. as if ",(0,l.jsx)(n.code,{children:"moveToMathFieldEnd"}),'\nhad been performed. For example, if the content is "x^2", clicking after the\nend of the field will put the caret after the last element (not after the "2"\nin the superscript)']}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#372"}),": Using an argument in a macro will result in the argument to be\nsubstituted without a group being inserted. Previously, ",(0,l.jsx)(n.code,{children:"#1"})," with ",(0,l.jsx)(n.code,{children:"ax"})," as a\nvalue for the first argument would have resulted in ",(0,l.jsx)(n.code,{children:"{ax}"}),". This was\nnoticeable when using the ",(0,l.jsx)(n.code,{children:"x^2"})," key in the virtual keyboard: if the equation\nwas ",(0,l.jsx)(n.code,{children:"ab"}),", pressing that key resulted in ",(0,l.jsx)(n.code,{children:"{ab}^2"}),". It now results in ",(0,l.jsx)(n.code,{children:"ab^2"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Fixed an issue rendering some commands such as ",(0,l.jsx)(n.code,{children:"\\boxed"})," and others when in\nstatic mode. An over-agressive optimization would coalesce spans with no\ncontent, even though they may include important styling info."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Fixed the rendering of infix commands with arguments, e.g. ",(0,l.jsx)(n.code,{children:"\\atopwithdelims"}),"\nand ",(0,l.jsx)(n.code,{children:"overwithdelims"}),". The arguments of infix commands were incorrectly merged\nwith the suffix."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Fixed inter-atom spacing of ",(0,l.jsx)(n.code,{children:"overunder"})," atoms (they should space as ",(0,l.jsx)(n.code,{children:"mord"}),")"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"code-maintenance-1",children:"Code Maintenance"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Re-factored the definitions of functions, symbols and environments which are\nnow split in multiple files instead of being all contained in\n",(0,l.jsx)(n.code,{children:"core/definitions.js"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Re-factored and isolated the metadata about LaTeX commands (frequency and\ncategory). This should reduce the amount of data carried by the core package.\nAll the metadata is now in ",(0,l.jsx)(n.code,{children:"definitions-metadata.js"}),". As a side effect, the\nexamples displayed in the popover window might be less complete, but the\nremoval of popover is on the roadmap."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Removal of default export for some modules. Need to complete it for all the\nremaining modules."}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0340-2020-02-05",children:["0.34.0 ",(0,l.jsx)(n.em,{children:"2020-02-05"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-103",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'Fix #364: Some expressions containing placeholders, when inserted, would not\nhave the placeholder selected. For example, when using the "differentialD" key\nin the virtual keyboard.'}),"\n",(0,l.jsxs)(n.li,{children:["Fix #349:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["'latex-expanded' format no longer returns ",(0,l.jsx)(n.code,{children:"\\mleft"})," and ",(0,l.jsx)(n.code,{children:"\\mright"}),". This\nformat is intended for inter-exchange with other TeX-compatible renderers\nand the ",(0,l.jsx)(n.code,{children:"\\mleft"})," and ",(0,l.jsx)(n.code,{children:"\\mright"})," commands are not widely deployed."]}),"\n",(0,l.jsxs)(n.li,{children:["The content exported to the clipboard is now surrounded by ",(0,l.jsx)(n.code,{children:"$$"})," to more\nclearly indicate that the content is using TeX format."]}),"\n",(0,l.jsxs)(n.li,{children:["When pasting content that begins/ends with ",(0,l.jsx)(n.code,{children:"$"})," or ",(0,l.jsx)(n.code,{children:"$$"}),", assume LaTeX format"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:'Fix keyboard shortcuts, e.g. "alt+(" or "alt+v"'}),"\n",(0,l.jsxs)(n.li,{children:["Fix #354: The argument of ",(0,l.jsx)(n.code,{children:"\\operatorname"})," is of type 'math', not 'text'. This\nmeans that using the '\\text' command inside the argument is valid and that\nspaces should be ignored by default (but the ",(0,l.jsx)(n.code,{children:"~"})," character can be used to\ninsert a space in that context)."]}),"\n",(0,l.jsx)(n.li,{children:"Fix #282: Some keys from the virtual keyboards ('e', 'i') produce an incorrect\ninput."}),"\n",(0,l.jsxs)(n.li,{children:["Fix #227: An operator (",(0,l.jsx)(n.code,{children:"\\sin"}),") following some text is incorrectly considered\nto be part of the text."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"features--improvements",children:"Features / Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Documented ",(0,l.jsx)(n.code,{children:"suppressChangeNotifications"})," options for ",(0,l.jsx)(n.code,{children:"$insert()"})]}),"\n",(0,l.jsxs)(n.li,{children:["Document ",(0,l.jsx)(n.code,{children:"config.smartMode"})," (#312)"]}),"\n",(0,l.jsx)(n.li,{children:"The 'surd' (root) and 'leftright' (fences) elements now change color when the\ncaret is inside their body. This helps distinguish the case where the caret\nposition may be ambiguous, for example when it is either after the last\nelement of the body of a 'surd' or the first element after the 'surd'."}),"\n",(0,l.jsxs)(n.li,{children:["#339: Read-only mode. Set the mode to read-only with\n",(0,l.jsx)(n.code,{children:"mf.$setConfig({readOnly: true})"}),". When this mode is activated, the formula\ncan be selected (so it can be copied), but it cannot be modified by the user.\nProgammatic modification is still possible."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"033-2019-12-19",children:["0.33 ",(0,l.jsx)(n.em,{children:"2019-12-19"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-104",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Fix #313. Text mode content is not output in MathML, speech and MathJSON\n(contribution by @NSoiffer)"}),"\n",(0,l.jsx)(n.li,{children:"Fix #275: Selection improvements (use centerpoint to calculate nearest atom)\nand make delimiters selection eligible."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0323-2019-10-29",children:["0.32.3 ",(0,l.jsx)(n.em,{children:"2019-10-29"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-105",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Fix #286 ",(0,l.jsx)(n.code,{children:"\\mathbb{}"}),"s are missing in the LaTeX output"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0322-2019-09-24",children:["0.32.2 ",(0,l.jsx)(n.em,{children:"2019-09-24"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-106",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Fixed an issue where some keys in the virtual keyboard would be unresponsive"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0301-2019-07-30",children:["0.30.1 ",(0,l.jsx)(n.em,{children:"2019-07-30"})]}),(0,l.jsx)(n.h3,{id:"features--improvements-1",children:"Features / Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Added Typescript type definition"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"030-2019-07-18",children:["0.30 ",(0,l.jsx)(n.em,{children:"2019-07-18"})]}),(0,l.jsx)(n.h3,{id:"non-backward-compatible-changes",children:"Non-backward compatible changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["#157: Public APIs that don't start with ",(0,l.jsx)(n.code,{children:"$"})," have been removed. If your code\nused any of these APIs, add a ",(0,l.jsx)(n.code,{children:"$"})," in front of their name. See #157 for the\ncomplete list."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"features--improvements-2",children:"Features / Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["#231: ",(0,l.jsx)(n.code,{children:"smartMode"})," now supports Greek (the language). Also, Greek localization."]}),"\n",(0,l.jsx)(n.li,{children:"Don't display i-beam cursor over non-interactive content"}),"\n",(0,l.jsxs)(n.li,{children:["Use CSS class ",(0,l.jsx)(n.code,{children:".ML__smart-fence__close"})," to style closing smart fence"]}),"\n",(0,l.jsx)(n.li,{children:"Added speech support for text mode and units (contributed by @NSoiffer)"}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-107",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Fixed an issue where clicking past the end of the equation would select the\nnumerator or denominator if the last element was a fraction, instead of place\nthe cursor after the fraction (regression)"}),"\n",(0,l.jsx)(n.li,{children:"Removed dependency on open-cli"}),"\n",(0,l.jsx)(n.li,{children:"#220 Fixed an issue where tabbing out of a mathfield would break command mode\nand some functions"}),"\n",(0,l.jsx)(n.li,{children:"#209, #214, #211 et. al. Improvements to SSML support and karaoke mode\ncontributed by @NSoiffer"}),"\n",(0,l.jsx)(n.li,{children:"#217 Fixed an issue with parentheses in numerator of fractions"}),"\n",(0,l.jsxs)(n.li,{children:["#212: Fix round-tripping of ",(0,l.jsx)(n.code,{children:"\\mathbb"})]}),"\n",(0,l.jsxs)(n.li,{children:["#194: When using the virtual keyboard, interpolate ",(0,l.jsx)(n.code,{children:"#@"})]}),"\n",(0,l.jsx)(n.li,{children:'Fixed an issue where "(" was incorrectly gobbled as argument to a fraction'}),"\n",(0,l.jsx)(n.li,{children:"Fixed an issue where smartFence off was ignored"}),"\n",(0,l.jsx)(n.li,{children:"#202: use numeric character references instead of named entities in MathML\noutput"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0291-2019-05-19",children:["0.29.1 ",(0,l.jsx)(n.em,{children:"2019-05-19"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-108",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"#201: the popover button was not responsive"}),"\n",(0,l.jsx)(n.li,{children:"#195: (partial fix) improve support for Edge (still requires Babelization)"}),"\n",(0,l.jsx)(n.li,{children:"Fixed an issue while dragging to select across elements of different depths"}),"\n",(0,l.jsx)(n.li,{children:'Fixed issue with smartMode for expressions including "x^2", "xyz" and "\\pi"'}),"\n",(0,l.jsxs)(n.li,{children:["Fixed an issue with styling, where the LaTeX output could sometimes include\nthe non-existent ",(0,l.jsx)(n.code,{children:"\\mathup"})," command. The correct command is ",(0,l.jsx)(n.code,{children:"\\upshape"})]}),"\n",(0,l.jsx)(n.li,{children:"Fixed issues with enclose layout"}),"\n",(0,l.jsx)(n.li,{children:"Avoid triggering spurious notifications while inserting an inline shortcut"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"029-2019-05-09",children:["0.29 ",(0,l.jsx)(n.em,{children:"2019-05-09"})]}),(0,l.jsx)(n.h3,{id:"major-new-features",children:"Major New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Scrollable mathfield. The mathfield now behaves like a text area: the content\nthat does not fit withing the bounds of the mathfield will not overflow but\nwill be scrollable. The scrolling can be done using the mouse wheel or\ntrackpad gestures, or by dragging while selecting. The AP"}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-70",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["When smartFence is on, and a new smart fence is inserted (by typing ",(0,l.jsx)(n.code,{children:"("})," for\nexample), the closing 'phantom' fence would be displayed immediately after the\nopening fence. The closing fence will now be inserted after the end of the\nexpression."]}),"\n",(0,l.jsxs)(n.li,{children:["The heuristics for determining implicit arguments, for example the implicit\nnumerator when typing ",(0,l.jsx)(n.code,{children:"/"})," have been improved. For example, typing ",(0,l.jsx)(n.code,{children:"/"})," after\n",(0,l.jsx)(n.code,{children:"3 + 2sin x"})," will result in ",(0,l.jsx)(n.code,{children:"3 + (2sin x)/(...)"})," instead of\n",(0,l.jsx)(n.code,{children:"3 + sin (x)/(...)"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["When ",(0,l.jsx)(n.code,{children:"config.removeExtraneousParentheses"})," is true (default), if a frac is\ninserted inside parentheses, the parens will be removed. So, if a ",(0,l.jsx)(n.code,{children:"/"})," is typed\nafter ",(0,l.jsx)(n.code,{children:"1"})," in ",(0,l.jsx)(n.code,{children:"(1)"})," it will become ",(0,l.jsx)(n.code,{children:"1/(...)"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["When smartMode is on, textual operators are eligible for conversion to text.\nPreviously, if an inline shortcuts for ",(0,l.jsx)(n.code,{children:"rad"})," was defined to\n",(0,l.jsx)(n.code,{children:"\\operatorname{rad}"})," and 'radius' was typed, only ",(0,l.jsx)(n.code,{children:"ius"})," would be turned to\ntext."]}),"\n",(0,l.jsxs)(n.li,{children:["Smartmode is now applied when there is a selection. That is, if some text is\nselected and the ",(0,l.jsx)(n.code,{children:"/"})," is pressed the selection will become the numerator.\nPreviously the selection was deleted and replaced with an empty fraction"]}),"\n",(0,l.jsx)(n.li,{children:"Improved layout of surds, particularly when the surd is empty"}),"\n",(0,l.jsxs)(n.li,{children:["Made ",(0,l.jsx)(n.code,{children:"\\mathbb{}"})," et al. apply to the argument only, and not affect the style\nof following characters. Previously, if a ",(0,l.jsx)(n.code,{children:"\\mathbb{R}"})," was inserted, the\nfollowing typed character would also be in Blackboard style."]}),"\n",(0,l.jsx)(n.li,{children:"Improved build system on Windows. That is, it now works."}),"\n",(0,l.jsx)(n.li,{children:"Merge speak and readAloud APIs into one (contribution from Neil. Thanks Neil!)"}),"\n",(0,l.jsxs)(n.li,{children:["Switched to using ",(0,l.jsx)(n.code,{children:"npm ci"})," for CI builds. Even for local builds, it is\nrecommended to use ",(0,l.jsx)(n.code,{children:"npm ci"})," to ensure the correct version of the dependencies\nare installed."]}),"\n",(0,l.jsxs)(n.li,{children:['In smartMode, the currency symbols are handled better. "One apple is\n',(0,l.jsx)(n.code,{className:"language-math math-inline",children:'3.14"\n  will result in the "'}),'" being in math mode.']}),"\n",(0,l.jsx)(n.li,{children:"Switching to/from command mode will not suppress smart mode."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-109",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Fixed a crash when using smartFence with ",(0,l.jsx)(n.code,{children:"sin(x^2/"})]}),"\n",(0,l.jsxs)(n.li,{children:["Fixed ",(0,l.jsx)(n.code,{children:"alt+="})," keyboard shortcut on Windows."]}),"\n",(0,l.jsxs)(n.li,{children:["Fixed some layout issues with ",(0,l.jsx)(n.code,{children:"box"})," and ",(0,l.jsx)(n.code,{children:"enclose"})]}),"\n",(0,l.jsx)(n.li,{children:"Smart Fences will now work when invoked from the virtual keyboard."}),"\n",(0,l.jsx)(n.li,{children:"Fixed #177: custom localization strings are now handled correctly."}),"\n",(0,l.jsx)(n.li,{children:"Fixed some issues toggling style when selection is empty."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"028-2019-04-22",children:["0.28 ",(0,l.jsx)(n.em,{children:"2019-04-22"})]}),(0,l.jsx)(n.p,{children:"This release contains some small Issues Resolved and improvements."}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Reduced Node version required (for dev builds) to Node LTS"}),"\n",(0,l.jsx)(n.li,{children:"Fixed some issues with focus state of mathfields, particularly with multiple\nmathfields on a page"}),"\n",(0,l.jsx)(n.li,{children:"Fixed an issue with some keys (such as /) on international keyboards (such as\nQWERTZ)"}),"\n",(0,l.jsxs)(n.li,{children:["Made ",(0,l.jsx)(n.code,{children:"moveToOpposite"})," correctly select the opposite superscript/subscript"]}),"\n",(0,l.jsxs)(n.li,{children:["Use the correct font for ",(0,l.jsx)(n.code,{children:"\\operatorname"}),", even for single character operators"]}),"\n",(0,l.jsx)(n.li,{children:"Send content change notifications when array cells are created"}),"\n",(0,l.jsxs)(n.li,{children:["Fixed a layout issue with upsized (",(0,l.jsx)(n.code,{children:"\\huge"}),") content in fractions"]}),"\n",(0,l.jsxs)(n.li,{children:["More accurate layout for ",(0,l.jsx)(n.code,{children:"box"})," atoms (with ",(0,l.jsx)(n.code,{children:"\\bbox"}),", ",(0,l.jsx)(n.code,{children:"\\colorbox"}),", ",(0,l.jsx)(n.code,{children:"\\boxed"})," and\n",(0,l.jsx)(n.code,{children:"\\fcolorbox"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"Fixed an issue where units after an exponent were not recognized"}),"\n",(0,l.jsx)(n.li,{children:"Fixed an issue displaying virtual keyboard on narrow Android phones"}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-31",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added support for applying size to the selection with\n",(0,l.jsx)(n.code,{children:"applyStyle({size:'size9'})"})," (default size is ",(0,l.jsx)(n.code,{children:"size5"}),", smallest is ",(0,l.jsx)(n.code,{children:"size1"}),",\nlargest is ",(0,l.jsx)(n.code,{children:"size10"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["Added support for ",(0,l.jsx)(n.code,{children:"npm run start"})," which will start a local web server for ease\nof debugging (some features, such as using JavaScript native modules, require\na local server)"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"027-2019-04-08",children:["0.27 ",(0,l.jsx)(n.em,{children:"2019-04-08"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-17",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The syntax that MathJSON/MASTON can recognized has been significantly\nexpanded. It also has been made more consistent, and in some cases it may be\ndifferent than what was previously returned."}),"\n",(0,l.jsxs)(n.li,{children:["Future breaking change: the selector ",(0,l.jsx)(n.code,{children:"enterCommandMode"})," will be deprecated and\nreplaced by the more general ",(0,l.jsx)(n.code,{children:"switchMode('command')"}),". The selector\n",(0,l.jsx)(n.code,{children:"switchMode('command')"})," is available in this release, and ",(0,l.jsx)(n.code,{children:"enterCommandMode"}),"\nis supported as well but it will be removed in a future release and you should\nmigrate to ",(0,l.jsx)(n.code,{children:"switchMode()"})," as soon as possible."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"major-new-features-1",children:"Major New Features"}),(0,l.jsx)(n.h4,{id:"text-mode-153",children:"Text Mode (#153)"}),(0,l.jsxs)(n.p,{children:["It was previously possible to enter text in an equation using the ",(0,l.jsx)(n.code,{children:"\\text{}"}),"\ncommand and its family using the command mode. However, this feature was only\nsuitable for advanced users, and had many limitations (text could not include\nspaces, for example)."]}),(0,l.jsx)(n.p,{children:"MathLive now fully support a dedicated text mode."}),(0,l.jsxs)(n.p,{children:["To switch between math and text mode, use the ",(0,l.jsx)(n.code,{children:"alt/option+="})," keyboard shortcut,\nor programmatically using ",(0,l.jsx)(n.code,{children:"mf.$perform(['apply-style', {mode: 'math'}])"}),". If\nthere is a selection it will be converted to the specified mode (math is\nconverted to ASCII Math). If there's no selection, the next user input will be\nconsidered to be in the specified mode."]}),(0,l.jsxs)(n.p,{children:["The current mode can also be changed using\n",(0,l.jsx)(n.code,{children:"mf.$perform(['switch-mode', {mode: 'math'}])"})," without affecting the selection."]}),(0,l.jsx)(n.p,{children:"To indicate the current mode, a (slightly) different cursor is used (it's\nthinner in text mode). The text zones are also displayed on a light gray\nbackground when the field is focused."}),(0,l.jsxs)(n.p,{children:["A notification is invoked when the mode changes: ",(0,l.jsx)(n.code,{children:"config.onModeChange(mf, mode)"}),"\nwith mode either ",(0,l.jsx)(n.code,{children:'"text"'}),", ",(0,l.jsx)(n.code,{children:'"math"'})," or ",(0,l.jsx)(n.code,{children:'"command"'}),"."]}),(0,l.jsx)(n.h4,{id:"smart-mode",children:"Smart Mode"}),(0,l.jsxs)(n.p,{children:["If ",(0,l.jsx)(n.code,{children:"config.smartMode = true"}),", during text input the field will switch\nautomatically between 'math' and 'text' mode depending on what is typed and the\ncontext of the formula. If necessary, what was previously typed will be 'fixed'\nto account for the new info."]}),(0,l.jsx)(n.p,{children:'For example, when typing "if x >0":'}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'"i" \u2192 math mode, imaginary unit'}),"\n",(0,l.jsx)(n.li,{children:'"if" \u2192 text mode, english word "if"'}),"\n",(0,l.jsx)(n.li,{children:'"if x" \u2192 all in text mode, maybe the next word is xylophone?'}),"\n",(0,l.jsx)(n.li,{children:'"if x >" \u2192 "if" stays in text mode, but now "x >" is in math mode'}),"\n",(0,l.jsx)(n.li,{children:'"if x > 0" \u2192 "if" in text mode, "x > 0" in math mode'}),"\n"]}),(0,l.jsx)(n.p,{children:"Smart Mode is off by default."}),(0,l.jsxs)(n.p,{children:["Manually switching mode (by typing ",(0,l.jsx)(n.code,{children:"alt/option+="}),") will temporarily turn off\nsmart mode."]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Examples"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"slope = rise/run"}),"\n",(0,l.jsx)(n.li,{children:"If x > 0, then f(x) = sin(x)"}),"\n",(0,l.jsx)(n.li,{children:"x^2 + sin (x) when x > 0"}),"\n",(0,l.jsx)(n.li,{children:"When x<0, x^{2n+1}<0"}),"\n",(0,l.jsx)(n.li,{children:"Graph x^2 -x+3 =0 for 0<=x<=5"}),"\n",(0,l.jsx)(n.li,{children:"Divide by x-3 and then add x^2-1 to both sides"}),"\n",(0,l.jsx)(n.li,{children:"Given g(x) = 4x \u2013 3, when does g(x)=0?"}),"\n",(0,l.jsx)(n.li,{children:"Let D be the set {(x,y)|0<=x<=1 and 0<=y<=x}"}),"\n",(0,l.jsx)(n.li,{children:"\\int_{the unit square} f(x,y) dx dy"}),"\n",(0,l.jsx)(n.li,{children:"For all n in NN"}),"\n"]}),(0,l.jsx)(n.h4,{id:"styling",children:"Styling"}),(0,l.jsx)(n.p,{children:"It is now possible to apply styling: font family, bold, italic, color and\nbackground color. This information is rendered correctly across math and text\nmode, and preserved in the LaTeX output."}),(0,l.jsxs)(n.p,{children:["The key to control styling is the ",(0,l.jsx)(n.code,{children:"$applyStyle(style)"})," method:"]}),(0,l.jsx)(n.p,{children:"If there is a selection, the style is applied to the selection."}),(0,l.jsx)(n.p,{children:"If the selection already has this style, it will be removed from it. If the\nselection has the style partially applied, i.e. only on some portions of the\nselection), it is removed from those sections, and applied to the entire\nselection."}),(0,l.jsx)(n.p,{children:"If there is no selection, the style will apply to the next character typed."}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"style"})," an object with the following properties. All the properties are\noptional, but they can be combined."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"style.mode"})," - Either ",(0,l.jsx)(n.code,{children:'"math"'}),", ",(0,l.jsx)(n.code,{children:'"text"'})," or ",(0,l.jsx)(n.code,{children:'"command"'})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"style.color"})," - The text/fill color, as a CSS RGB value or a string for some\n'well-known' colors, e.g. 'red', '#f00', etc..."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"style.backgroundColor"})," - The background color."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"style.fontFamily"}),' - The font family used to render text. This value can the\nname of a locally available font, or a CSS font stack, e.g. "Avenir",\n"Georgia, Times, serif", etc... This can also be one of the following\nTeX-specific values: - ',(0,l.jsx)(n.code,{children:'"cmr"'}),": Computer Modern Roman, serif - ",(0,l.jsx)(n.code,{children:'"cmss"'}),":\nComputer Modern Sans-serif, latin characters only - ",(0,l.jsx)(n.code,{children:'"cmtt"'}),": Typewriter,\nslab, latin characters only - ",(0,l.jsx)(n.code,{children:'"cal"'}),": Calligraphic style, uppercase latin\nletters and digits only - ",(0,l.jsx)(n.code,{children:'"frak"'}),": Fraktur, gothic, uppercase, lowercase and\ndigits - ",(0,l.jsx)(n.code,{children:'"bb"'}),": Blackboard bold, uppercase only - ",(0,l.jsx)(n.code,{children:'"scr"'}),": Script style,\nuppercase only"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"style.fontSeries"}),' - The font \'series\', i.e. weight and stretch ("series" is\nTeX terminology). The following values can be combined, for example: "ebc":\nextra-bold, condensed. These attributes may not have visible effect if the\nfont family does not support this style: - ',(0,l.jsx)(n.code,{children:'"ul"'})," ultra-light weight","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"el"'}),": extra-light - ",(0,l.jsx)(n.code,{children:'"l"'}),": light - ",(0,l.jsx)(n.code,{children:'"sl"'}),": semi-light - ",(0,l.jsx)(n.code,{children:'"m"'}),": medium\n(default) - ",(0,l.jsx)(n.code,{children:'"sb"'}),": semi-bold - ",(0,l.jsx)(n.code,{children:'"b"'}),": bold - ",(0,l.jsx)(n.code,{children:'"eb"'}),": extra-bold - ",(0,l.jsx)(n.code,{children:'"ub"'}),":\nultra-bold - ",(0,l.jsx)(n.code,{children:'"uc"'}),": ultra-condensed - ",(0,l.jsx)(n.code,{children:'"ec"'}),": extra-condensed - ",(0,l.jsx)(n.code,{children:'"c"'}),":\ncondensed - ",(0,l.jsx)(n.code,{children:'"sc"'}),": semi-condensed - ",(0,l.jsx)(n.code,{children:'"n"'}),": normal (default) - ",(0,l.jsx)(n.code,{children:'"sx"'}),":\nsemi-expanded - ",(0,l.jsx)(n.code,{children:'"x"'}),": expanded - ",(0,l.jsx)(n.code,{children:'"ex"'}),": extra-expanded - ",(0,l.jsx)(n.code,{children:'"ux"'}),":\nultra-expanded"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"style.fontShape"})," - The font 'shape' (again, TeX terminology), i.e. italic\nor condensed.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"it"'}),": italic"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"sl"'}),": slanted or oblique (often the same as italic)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"sc"'}),": small caps"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"ol"'}),": outline"]}),"\n"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h4,{id:"contextual-inline-shortcuts",children:"Contextual Inline Shortcuts"}),(0,l.jsx)(n.p,{children:'Previously, some shortcuts would get triggered too frequently, for example when\ntyping "find", the "\\in" shortcut would get triggered.'}),(0,l.jsx)(n.p,{children:"Now, a shortcut can be defined with some pre-conditions. It is still possible to\ndefine a shortcut unconditionally, and thus if you are using custom inline\nshortcuts, they do not need to be updated:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"config.inlineShortcuts = {\n  in: '\\\\in',\n};\n"})}),(0,l.jsx)(n.p,{children:"However, a shortcut can now be specified with an object:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"config.inlineShortcuts = {\n  in: {\n    mode: 'math',\n    after: 'space+letter+digit+symbol+fence',\n    value: '\\\\in',\n  },\n};\n"})}),(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"value"})," key is required an indicate the shortcut substitution."]}),(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mode"})," key, if present, indicate in which mode this shortcut should apply,\neither ",(0,l.jsx)(n.code,{children:'"math"'})," or ",(0,l.jsx)(n.code,{children:'"text"'}),". If the key is not present the shortcut apply in\nboth modes."]}),(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:'"after"'})," key, if present, indicate in what context the shortcut should\napply. One or more values can be specified, separated by a '+' sign. If any of\nthe values match, the shortcut will be applicable. Possible values are:"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"space"'})," A spacing command, such as ",(0,l.jsx)(n.code,{children:"\\quad"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"nothing"'})," The begining of a group"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"surd"'})," A square root or n-th root"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"frac"'})," A fraction"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"function"'})," A function such as ",(0,l.jsx)(n.code,{children:"\\sin"})," or ",(0,l.jsx)(n.code,{children:"f"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"letter"'})," A letter, such as ",(0,l.jsx)(n.code,{children:"x"})," or ",(0,l.jsx)(n.code,{children:"n"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"digit"'})," ",(0,l.jsx)(n.code,{children:"0"})," through ",(0,l.jsx)(n.code,{children:"9"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"binop"'})," A binary operator, such as ",(0,l.jsx)(n.code,{children:"+"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"relop"'})," A relational operator, such as ",(0,l.jsx)(n.code,{children:"="})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"punct"'})," A punctuation mark, such as ",(0,l.jsx)(n.code,{children:","})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"array"'})," An array, such as a matrix or cases statement"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"openfence"'})," An opening fence, such as ",(0,l.jsx)(n.code,{children:"("})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"closefence"'})," A closing fence such as ",(0,l.jsx)(n.code,{children:"}"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"text"'})," Some plain text"]}),"\n"]}),(0,l.jsx)(n.h4,{id:"other-features",children:"Other Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Arrays, matrices and cases can now be edited. To create a a matrix, after a\n",(0,l.jsx)(n.code,{children:"("})," or a ",(0,l.jsx)(n.code,{children:"["}),", type some content then ",(0,l.jsx)(n.code,{children:"[RETURN]"}),": a second row will be added to\nthe matrix. Similarly, typing ",(0,l.jsx)(n.code,{children:"[RETURN]"})," after a ",(0,l.jsx)(n.code,{children:"{"})," will create a cases\nstatements.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["To insert a new row, type ",(0,l.jsx)(n.code,{children:"[RETURN]"})]}),"\n",(0,l.jsxs)(n.li,{children:["To insert a new column, type ",(0,l.jsx)(n.code,{children:"alt/option+,"})," (comma), the Excel shortcut for\nthis operation."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Support for ",(0,l.jsx)(n.code,{children:"\\emph"})," (emphasis) command, which can be used to (semantically)\nhighlight an element. This command works both in text and math mode (it only\nworks in text mode in TeX). For example:"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tex",children:"\\text{In the formula}\\emph{x}+1=0\\text{x is the \\emph{unknown}}\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Support for ",(0,l.jsx)(n.code,{children:"\\cssId"})," and ",(0,l.jsx)(n.code,{children:"\\class"})," commands. These are non-standard TeX\ncommands which are supported by MathJax.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"\\cssId{id}{content}"})," Attaches an id attribute with value ",(0,l.jsx)(n.code,{children:"id"})," to the output\nassociated with content when it is included in the HTML page. This allows\nyour CSS to style the element, or your javascript to locate it on the page."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"\\class{name}{content}"})," Attaches the CSS class ",(0,l.jsx)(n.code,{children:"name"})," to the output\nassociated with content when it is included in the HTML page. This allows\nyour CSS to style the element."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"config.removeExtraneousParentheses"})," (true by default) extra parentheses, for\nexample around a numerator or denominator are removed automatically.\nParticularly useful when pasting content."]}),"\n",(0,l.jsx)(n.li,{children:"Improvements to clipboard handling, pasting and copying. Now supports pasting\nof ASCIIMath and UnicodeMath (from MS Word) and LaTeX."}),"\n",(0,l.jsxs)(n.li,{children:["Support for output of ASCIIMath using ",(0,l.jsx)(n.code,{children:"mf.$text('ASCIIMath')"})," and\n",(0,l.jsx)(n.code,{children:"mf.$selectedText('ASCIIMath')"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"config.smartSuperscript"})," If ",(0,l.jsx)(n.code,{children:"true"})," (default), when a digit is entered in an\nempty superscript, the cursor leaps automatically out of the superscript. This\nmakes entry of common polynomials easier and faster."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"config.scriptDepth"})," Controls how many levels of subscript/superscript can be\nentered. By restricting, this can help avoid unwanted entry of superscript and\nsubscript. By default, there are no restrictions."]}),"\n",(0,l.jsx)(n.li,{children:"#156: localization support, including French, Italian, Spanish, Polish and\nRussian."}),"\n",(0,l.jsx)(n.li,{children:"New visual appearance for selected elements."}),"\n"]}),(0,l.jsx)(n.h3,{id:"other-improvements-1",children:"Other Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["When in command mode (after pressing the '' or 'ESC' key), pressing these\nkeys will have the indicated effect:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[ESC]"}),": discards entry and return to math mode"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[TAB]"}),": accept suggestion and enter it"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[RETURN]"}),": enter characters typed so far, ignoring any suggestion."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["#132: Support for smart fence with ",(0,l.jsx)(n.code,{children:"{}"}),", and ",(0,l.jsx)(n.code,{children:"\\langle"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Pressing the spacebar next to a closing smartFence will close it. Useful for\nsemi-open fences."}),"\n",(0,l.jsx)(n.li,{children:"Improved rendering performance by 8%"}),"\n",(0,l.jsx)(n.li,{children:"Updated SRE support"}),"\n",(0,l.jsx)(n.li,{children:"Improvements to undo/redo support. Fix #137, #139 and #140."}),"\n",(0,l.jsx)(n.li,{children:"Significant improvements to the Abstract Syntax Tree generation\n(MASTON/MathJSON), including #147"}),"\n",(0,l.jsxs)(n.li,{children:["Keyboard shortcuts that override inline shortcuts and Smart Fence:\n",(0,l.jsx)(n.code,{children:"option/alt+|"}),", ",(0,l.jsx)(n.code,{children:"option/alt+\\"}),". Also available are ",(0,l.jsx)(n.code,{children:"option/alt+("})," and\n",(0,l.jsx)(n.code,{children:"option/alt+)"})]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-110",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"#155: A cases statement (or a matrix) can now be deleted. The rows and columns\ninside a cases statement (or a matrix) can also be deleted."}),"\n",(0,l.jsx)(n.li,{children:"#133: Clicking on a placeholder selects it."}),"\n",(0,l.jsx)(n.li,{children:"Fixed issue with positioning of Popover panel."}),"\n",(0,l.jsxs)(n.li,{children:["Correctly render ",(0,l.jsx)(n.code,{children:"\\ulcorner"}),", ",(0,l.jsx)(n.code,{children:"\\urcorner"}),", ",(0,l.jsx)(n.code,{children:"\\llcorner"})," and ",(0,l.jsx)(n.code,{children:"\\rrcorner"})]}),"\n",(0,l.jsx)(n.li,{children:"#141: Improved interaction of placeholders and smart fences"}),"\n",(0,l.jsx)(n.li,{children:"#136: Close open smart fence with moveAfterParent only when at the closing of\na smart fence"}),"\n",(0,l.jsx)(n.li,{children:"#142: MathML output: supports sup/sub applied to a function"}),"\n",(0,l.jsx)(n.li,{children:"Improved handling of shortcuts."}),"\n",(0,l.jsxs)(n.li,{children:["#149: Fix handling of ",(0,l.jsx)(n.code,{children:"\\prime"})," and ",(0,l.jsx)(n.code,{children:"\\doubleprime"})]}),"\n",(0,l.jsx)(n.li,{children:"#111: Fix issue where a subscript followed a superscript and were not properly\ncombined."}),"\n",(0,l.jsx)(n.li,{children:"#118. Improved navigating out of inferior limits"}),"\n",(0,l.jsx)(n.li,{children:"Improve visual blinking when selecting with the mouse to the left"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"026-2019-02-04",children:["0.26 ",(0,l.jsx)(n.em,{children:"2019-02-04"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-18",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Public method now start with ",(0,l.jsx)(n.code,{children:"$"}),". This convention is also used, for example,\nby the Vue.js project. For now, aliases exist that begin with '_' (the\nprevious convention), however you are encourage to migrate as soon as\npossible. The function that are affected are: ",(0,l.jsx)(n.code,{children:"_el()"}),", ",(0,l.jsx)(n.code,{children:"_insert()"}),",\n",(0,l.jsx)(n.code,{children:"_keystroke()"}),", ",(0,l.jsx)(n.code,{children:"_latex()"}),", ",(0,l.jsx)(n.code,{children:"_perform()"}),", ",(0,l.jsx)(n.code,{children:"_revertToOriginalContent()"}),",\n",(0,l.jsx)(n.code,{children:"_selectedText()"}),", ",(0,l.jsx)(n.code,{children:"_selectionAtEnd()"}),", ",(0,l.jsx)(n.code,{children:"_selectionAtStart()"}),",\n",(0,l.jsx)(n.code,{children:"_selectionDepth()"}),", ",(0,l.jsx)(n.code,{children:"_selectionIsCollapsed()"}),", ",(0,l.jsx)(n.code,{children:"_setConfig()"}),", ",(0,l.jsx)(n.code,{children:"_text()"}),",\n",(0,l.jsx)(n.code,{children:"_typedText()"})," (this was initially implemented in 0.25)"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"major-new-features-2",children:"Major New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Support for dark mode. Triggered automatically by the browser or by setting\n",(0,l.jsx)(n.code,{children:'theme="dark"'})," on the ",(0,l.jsx)(n.code,{children:"<body>"})," tag."]}),"\n",(0,l.jsxs)(n.li,{children:["New implementation for inline shortcuts. Now support complex inline shortcuts\nincluding ",(0,l.jsx)(n.code,{children:"_"}),", ",(0,l.jsx)(n.code,{children:"("})," and other keys."]}),"\n",(0,l.jsx)(n.li,{children:"Virtual Keyboards can now be described using a JSON data structure.\nContribution from @rpdiss. Thanks!"}),"\n",(0,l.jsxs)(n.li,{children:["New ",(0,l.jsx)(n.code,{children:"MathLive.toSpeakableText()"})," function"]}),"\n",(0,l.jsxs)(n.li,{children:["New ",(0,l.jsx)(n.code,{children:"config.onAnnounce"})," handler"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"other-improvements-2",children:"Other Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"$perform()"})," function now accepts selector both in camelCase or\nkebab-case."]}),"\n",(0,l.jsx)(n.li,{children:"Improved display of some keys in the keyboard caption panel"}),"\n",(0,l.jsx)(n.li,{children:"New logo!"}),"\n",(0,l.jsx)(n.li,{children:"Improved documentation, including adding pages for keyboard shortcuts,\nexamples, macros, selectors and config options."}),"\n",(0,l.jsx)(n.li,{children:"Better support for IE11 via transpiling (thanks @synergycodes!)"}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-111",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"#103 - Fixed issues where the math path could become invalid. Also made the\ncode more resilient to invalid paths."}),"\n",(0,l.jsx)(n.li,{children:"#128 - Properly cleanup event handlers on destruction"}),"\n"]}),(0,l.jsx)(n.h3,{id:"codebase-health-and-performance",children:"Codebase Health and Performance"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Some minor optimizations and performance improvements, including lazy loading\nof sounds and some other resources."}),"\n",(0,l.jsx)(n.li,{children:"Moved some modules to classes."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"025-2018-12-29",children:["0.25 ",(0,l.jsx)(n.em,{children:"2018-12-29"})]}),(0,l.jsx)(n.h3,{id:"major-new-features-3",children:"Major New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["A Vue.js wrapper and example is available in ",(0,l.jsx)(n.code,{children:"examples/vue"})]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-112",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'#104 - Numeric keypard "/" was ignored.'}),"\n",(0,l.jsx)(n.li,{children:"#91 - Handling of '~' as an operator and a shortcut."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"024-2018-12-16",children:["0.24 ",(0,l.jsx)(n.em,{children:"2018-12-16"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-19",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Several handlers had some inconsistent signatures, or in some cases passed\ninvalid values as their arguments. This has been fixed, but it required\nchanging the signature of some handlers. For consistency, the first argument\nof the handlers now refers to the mathfield to which it applies."}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"MathLive.makeMathField('input', {\n  onContentDidChange: (mf) => {\n    document.getElementById('output').innerHTML = mf.latex();\n  },\n});\n"})}),(0,l.jsxs)(n.p,{children:["Keep in mind that arrow functions lexically bind their context, so ",(0,l.jsx)(n.code,{children:"this"}),"\nactually refers to the originating context (not to the mathfield)."]}),(0,l.jsx)(n.p,{children:"The affected handlers are:"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onFocus"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onBlur"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onKeystroke"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onMoveOutOf"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onTabOutOf"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onContentWillChange"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onContentDidChange"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onSelectionWillChange"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onSelectionDidChange"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onUndoStateWillChange"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onUndoStateDidChange"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onVirtualKeyboardToggle"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"onReadAloudStatus"})}),"\n"]}),(0,l.jsx)(n.p,{children:"It is recommended that you check if you use any of those handlers and validate\ntheir signatures."}),(0,l.jsx)(n.h3,{id:"major-new-features-4",children:"Major New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Support for native JavaScript modules, contributed by Jason Boxman\n(",(0,l.jsx)(n.a,{href:"https://github.com/jboxman",children:"https://github.com/jboxman"}),"). Thanks, Jason!"]}),"\n"]}),(0,l.jsxs)(n.p,{children:["The previous method, using a ",(0,l.jsx)(n.code,{children:"<script>"})," tag, is still supported:"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<script src="../../dist/mathlive.js"><\/script>\n'})}),(0,l.jsx)(n.p,{children:"but it is recommended to use native JavaScript modules:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"<script type=\"module\">\n  import MathLive from '../../dist/mathlive.mjs';\n<\/script>\n"})}),(0,l.jsxs)(n.p,{children:["(note the ",(0,l.jsx)(n.code,{children:".mjs"})," extension indicating this is a JavaScript module)."]}),(0,l.jsx)(n.p,{children:"A few caveats about using modules:"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"JavaScript modules are automatically in strict mode"}),"\n",(0,l.jsxs)(n.li,{children:["To use JavaScript modules you need to be in your own module. With a ",(0,l.jsx)(n.code,{children:"<script>"}),"\ntag, this is indicated by adding the ",(0,l.jsx)(n.code,{children:"type='module'"})," attribute. The code\ninside a module is not leaked to the global scope, the module has its own\nscope. As a result, functions defined inside the module (inside your\n",(0,l.jsx)(n.code,{children:"<script>"})," tag) will not be visible outside the module. You will need to\neither attach them to a global object (such as ",(0,l.jsx)(n.code,{children:"window"}),") or in the case of\neven handlers, attach them to the relevant element, using ",(0,l.jsx)(n.code,{children:"addEventListener"}),"."]}),"\n"]}),(0,l.jsxs)(n.p,{children:["See ",(0,l.jsx)(n.code,{children:"examples/basic/index.esm.html"})," for a complete example."]}),(0,l.jsxs)(n.p,{children:["If you were previously loading the non-minified version, that is the raw\nsources, which can be useful to debug issues, you need to use modules to load\nthem, while you may have used ",(0,l.jsx)(n.code,{children:"requirejs"})," previously. The sources are now\nincluded in the distribution for this purpose."]}),(0,l.jsx)(n.p,{children:"Instead of:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"    define(['mathlive/src/mathlive'], function(MathLive) {\n        MathLive.makeMathField(/*...*/);\n    }\n"})}),(0,l.jsx)(n.p,{children:"use:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"import MathLive from '../../dist/src/mathlive.js';\nMathLive.makeMathField(/*...*/);\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Support for SRE (Speech Rule Engine) from Volker Sorge. Optional, and needs to\nbe installed separately."}),"\n",(0,l.jsx)(n.li,{children:"Improved text to speech support, including karaoke mode (read aloud with\nsynchronized highlighting)"}),"\n",(0,l.jsxs)(n.li,{children:["New configuration setting to control the spacing between elements,\n",(0,l.jsx)(n.code,{children:"horizontalSpacingScale"}),". Supplying a value > 1.0 can improve readability for\nsome users."]}),"\n",(0,l.jsxs)(n.li,{children:["Added notifications when undo state change, ",(0,l.jsx)(n.code,{children:"onUndoStateWillChange"})," and\n",(0,l.jsx)(n.code,{children:"onUndoStateDidChange"})]}),"\n",(0,l.jsx)(n.li,{children:"Added support for correctly inserting rows and columns in arrays."}),"\n"]}),(0,l.jsx)(n.h3,{id:"other-improvements-3",children:"Other Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Fixes in MASTON"}),"\n",(0,l.jsx)(n.li,{children:"Improved cross-browser accessibility support"}),"\n",(0,l.jsx)(n.li,{children:"Fix MathML output for superscripts"}),"\n",(0,l.jsx)(n.li,{children:"Fix issue #75 (autoconvert would fail in some cases)"}),"\n",(0,l.jsx)(n.li,{children:"Fix issue #114. Incorrect selection when shift-select at the end."}),"\n",(0,l.jsx)(n.li,{children:"Fix issue #78. Cross-out positioning issue"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"022-2018-04-11",children:["0.22 ",(0,l.jsx)(n.em,{children:"2018-04-11"})]}),(0,l.jsx)(n.h3,{id:"major-new-features-5",children:"Major New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Support for styling in the virtual keyboard UI: the text and highlight color\ncan be adjusted to emphasize a portion of a formula"}),"\n",(0,l.jsxs)(n.li,{children:['Smart Fences. When a fence ("(", "{", etc...) is inserted, a matching closing\nfence is automatically inserted, displayed as a greyed out placeholder.',(0,l.jsx)("br",{}),"\nThe LaTeX code inserted will vary depending on the context where the insertion\nis made, either standalone characters (",(0,l.jsx)(n.code,{children:"("}),") or ",(0,l.jsx)(n.code,{children:"\\left...\\right"}),". This feature\nis on by default and can be turned off with ",(0,l.jsx)(n.code,{children:"config.smartFence"}),". ",(0,l.jsx)("br",{}),"Option-9\nand Option-0, as well as ",(0,l.jsx)(n.code,{children:"\\("})," and ",(0,l.jsx)(n.code,{children:"\\)"})," will override the setting and insert a\nplain old parenthesis."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"\\mleft...\\mright"}),". Similar to ",(0,l.jsx)(n.code,{children:"\\left...\\right"})," (i.e. grow in height depending\non its content) but with vertical spacing before and after similar to\n",(0,l.jsx)(n.code,{children:"\\mathopen"})," and ",(0,l.jsx)(n.code,{children:"\\mathclose"}),". Used automatically by smart fences after a\nfunction such as ",(0,l.jsx)(n.code,{children:"\\sin"})," or ",(0,l.jsx)(n.code,{children:"f"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Haptic and audio feedback for the virtual keyboard.",(0,l.jsx)("br",{}),"Haptic feedback is\navailable on Android only. ",(0,l.jsx)("br",{})," Two new config options to control it.\n",(0,l.jsx)(n.code,{children:"config.keypressVibration"}),", which is on by default, control the haptic\nfeedback. ",(0,l.jsx)(n.code,{children:"config.keypressSound"})," control the audio feedback (off by default).\nSpecify the URL to a sound file to be played when a key on the virtual\nkeyboard is pressed, or an object with a ",(0,l.jsx)(n.code,{children:"delete"}),", ",(0,l.jsx)(n.code,{children:"return"}),", ",(0,l.jsx)(n.code,{children:"spacebar"})," and\n",(0,l.jsx)(n.code,{children:"default"})," (required) keys to specify different sounds for those keys."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"other-new-features",children:"Other New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"When a fraction is inserted, for example by pressing '/', the items before the\ninsertion point are considered as potential numerator. This now include\nparenthesized expressions and roots. In the case of parenthesized expressions,\nthe parentheses are removed before being adoped for the numerator."}),"\n",(0,l.jsx)(n.li,{children:"MASTON: Use Unicode to represent math-variant letters (e.g. \u2102)"}),"\n",(0,l.jsxs)(n.li,{children:["Convert math-variant letters encoded in Unicode to LaTeX when pasting (e.g. \u2102\nbecomes ",(0,l.jsx)(n.code,{children:"\\C"}),", \ud835\udd70 becomes ",(0,l.jsx)(n.code,{children:"\\mathord{\\mathbf{\\mathfrak{E}}}"})]}),"\n",(0,l.jsx)(n.li,{children:"MASTON: Commutativity support. a + b + c \u2192 add(a, b, c)"}),"\n",(0,l.jsx)(n.li,{children:"MASTON: Right and left-associativity support ('=' and '=>' are right\nassociative)"}),"\n",(0,l.jsxs)(n.li,{children:["Improvements to the delete behavior: when to the right of a ",(0,l.jsx)(n.code,{children:"\\left...\\right"}),"\ndeletes remove the closing fence, not the whole expression. Same for root,\nfractions, and other groups. When at the beginning of a denominator, pressing\ndelete will remove the fraction, but keep numerator and denominator, etc..."]}),"\n",(0,l.jsx)(n.li,{children:"When using the command virtual keyboard, switch to command mode as necessary."}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"MathAtom.skipBoundary"}),". When true, navigating into/out of the atom the\nlast/first element will be skipped. For example, with ",(0,l.jsx)(n.code,{children:"\\textcolor{}"})," this\nimplements a behavior similar to word processors."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-113",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Fixed #63: improved displayed of ",(0,l.jsx)(n.code,{children:"\\enclose"})," over stacked atoms such as\nfractions and ",(0,l.jsx)(n.code,{children:"\\overset"})]}),"\n",(0,l.jsx)(n.li,{children:"Fixed issue with selecting sparse arrays"}),"\n",(0,l.jsxs)(n.li,{children:["Make ",(0,l.jsx)(n.code,{children:"\\bigl"})," et al. properly selectable"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"code-maintenance-and-performance",children:"Code Maintenance and Performance"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Moved operator precedence and canonical names from Definitions to MASTON."}),"\n",(0,l.jsx)(n.li,{children:"Improved rendering performance by eliminating hotspots through profiling."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"021-2018-03-30",children:["0.21 ",(0,l.jsx)(n.em,{children:"2018-03-30"})]}),(0,l.jsx)(n.h3,{id:"major-new-features-6",children:"Major New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Basic support for LaTeX macros. Macros can be defined with\n",(0,l.jsx)(n.code,{children:"MathField.$setConfig({macros:'...')"})]}),"\n",(0,l.jsx)(n.li,{children:"Display alternate keys when a key on the virtual keyboard is held down."}),"\n",(0,l.jsxs)(n.li,{children:["Support for AZERTY, QWERTZ, Dvorak and Colemak virtual keyboards. Can be setup\nwith ",(0,l.jsx)(n.code,{children:"MathField.$setConfig({virtualKeyboardLayout:'...')"}),". Also, shift\nclicking on the keyboard icon toggles between layouts."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"other-new-features-1",children:"Other New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Toggle the virtual keyboard layer when the shift key is pressed"}),"\n",(0,l.jsxs)(n.li,{children:["New ",(0,l.jsx)(n.code,{children:"onVirtualKeyboardToggle"})," handler will get called when the visibility of\nthe virtual keyboard changes. Useful to scroll into view important content\nthat might be obscured by the keyboard."]}),"\n",(0,l.jsxs)(n.li,{children:["Some common functions added as inline shortcuts: ",(0,l.jsx)(n.code,{children:"limsup"}),", ",(0,l.jsx)(n.code,{children:"liminf"}),", ",(0,l.jsx)(n.code,{children:"argmin"}),",\n",(0,l.jsx)(n.code,{children:"argmax"}),", ",(0,l.jsx)(n.code,{children:"bessel"}),", ",(0,l.jsx)(n.code,{children:"mean"}),", ",(0,l.jsx)(n.code,{children:"median"}),", ",(0,l.jsx)(n.code,{children:"fft"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"\\rd"})," command (synonym with ",(0,l.jsx)(n.code,{children:"\\differentialD"})," and used by Proof Wiki)"]}),"\n",(0,l.jsxs)(n.li,{children:["Added a format option (",(0,l.jsx)(n.code,{children:"latex-expanded"}),") to ",(0,l.jsx)(n.code,{children:"MathField.text()"})," and\n",(0,l.jsx)(n.code,{children:"MathField.selectedText()"})," to return LaTeX with macros expanded."]}),"\n",(0,l.jsxs)(n.li,{children:["Removed restrictions on charset in ",(0,l.jsx)(n.code,{children:"text"})]}),"\n",(0,l.jsx)(n.li,{children:"Support shift + arrows to extend the selection with the virtual keyboard"}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-114",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["More accurate operator precedence. Follow the\n",(0,l.jsx)(n.a,{href:"www.w3.org/TR/MathML3/appendixc.html",children:"MathML"})," recommendation, except for\narrows that are given a way too high priority in MathML."]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly output to LaTeX the ",(0,l.jsx)(n.code,{children:"\\unicode"})," command"]}),"\n",(0,l.jsx)(n.li,{children:"When undoing, correctly restore the selection"}),"\n",(0,l.jsx)(n.li,{children:"Improved behavior when inserting superscript and subscript on a selected item"}),"\n",(0,l.jsxs)(n.li,{children:["Fixed handling of unbalanced ",(0,l.jsx)(n.code,{children:"\\left"}),"...",(0,l.jsx)(n.code,{children:"\\right"})," sequences"]}),"\n",(0,l.jsx)(n.li,{children:"Correctly output the minus sign to LaTeX (as U+002D not as U+2212)"}),"\n",(0,l.jsx)(n.li,{children:"Fixed some cases where the layout would shift by a couple of pixels as you\nnavigated into the expression"}),"\n"]}),(0,l.jsx)(n.h3,{id:"code-maintenance-and-performance-1",children:"Code Maintenance and Performance"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:".test()"})," instead of ",(0,l.jsx)(n.code,{children:".match()"})," whenever possible"]}),"\n",(0,l.jsxs)(n.li,{children:["Eliminated ",(0,l.jsx)(n.code,{children:".value"})," and ",(0,l.jsx)(n.code,{children:".children"})," in Math Atoms. It's only ",(0,l.jsx)(n.code,{children:".body"})," now."]}),"\n",(0,l.jsx)(n.li,{children:"Avoid unnecessary rendering while tracking the pointer"}),"\n",(0,l.jsxs)(n.li,{children:["Refactored the Popover code into ",(0,l.jsx)(n.code,{children:"Popover.js"})]}),"\n",(0,l.jsxs)(n.li,{children:["Moved some content from ",(0,l.jsx)(n.code,{children:"Definitions.js"})," and into ",(0,l.jsx)(n.code,{children:"Popover.js"})]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"020-2018-03-24",children:["0.20 ",(0,l.jsx)(n.em,{children:"2018-03-24"})]}),(0,l.jsx)(n.h3,{id:"major-new-features-7",children:"Major New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Virtual keyboards with multi-touch support"}),"\n",(0,l.jsx)(n.li,{children:"BREAKING CHANGE: the command bar is no longer supported. Use virtual keyboards\ninstead."}),"\n"]}),(0,l.jsx)(n.h3,{id:"other-new-features-2",children:"Other New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Added support for wide layouts to virtual keyboard. If space is available, up\nto four more columns of keys can be displayed."}),"\n",(0,l.jsx)(n.li,{children:"Added Copy button to virtual keyboard"}),"\n",(0,l.jsx)(n.li,{children:"Allow 'space' in command mode"}),"\n",(0,l.jsx)(n.li,{children:"MASTON: improved parsing of numbers"}),"\n",(0,l.jsx)(n.li,{children:"Handle Unicode pseudo-superscript characters as exponents"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"019-2018-03-19",children:["0.19 ",(0,l.jsx)(n.em,{children:"2018-03-19"})]}),(0,l.jsx)(n.h3,{id:"major-new-features-8",children:"Major New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"MASTON: first implementation"}),"\n",(0,l.jsx)(n.li,{children:"Support selecting cells in arrays"}),"\n"]}),(0,l.jsx)(n.h3,{id:"other-new-features-3",children:"Other New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"MASTON: handle complex numbers and modulo"}),"\n",(0,l.jsx)(n.li,{children:"Added option for styling of keyboard glyph"}),"\n",(0,l.jsx)(n.li,{children:"Improved output to LaTeX for arrays"}),"\n",(0,l.jsxs)(n.li,{children:["Additional trig and long functions (",(0,l.jsx)(n.code,{children:"\\lb"}),", ",(0,l.jsx)(n.code,{children:"\\arsinh"}),", ",(0,l.jsx)(n.code,{children:"\\arcosh"}),", ",(0,l.jsx)(n.code,{children:"\\artanh"}),",\n",(0,l.jsx)(n.code,{children:"\\arcsech"}),", ",(0,l.jsx)(n.code,{children:"\\arccsh"}),", ",(0,l.jsx)(n.code,{children:"\\arcsec"}),", ",(0,l.jsx)(n.code,{children:"\\arccsc"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["MathML: more robust handling of complex ",(0,l.jsx)(n.code,{children:"<mo>"})]}),"\n",(0,l.jsx)(n.li,{children:"MathML: improved handling of fences"}),"\n",(0,l.jsx)(n.li,{children:"Improved LaTeX output"}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-115",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Correctly handle latex output for the ",(0,l.jsx)(n.code,{children:"\\char"})," command"]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly handle invalid Unicode code points in the ",(0,l.jsx)(n.code,{children:"\\char"})," command"]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly output MathML for extended Unicode characters and ",(0,l.jsx)(n.code,{children:"\\char"})," command"]}),"\n",(0,l.jsx)(n.li,{children:"Correctly handle selection in sparse arrays"}),"\n",(0,l.jsx)(n.li,{children:"Correct spacing issue of selected items"}),"\n",(0,l.jsx)(n.li,{children:"Fixed #17: correctly extend the selection when the anchor is at the end of the\nselection"}),"\n",(0,l.jsx)(n.li,{children:"The caret would not blink in empty supsub"}),"\n",(0,l.jsx)(n.li,{children:"The last character of the selection would not be copied on the clipboard"}),"\n",(0,l.jsxs)(n.li,{children:["MathML: don't insert ",(0,l.jsx)(n.code,{children:"&invisibleTimes;"})," for factorial, but ",(0,l.jsx)(n.em,{children:"do"})," insert it\nbefore a fence."]}),"\n",(0,l.jsx)(n.li,{children:"Going up from a numerator longer than the denominator could hang."}),"\n",(0,l.jsxs)(n.li,{children:["MathML and LaTeX output: better handling of ",(0,l.jsx)(n.code,{children:"\\Big"})," (etc...) delimiters"]}),"\n",(0,l.jsxs)(n.li,{children:["MathML: do not render ",(0,l.jsx)(n.code,{children:"\\text"})," as ",(0,l.jsx)(n.code,{children:"<mi>"})]}),"\n",(0,l.jsxs)(n.li,{children:["LaTeX output: handle the ",(0,l.jsx)(n.code,{children:"\\math..."})," (",(0,l.jsx)(n.code,{children:"\\mathop"}),", ",(0,l.jsx)(n.code,{children:"\\mathbin"}),"...) family of\nfunctions"]}),"\n",(0,l.jsx)(n.li,{children:"Properly parse custom operators"}),"\n",(0,l.jsx)(n.li,{children:"Commands with multiple keyboard shortcuts would not display correctly in the\nPopover panel"}),"\n"]}),(0,l.jsx)(n.h3,{id:"code-maintenance-and-performance-2",children:"Code Maintenance and Performance"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Reduce the amount of markup generated, avoid generating markup for empty\nspans."}),"\n",(0,l.jsx)(n.li,{children:"Updated fonts from KaTeX"}),"\n"]}),(0,l.jsxs)(n.h2,{id:"018-2018-03-04",children:["0.18 ",(0,l.jsx)(n.em,{children:"2018-03-04"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-116",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Fixed issue where ",(0,l.jsx)(n.code,{children:"\\underset"})," annotation was not selectable"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"code-maintenance-and-performance-3",children:"Code Maintenance and Performance"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Reverted back to WebPack 3"}),"\n",(0,l.jsxs)(n.li,{children:["Simplified CSS and streamlined markup for ",(0,l.jsx)(n.code,{children:"vlist"})," spans."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0017-2018-02-27",children:["0.0.17 ",(0,l.jsx)(n.em,{children:"2018-02-27"})]}),(0,l.jsx)(n.h3,{id:"new-features-32",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Improved accessibility support (major contribution from Neil Soiffer)"}),"\n",(0,l.jsx)(n.li,{children:"Support for MathML output and LaTeX to MathML conversion."}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-117",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"#26 Fixed issue with Chrome 62 where fraction lines and other thin lines would\nintermittently not render."}),"\n",(0,l.jsx)(n.li,{children:"#20, #51. Ensure that a placeholder is always present for numerator,\ndenominator."}),"\n",(0,l.jsx)(n.li,{children:"#21. Do not allow sub-elements of an enclose element to be selected."}),"\n",(0,l.jsx)(n.li,{children:"Font-size will now respect font-size specified by the parent element. As a\nresult of this non-backward compatible change, the size of the equation may\nnow be different than it was. To ensure that the size remains the same as\nbefore, specify a font-size property on the parent element with a value of\n16px."}),"\n",(0,l.jsx)(n.li,{children:"#29. Correctly handle $ and @ as inlineShortcuts"}),"\n",(0,l.jsx)(n.li,{children:"Improved handling of undo."}),"\n",(0,l.jsx)(n.li,{children:"New implementation of \\enclose notations."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0016-2017-09-13",children:["0.0.16 ",(0,l.jsx)(n.em,{children:"2017-09-13"})]}),(0,l.jsx)(n.h3,{id:"deprecated-features",children:"Deprecated Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"MathField.write()"})," has been deprecated. Use ",(0,l.jsx)(n.code,{children:"MathField.insert()"})," instead."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features-33",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"MathField.selectedText()"})," which returns the textual content of the\nselection."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-118",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Perform a snapshot with the undo manager when invoking ",(0,l.jsx)(n.code,{children:"MathField.insert()"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Documentation improvements."}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0015-2017-07-01",children:["0.0.15 ",(0,l.jsx)(n.em,{children:"2017-07-01"})]}),(0,l.jsx)(n.h3,{id:"new-features-34",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Properly exported public API, including ",(0,l.jsx)(n.code,{children:"renderMathInDocument()"})," and\n",(0,l.jsx)(n.code,{children:"renderMathInElement()"})]}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"\\enclose"})," command, implementing the\n",(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/MathML/Element/menclose",children:"MathML"}),"\nequivalent."]}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"\\cancel"}),", ",(0,l.jsx)(n.code,{children:"\\bcancel"})," and ",(0,l.jsx)(n.code,{children:"\\xcancel"})," commands"]}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"preserveOriginalContent"})," option to ",(0,l.jsx)(n.code,{children:"MathLive.renderMathIn...()"})]}),"\n",(0,l.jsxs)(n.li,{children:["Made ",(0,l.jsx)(n.code,{children:"\\backslash"})," work in text mode, for example when an argument of ",(0,l.jsx)(n.code,{children:"\\rlap{}"})]}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"revertToOriginalContent()"})," when a math field is no longer needed for an\nelement"]}),"\n",(0,l.jsxs)(n.li,{children:["Added customization of the command bar. See ",(0,l.jsx)(n.code,{children:"MathField.$setConfig()"})," and\n",(0,l.jsx)(n.code,{children:"config.commands"})]}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"revertToOriginalContent()"})," and ",(0,l.jsx)(n.code,{children:"getOriginalContent()"})]}),"\n",(0,l.jsxs)(n.li,{children:["Added optional namespacing of ",(0,l.jsx)(n.code,{children:"data-"})," attributes"]}),"\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"onContentWillChange"})," and ",(0,l.jsx)(n.code,{children:"onContentDidChange"})," handlers in the math\nfield config object."]}),"\n",(0,l.jsx)(n.li,{children:"Added tutorials and improved documentation"}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-119",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Fixed #5: AZERTY keyboard input was misbehaving, particularly for the ",(0,l.jsx)(n.code,{children:"^"})," key"]}),"\n",(0,l.jsxs)(n.li,{children:["Dead keys (",(0,l.jsx)(n.code,{children:"\xb4"}),", ",(0,l.jsx)(n.code,{children:"^"}),", ",(0,l.jsx)(n.code,{children:"\xa8"}),", ",(0,l.jsx)(n.code,{children:"\u02dc"})," and others on some keyboards) were not properly\nhandled"]}),"\n",(0,l.jsxs)(n.li,{children:["Complex emojis (emojis made of multiple codepoints, such as emojis with skin\ntone modifiers, or emojis with a ",(0,l.jsx)(n.strong,{children:"ZERO WIDTH JOINER"}),", such as the David\nBowie emoji) would be incorrectly recognized as multiple symbols"]}),"\n",(0,l.jsxs)(n.li,{children:["Fixed the ",(0,l.jsx)(n.code,{children:"\\color"})," command"]}),"\n",(0,l.jsxs)(n.li,{children:["Properly roundtrip to LaTeX ",(0,l.jsx)(n.code,{children:"\\rlap"}),", ",(0,l.jsx)(n.code,{children:"\\color"})," and many other commands. Now,\ncopying content using these commands in a math field will result in the\ncorrect LaTeX code to be generated."]}),"\n"]})]})]})}function x(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},9548:(e,n,s)=>{s.d(n,{A:()=>l});var i=s(4848);function l(e){let{children:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{children:"\n    .markdown h2 {\n      align-items: center;\n      border-bottom: 2px solid var(--blue-600);\n      color: var(--blue-600);\n      display: flex;\n    }      \n\n\n    .markdown h2 em {\n      margin-left: auto;\n      color: var(--blue-600);\n      display: block;\n      float: right;\n      font-size: .6em;\n      font-style: normal;\n      font-weight: 400\n    }\n  \n    "}),n]})}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>t});var i=s(6540);const l={},r=i.createContext(l);function d(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);