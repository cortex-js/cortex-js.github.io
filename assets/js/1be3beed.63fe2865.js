"use strict";(self.webpackChunkcortexjs_io=self.webpackChunkcortexjs_io||[]).push([[2994],{4153:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>a,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"compute-engine/reference-control-structures","title":"Control Structures","description":"Control Structures define how a sequence of expressions is evaluated.","source":"@site/docs/compute-engine/84-reference-control-structures.md","sourceDirName":"compute-engine","slug":"/compute-engine/reference/control-structures/","permalink":"/compute-engine/reference/control-structures/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1731785970000,"sidebarPosition":84,"frontMatter":{"title":"Control Structures","slug":"/compute-engine/reference/control-structures/"},"sidebar":"docSidebar","previous":{"title":"Complex","permalink":"/compute-engine/reference/complex/"},"next":{"title":"Core","permalink":"/compute-engine/reference/core/"}}');var i=o(4848),r=o(8453);const c={title:"Control Structures",slug:"/compute-engine/reference/control-structures/"},t=void 0,l={},d=[{value:"Overview",id:"overview",level:2},{value:"Sequential Control Structure",id:"sequential-control-structure",level:2},{value:"Conditional Control Structure",id:"conditional-control-structure",level:2},{value:"Loops",id:"loops",level:2},{value:"Controlling the Flow of Execution",id:"controlling-the-flow-of-execution",level:2}];function h(e){const n={code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{FunctionDefinition:o,Intro:s,Latex:c,ReadMore:t,Signature:l}=n;return o||x("FunctionDefinition",!0),s||x("Intro",!0),c||x("Latex",!0),t||x("ReadMore",!0),l||x("Signature",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s,{children:(0,i.jsx)(n.p,{children:"Control Structures define how a sequence of expressions is evaluated."})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"The flow of a program is controlled by control structures. Control structures\nare expressions that define how a sequence of expressions is evaluated."}),"\n",(0,i.jsx)(n.p,{children:"There are three kind of control structures:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sequential"}),": ",(0,i.jsx)(n.code,{children:"Block"}),", the most common where expressions are evaluated one\nafter the other"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Conditional"})," ",(0,i.jsx)(n.code,{children:"If"})," or ",(0,i.jsx)(n.code,{children:"Which"}),", where expressions are evaluated depending on\nthe value of a condition"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Iterative"})," ",(0,i.jsx)(n.code,{children:"Loop"})," or ",(0,i.jsx)(n.code,{children:"FixedPoint"}),", where expressions are evaluated\nrepeatedly"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"sequential-control-structure",children:"Sequential Control Structure"}),"\n",(0,i.jsxs)(o,{name:"Block",children:[(0,i.jsxs)(l,{name:"Block",children:[(0,i.jsx)(n.em,{children:"expr-1"}),", ...",(0,i.jsx)(n.em,{children:"expr-n"})]}),(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.code,{children:'["Block"]'})," expression is a sequence of expressions that are evaluated\nsequentially."]}),(0,i.jsxs)(n.p,{children:["A new scope is created for the ",(0,i.jsx)(n.code,{children:'["Block"]'})," expression. The scope is destroyed\nwhen the ",(0,i.jsx)(n.code,{children:'["Block"]'})," expression is finished evaluating. This means that\nvariables defined in the ",(0,i.jsx)(n.code,{children:'["Block"]'})," expression are not accessible outside of\nthe ",(0,i.jsx)(n.code,{children:'["Block"]'})," expression."]}),(0,i.jsxs)(n.p,{children:["The value of the ",(0,i.jsx)(n.code,{children:'["Block"]'})," expression is the value of the last expression\n",(0,i.jsx)(n.code,{children:"expr-n"}),"."]}),(0,i.jsxs)(n.p,{children:["If one of the expression in the block is a ",(0,i.jsx)(n.code,{children:'["Return"]'})," expression, a\n",(0,i.jsx)(n.code,{children:'["Break"]'})," expression or a ",(0,i.jsx)(n.code,{children:'["Continue"]'})," expression, no more expressions are\nevaluated and the value of the ",(0,i.jsx)(n.code,{children:'["Block"]'})," is this expression."]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:'["Block"]'})," expressions can be nested as necessary."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"example",children:'["Block", ["Assign", "c", 5], ["Multiply", "c", 2]]\n\n\n// \u2794 10\n'})})]}),"\n",(0,i.jsx)(n.h2,{id:"conditional-control-structure",children:"Conditional Control Structure"}),"\n",(0,i.jsxs)(o,{name:"If",children:[(0,i.jsxs)(l,{name:"If",children:[(0,i.jsx)(n.em,{children:"condition"}),", ",(0,i.jsx)(n.em,{children:"expr-1"})]}),(0,i.jsxs)(n.p,{children:["If the value of ",(0,i.jsx)(n.code,{children:"condition"}),"is the symbol ",(0,i.jsx)(n.code,{children:"True"}),", the value of the ",(0,i.jsx)(n.code,{children:'["If"]'}),"\nexpression is ",(0,i.jsx)(n.code,{children:"expr-1"}),", otherwise ",(0,i.jsx)(n.code,{children:"Nothing"}),"."]}),(0,i.jsxs)(l,{name:"If",children:[(0,i.jsx)(n.em,{children:"condition"}),", ",(0,i.jsx)(n.em,{children:"expr-1"}),", ",(0,i.jsx)(n.em,{children:"expr-2"})]}),(0,i.jsxs)(n.p,{children:["If the value of ",(0,i.jsx)(n.code,{children:"condition"}),"is the symbol ",(0,i.jsx)(n.code,{children:"True"}),", the value of the ",(0,i.jsx)(n.code,{children:'["If"]'}),"\nexpression is ",(0,i.jsx)(n.code,{children:"expr-1"}),", otherwise ",(0,i.jsx)(n.code,{children:"expr-2"}),"."]}),(0,i.jsx)(n.p,{children:"Here's an example of a function that returns the absoluve value of a number:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"example",children:'["Function", ["If", ["Greater", "n", 0], "n", ["Negate", "n"]], "n"]\n'})}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:'["If"]'})," expressions can be nested as necessary."]})]}),"\n",(0,i.jsxs)(o,{name:"Which",children:[(0,i.jsxs)(l,{name:"Which",children:[(0,i.jsx)(n.em,{children:"condition-1"}),", ",(0,i.jsx)(n.em,{children:"expr-1"}),", ...",(0,i.jsx)(n.em,{children:"condition-n"}),",\n",(0,i.jsx)(n.em,{children:"expr-n"})]}),(0,i.jsxs)(n.p,{children:["The value of the ",(0,i.jsx)(n.code,{children:'["Which"]'})," expression is the value of the first expression\n",(0,i.jsx)(n.code,{children:"expr-n"})," for which the corresponding condition ",(0,i.jsx)(n.code,{children:"condition-n"})," is ",(0,i.jsx)(n.code,{children:"True"}),"."]}),(0,i.jsx)(c,{value:"\\begin{cases} x & \\text{if } x > 0 \\\\ -x & \\text{if } x < 0 \\\\ 0 & \\text{otherwise} \\end{cases}"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"example",children:'["Block",\n  ["Assign", "n", -10]\n  ["Which", ["Greater", "n", 0], "n", ["Negate", "n"], "n"]\n]\n// \u2794 10\n'})}),(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.code,{children:'["Which"]'})," expression is equivalent to the following ",(0,i.jsx)(n.code,{children:'["If"]'})," expression:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"example",children:'["If", ["Equal", condition-1, "True"], expr-1,\n    ["If", ["Equal", condition-2, "True"], _expr-2,\n    ... ["If", ["Equal", condition-n, "True"],\n          expr-n,\n          "Nothing"\n    ]\n  ]\n]\n'})}),(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.code,{children:'["Which"]'})," expression is equivalent to a ",(0,i.jsx)(n.code,{children:"switch"})," statement in JavaScript or\nthe ",(0,i.jsx)(n.code,{children:"Which[]"})," function in Mathematica."]})]}),"\n",(0,i.jsx)(n.h2,{id:"loops",children:"Loops"}),"\n",(0,i.jsxs)(o,{name:"Loop",children:[(0,i.jsx)(l,{name:"Loop",children:(0,i.jsx)(n.em,{children:"body"})}),(0,i.jsxs)(n.p,{children:["Repeatedly evaluate ",(0,i.jsx)(n.code,{children:"body"}),"until the value of ",(0,i.jsx)(n.code,{children:"body"}),"is a ",(0,i.jsx)(n.code,{children:'["Break"]'})," expression,\nor a ",(0,i.jsx)(n.code,{children:'["Return"]'})," expression."]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'["Break"]'})," exits the loop immediately. The value of the ",(0,i.jsx)(n.code,{children:'["Loop"]'})," expression\nis the value of the ",(0,i.jsx)(n.code,{children:'["Break"]'})," expression."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'["Return"]'})," exits the loop and returns the value of the ",(0,i.jsx)(n.code,{children:'["Return"]'}),"\nexpression."]}),"\n"]}),(0,i.jsxs)(n.p,{children:["To exit the loop, a ",(0,i.jsx)(n.code,{children:'["Break"]'})," or ",(0,i.jsx)(n.code,{children:'["Return"]'})," expression must be evaluated."]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Loop"})," with only a ",(0,i.jsx)(n.em,{children:"body"})," argument is equivalent to a ",(0,i.jsx)(n.code,{children:"while(true)"})," in\nJavaScript or a ",(0,i.jsx)(n.code,{children:"While[True, ...]"})," in Mathematica."]}),(0,i.jsxs)(l,{name:"Loop",children:[(0,i.jsx)(n.em,{children:"body"}),", ",(0,i.jsx)(n.em,{children:"collection"})]}),(0,i.jsxs)(n.p,{children:["Iterates over the elements of ",(0,i.jsx)(n.code,{children:"collection"})," and evaluates ",(0,i.jsx)(n.code,{children:"body"})," with an implicit\nargument ",(0,i.jsx)(n.code,{children:"_"})," whose value is the current element. The value of the ",(0,i.jsx)(n.code,{children:'["Loop"]'}),"\nexpression is the value of the last iteration of the loop, or the value of the\n",(0,i.jsx)(n.code,{children:'["Break"]'})," expression if the loop was exited with a ",(0,i.jsx)(n.code,{children:'["Break"]'})," expression."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"example",children:'["Loop", ["Print", ["Square", "_"]], ["Range", 5]]\n// \u2794 1 4 9 16 25\n["Loop", ["Function", ["Print", ["Square", "x"], "x"]], ["Range", 5]]\n// \u2794 1 4 9 16 25\n'})}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Loop"})," with a ",(0,i.jsx)(n.code,{children:"body"})," and ",(0,i.jsx)(n.code,{children:"collection"})," to iterate is equivalent to a ",(0,i.jsx)(n.code,{children:"forEach()"}),"\nin JavaScript. It is somewhat similar to a ",(0,i.jsx)(n.code,{children:"Do[...]"})," in Mathematica."]})]}),"\n",(0,i.jsxs)(o,{name:"FixedPoint",children:[(0,i.jsxs)(l,{name:"FixedPoint",children:[(0,i.jsx)(n.em,{children:"body"}),", ",(0,i.jsx)(n.em,{children:"initial-value"})]}),(0,i.jsxs)(l,{name:"FixedPoint",children:[(0,i.jsx)(n.em,{children:"body"}),", ",(0,i.jsx)(n.em,{children:"initial-value"}),",\n",(0,i.jsx)(n.em,{children:"max-iterations"})]}),(0,i.jsxs)(n.p,{children:["Assumes ",(0,i.jsx)(n.code,{children:"body"}),"is an expression using an implicit argument ",(0,i.jsx)(n.code,{children:"_"}),"."]}),(0,i.jsxs)(n.p,{children:["Apply ",(0,i.jsx)(n.code,{children:"body"}),"to ",(0,i.jsx)(n.code,{children:"initial-value"}),", then apply ",(0,i.jsx)(n.code,{children:"body"}),"to the result until the result\nno longer changes."]}),(0,i.jsxs)(n.p,{children:["To determine if a fixed point has been reached and the loop should terminate,\nthe previous and current values are compared with ",(0,i.jsx)(n.code,{children:"Equal"}),"."]}),(0,i.jsxs)(n.p,{children:["Inside ",(0,i.jsx)(n.code,{children:"body"}),", use a ",(0,i.jsx)(n.code,{children:'["Break"]'})," expression to exit the loop immediately or\n",(0,i.jsx)(n.code,{children:"Return"})," to exit the enclosing ",(0,i.jsx)(n.code,{children:'["Function"]'})," expression."]}),(0,i.jsx)(t,{path:"/compute-engine/reference/collections/#Fold",children:(0,i.jsxs)(n.p,{children:["See also the ",(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"Fold"})," function"]})," which operates on a collection"]})})]}),"\n",(0,i.jsx)(t,{path:"/compute-engine/reference/statistics/",children:(0,i.jsxs)(n.p,{children:["Read more about the ",(0,i.jsx)(n.code,{children:"Product"})," and ",(0,i.jsx)(n.code,{children:"Sum"})," functions which are specialized version of loops."]})}),"\n",(0,i.jsx)(t,{path:"/compute-engine/reference/collections/",children:(0,i.jsxs)(n.p,{children:["Read more about operations on collection such as ",(0,i.jsx)(n.code,{children:"Map"})," and ",(0,i.jsx)(n.code,{children:"Fold"})," which are functional\nprogramming constructs that can be used to replace loops."]})}),"\n",(0,i.jsx)(n.h2,{id:"controlling-the-flow-of-execution",children:"Controlling the Flow of Execution"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"To exit a function"}),", use ",(0,i.jsx)(n.code,{children:"Return"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"To control the flow of a loop expression"}),", use ",(0,i.jsx)(n.code,{children:"Break"})," and ",(0,i.jsx)(n.code,{children:"Continue"}),"."]}),"\n",(0,i.jsxs)(o,{name:"Return",children:[(0,i.jsx)(l,{name:"Return",children:(0,i.jsx)(n.em,{children:"value"})}),(0,i.jsxs)(n.p,{children:["Interupts the evaluation of a ",(0,i.jsx)(n.code,{children:'["Function"]'})," expression. The value of the\n",(0,i.jsx)(n.code,{children:'["Function"]'})," expression is ",(0,i.jsx)(n.code,{children:"value"}),"."]}),(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:'["Return"]'})," expression is useful when used with functions that have\nmultiple exit points, conditional logic, loops, etc..."]}),(0,i.jsx)(n.p,{children:"Here's a contrived example of a function that returns the sign of a number:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"example",children:'[\n  "Function",\n  [\n    "Block",\n    ["If", ["Greater", "x", 0], ["Return", 1]],\n    ["If", ["Less", "x", 0], ["Return", -1]],\n    0\n  ],\n  "x"\n]\n'})}),(0,i.jsx)(t,{path:"/compute-engine/reference/functions/",children:(0,i.jsxs)(n.p,{children:["Read more about ",(0,i.jsx)(n.strong,{children:"functions"}),"."]})})]}),"\n",(0,i.jsxs)(o,{name:"Break",children:[(0,i.jsx)(l,{name:"Break"}),(0,i.jsx)(l,{name:"Break",children:(0,i.jsx)(n.em,{children:"value"})}),(0,i.jsxs)(n.p,{children:["When in a loop exit the loop immediately. The final value of the loop is\n",(0,i.jsx)(n.code,{children:"value"}),"or ",(0,i.jsx)(n.code,{children:"Nothing"})," if not provided."]})]}),"\n",(0,i.jsxs)(o,{name:"Continue",children:[(0,i.jsx)(l,{name:"Continue"}),(0,i.jsx)(l,{name:"Continue",children:(0,i.jsx)(n.em,{children:"value"})}),(0,i.jsxs)(n.p,{children:["When in a loop, skip to the next iteration of the loop. The value of the\niteration is ",(0,i.jsx)(n.code,{children:"value"})," or ",(0,i.jsx)(n.code,{children:"Nothing"})," if not provided."]})]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}function x(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453:(e,n,o)=>{o.d(n,{R:()=>c,x:()=>t});var s=o(6540);const i={},r=s.createContext(i);function c(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);