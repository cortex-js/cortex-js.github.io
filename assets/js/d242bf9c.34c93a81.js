"use strict";(self.webpackChunkcortexjs_io=self.webpackChunkcortexjs_io||[]).push([[9627],{2243:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"mathfield/menu","title":"Menu","description":"The Mathfield Context Menu provides a set of commands to perform common","source":"@site/docs/mathfield/13-menu.md","sourceDirName":"mathfield","slug":"/mathfield/guides/menu/","permalink":"/mathfield/guides/menu/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1738945311000,"sidebarPosition":13,"frontMatter":{"title":"Menu","slug":"/mathfield/guides/menu/"},"sidebar":"docSidebar","previous":{"title":"Customize","permalink":"/mathfield/guides/customizing/"},"next":{"title":"Virtual Keyboard","permalink":"/mathfield/guides/virtual-keyboard/"}}');var s=t(4848),l=t(8453);const d={title:"Menu",slug:"/mathfield/guides/menu/"},o="Menu",r={},c=[{value:"Filtering Menu Items",id:"filtering-menu-items",level:2},{value:"Replacing the Menu",id:"replacing-the-menu",level:2},{value:"Listening to Menu Events",id:"listening-to-menu-events",level:2},{value:"Controling the Menu Visibility",id:"controling-the-menu-visibility",level:2}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{Intro:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Intro",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"menu",children:"Menu"})}),"\n",(0,s.jsx)(t,{children:(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Mathfield Context Menu"})," provides a set of commands to perform common\noperations on a mathfield."]})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"To display the context menu:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Right-click on the mathfield"}),"\n",(0,s.jsx)(n.li,{children:"Long press on a mathfield"}),"\n",(0,s.jsx)(n.li,{children:"Tap on the menu toggle (hamburger icon) in the mathfield"}),"\n",(0,s.jsxs)(n.li,{children:["Press the ",(0,s.jsx)("kbd",{children:"ALT/OPTION"}),"+",(0,s.jsx)("kbd",{children:"SPACE"}),", ",(0,s.jsx)("kbd",{children:"FN"}),"+",(0,s.jsx)("kbd",{children:"F10"})," or ",(0,s.jsx)("kbd",{children:"MENU"})," key\non a keyboard"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The context menu is fully accessible. It can be navigated using the\nkeyboard, and the menu items are announced by screen readers."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"To navigate the context menu, use the arrow keys"})}),"\n",(0,s.jsx)(n.p,{children:"An item can also be selected by typing some of the letters of its label."}),"\n",(0,s.jsx)(n.p,{children:"The default context menu has a set of commands that are useful for most\napplications, but you can customize the menu by adding or removing commands\nas needed."}),"\n",(0,s.jsx)(n.h2,{id:"filtering-menu-items",children:"Filtering Menu Items"}),"\n",(0,s.jsx)(n.p,{children:"The menu can be filtered to only display a subset of the available commands."}),"\n",(0,s.jsx)(n.p,{children:"For example, to ommit all commands related to the Compute Engine (such as\nEvaluate, Simplify and Solve), you can filter the menu items by id:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"example",children:"mf.menuItems = mf.menuItems.filter(item => !item.id.startWith('ce-'));\n"})}),"\n",(0,s.jsxs)(n.admonition,{type:"warning",children:[(0,s.jsxs)(n.p,{children:["Do not modify the value of the elements of ",(0,s.jsx)(n.code,{children:"mf.menuItems"})," directly or the menu\nwill not be updated as expected."]}),(0,s.jsxs)(n.p,{children:["For example, ",(0,s.jsx)(n.strong,{children:"do not"})," use ",(0,s.jsx)(n.code,{children:"mf.menuItems[0].visible = false"}),"."]})]}),"\n",(0,s.jsx)(n.h2,{id:"replacing-the-menu",children:"Replacing the Menu"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To replace the context menu with your own"}),", set the ",(0,s.jsx)(n.code,{children:"mf.menuItems"})," property."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"menuItems"})," property is an array of menu items."]}),"\n",(0,s.jsx)(n.p,{children:"Each menu item is an object with the following properties:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"type"}),": one of ",(0,s.jsx)(n.code,{children:'"command"'}),", ",(0,s.jsx)(n.code,{children:'"divider"'}),", ",(0,s.jsx)(n.code,{children:'"submenu"'}),", ",(0,s.jsx)(n.code,{children:'"checkbox"'}),", ",(0,s.jsx)(n.code,{children:'"radio"'}),". The default is ",(0,s.jsx)(n.code,{children:'"command"'}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"label"}),": The label to display for the menu item. This can be a string literal or a function that returns a string. If a function is provided, it will be called to update the label whenever the menu is displayed or when the keyboard modifiers change. The value of the string is interpreted as HTML markup."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ariaLabel"})," and ",(0,s.jsx)(n.code,{children:"ariaDetails"}),": If provided, these will be used to set\nthe ",(0,s.jsx)(n.code,{children:"aria-label"})," and ",(0,s.jsx)(n.code,{children:"aria-details"})," attributes of the menu item. They\ncan also be a string or a function that returns a string."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"visible"}),", ",(0,s.jsx)(n.code,{children:"enabled"}),", ",(0,s.jsx)(n.code,{children:"checked"})," are status flags that can be set to\n",(0,s.jsx)(n.code,{children:"true"})," or ",(0,s.jsx)(n.code,{children:"false"})," to control the visibility, enabled state and checked\nstate of the menu item. They can also be a function that returns a boolean."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"id"}),": A unique identifier for the menu item. This is the value that will\nbe passed to the ",(0,s.jsx)(n.code,{children:"menu-select"})," event when the menu item is selected."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"data"}),": An arbitrary data payload associated with the menu item, if any."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"submenu"}),": If the type is ",(0,s.jsx)(n.code,{children:'"submenu"'}),", an array of menu items to\ndisplay when the menu item is selected."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"onMenuSelect"}),": A function handler that is called when the menu item is\nselected."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"example",children:"mf. menuItems = [\n  {\n    label: 'Copy',\n    onMenuSelect: () => console.log('Copy')\n  },\n  {\n    label: 'Paste',\n    onMenuSelect: () => console.log('Paste')\n  },\n  {\n    type: 'divider'\n  },\n  {\n    label: 'Submenu',\n    submenu: [\n      {\n        label: 'Submenu 1',\n        onMenuSelect: () => console.log('Submenu 1')\n      },\n      {\n        label: 'Submenu 2',\n        onMenuSelect: () => console.log('Submenu 2')\n      }\n    ]\n  },\n];\n"})}),"\n",(0,s.jsx)(n.h2,{id:"listening-to-menu-events",children:"Listening to Menu Events"}),"\n",(0,s.jsxs)(n.p,{children:["When a menu item is selected, a ",(0,s.jsx)(n.code,{children:"menu-select"}),"\ncustom event is dispatched."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"detail"})," property of the event contains the following properties:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"id"}),": The id of the menu item that was selected."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"label"}),": The label of the menu item that was selected."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"data"}),": The data payload associated with the menu item, if any."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"modifiers"}),": An object containing the state of the modifier keys when the\nmenu item was selected. The following properties are defined:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"altKey"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"ctrlKey"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"metaKey"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"shiftKey"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The example above can be rewritten to use the ",(0,s.jsx)(n.code,{children:"menu-select"})," event instead of the ",(0,s.jsx)(n.code,{children:"onMenuSelect"})," handler. Note that in\nthis case, the menu items have an ",(0,s.jsx)(n.code,{children:"id"})," property, which is used to identify the menu item that was selected."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",metastring:"example",children:"mf. menuItems = [\n  {\n    label: 'Copy',\n    id: 'copy'\n  },\n  {\n    label: 'Paste',\n    id: 'paste'\n  },\n  {\n    type: 'divider'\n  },\n  {\n    label: 'Submenu',\n    submenu: [\n      {\n        label: 'Submenu 1',\n        id: 'submenu-1'\n      },\n      {\n        label: 'Submenu 2',\n        id: 'submenu-2'\n      }\n    ]\n  },\n];\n\nmf.addEventListener('menu-select', (event) => \n  console.log('Menu item selected:', event.detail.id)\n);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"controling-the-menu-visibility",children:"Controling the Menu Visibility"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To hide the menu toggle button"})," use the following CSS:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",metastring:"example",children:"math-field::part(menu-toggle) {\n  display: none;\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Even when the menu toggle button is hidden, the context menu is still accessible\nwith keyboard shortcut, right-click or long press."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To prevent the menu from being displayed"}),", set the\n",(0,s.jsx)(n.code,{children:"mf.menuItems"})," property to an empty array:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",metastring:"example",children:"mf.menuItems = [];\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>o});var i=t(6540);const s={},l=i.createContext(s);function d(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);