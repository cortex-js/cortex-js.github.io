"use strict";(self.webpackChunkcortexjs_io=self.webpackChunkcortexjs_io||[]).push([[4617],{492:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>L,contentTitle:()=>z,default:()=>I,frontMatter:()=>K,metadata:()=>i,toc:()=>C});const i=JSON.parse('{"id":"mathfield/custom-virtual-keyboard","title":"Virtual Keyboard","description":"The Mathfield virtual keyboard is a keyboard displayed on screen that gives","source":"@site/docs/mathfield/14-custom-virtual-keyboard.md","sourceDirName":"mathfield","slug":"/mathfield/guides/virtual-keyboard/","permalink":"/mathfield/guides/virtual-keyboard/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1737956976000,"sidebarPosition":14,"frontMatter":{"date":"Last Modified","title":"Virtual Keyboard","slug":"/mathfield/guides/virtual-keyboard/"},"sidebar":"docSidebar","previous":{"title":"Menu","permalink":"/mathfield/guides/menu/"},"next":{"title":"Keybindings and Inline Shortcuts","permalink":"/mathfield/guides/shortcuts/"}}');var s=t(4848),a=t(8453),l=t(6540),r=t(4164),d=t(3104),o=t(6347),c=t(205),h=t(7485),u=t(1682),p=t(679);function x(e){return l.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function y(e){const{values:n,children:t}=e;return(0,l.useMemo)((()=>{const e=n??function(e){return x(e).map((({props:{value:e,label:n,attributes:t,default:i}})=>({value:e,label:n,attributes:t,default:i})))}(t);return function(e){const n=(0,u.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function j({value:e,tabValues:n}){return n.some((n=>n.value===e))}function m({queryString:e=!1,groupId:n}){const t=(0,o.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,h.aZ)(i),(0,l.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(t.location.search);n.set(i,e),t.replace({...t.location,search:n.toString()})}),[i,t])]}function b(e){const{defaultValue:n,queryString:t=!1,groupId:i}=e,s=y(e),[a,r]=(0,l.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!j({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:s}))),[d,o]=m({queryString:t,groupId:i}),[h,u]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,i]=(0,p.Dv)(n);return[t,(0,l.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:i}),x=(()=>{const e=d??h;return j({value:e,tabValues:s})?e:null})();(0,c.A)((()=>{x&&r(x)}),[x]);return{selectedValue:a,selectValue:(0,l.useCallback)((e=>{if(!j({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);r(e),o(e),u(e)}),[o,u,s]),tabValues:s}}var f=t(2303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v({className:e,block:n,selectedValue:t,selectValue:i,tabValues:a}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,d.a_)(),c=e=>{const n=e.currentTarget,s=l.indexOf(n),r=a[s].value;r!==t&&(o(n),i(r))},h=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,s.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:a.map((({value:e,label:n,attributes:i})=>(0,s.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{l.push(e)},onKeyDown:h,onClick:c,...i,className:(0,r.A)("tabs__item",g.tabItem,i?.className,{"tabs__item--active":t===e}),children:n??e},e)))})}function k({lazy:e,children:n,selectedValue:t}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find((e=>e.props.value===t));return e?(0,l.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,s.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function w(e){const n=b(e);return(0,s.jsxs)("div",{className:(0,r.A)("tabs-container",g.tabList),children:[(0,s.jsx)(v,{...n,...e}),(0,s.jsx)(k,{...n,...e})]})}function T(e){const n=(0,f.A)();return(0,s.jsx)(w,{...e,children:x(e.children)},String(n))}const V={tabItem:"tabItem_Ymn6"};function A({children:e,hidden:n,className:t}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(V.tabItem,t),hidden:n,children:e})}const K={date:"Last Modified",title:"Virtual Keyboard",slug:"/mathfield/guides/virtual-keyboard/"},z="Customizing the Virtual Keyboard",L={},C=[{value:"Controlling when the Virtual Keyboard is Displayed",id:"controlling-when-the-virtual-keyboard-is-displayed",level:2},{value:"Controlling the Virtual Toggle Visibility",id:"controlling-the-virtual-toggle-visibility",level:2},{value:"Customizing the Layouts",id:"customizing-the-layouts",level:2},{value:"Different Layouts for Multiple Mathfields",id:"different-layouts-for-multiple-mathfields",level:3},{value:"Additional Layouts",id:"additional-layouts",level:2},{value:"Minimalist Layout",id:"minimalist-layout",level:3},{value:"Compact Layout",id:"compact-layout",level:3},{value:"Numeric Only Layout",id:"numeric-only-layout",level:3},{value:"Defining Custom Layouts",id:"defining-custom-layouts",level:2},{value:"Placeholder Tokens",id:"placeholder-tokens",level:3},{value:"Keycap Shortcuts",id:"keycap-shortcuts",level:3},{value:"Advanced Keycaps",id:"advanced-keycaps",level:3},{value:"Keycap Variants",id:"keycap-variants",level:3},{value:"Layer Styling",id:"layer-styling",level:3},{value:"Multiple Layers",id:"multiple-layers",level:3},{value:"Multiple Layouts",id:"multiple-layouts",level:3},{value:"Customizing the Appearance of the Virtual Keyboard",id:"customizing-the-appearance-of-the-virtual-keyboard",level:2},{value:"Customizing the Virtual Keyboard Stack Order",id:"customizing-the-virtual-keyboard-stack-order",level:3},{value:"Customizing the Virtual Keyboard Colors",id:"customizing-the-virtual-keyboard-colors",level:3},{value:"Customizing the Size of the Keyboard",id:"customizing-the-size-of-the-keyboard",level:3},{value:"Preventing Input from the Physical Keyboard",id:"preventing-input-from-the-physical-keyboard",level:2},{value:"Displaying the Virtual Keyboard in a Custom Container",id:"displaying-the-virtual-keyboard-in-a-custom-container",level:2},{value:"Reacting to the Virtual Keyboard Geometry Changes",id:"reacting-to-the-virtual-keyboard-geometry-changes",level:2},{value:"Customizing the Alphabetical Layout",id:"customizing-the-alphabetical-layout",level:2}];function S(e){const n={a:"a",admonition:"admonition",code:"code","code-playground":"code-playground",div:"div",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components},i=n["code-playground"],{Icon:l,Intro:r,ReadMore:d}=n;return l||E("Icon",!0),r||E("Intro",!0),d||E("ReadMore",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"customizing-the-virtual-keyboard",children:"Customizing the Virtual Keyboard"})}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Mathfield virtual keyboard"})," is a keyboard displayed on screen that gives\naccess to specialized symbols for math input with only a tap."]}),(0,s.jsx)(n.p,{children:"This guide explains how to customize the virtual keyboard."})]}),"\n",(0,s.jsx)(d,{path:"/mathfield/virtual-keyboard/",children:(0,s.jsxs)(n.p,{children:["Learn more about ",(0,s.jsx)(n.strong,{children:"using the math virtual keyboard"}),(0,s.jsx)(l,{name:"chevron-right-bold"})]})}),"\n",(0,s.jsx)(n.h2,{id:"controlling-when-the-virtual-keyboard-is-displayed",children:"Controlling when the Virtual Keyboard is Displayed"}),"\n",(0,s.jsx)(n.p,{children:"The default behavior is to display the virtual keyboard when a mathfield is\nfocused on a touch-enabled devices: mobile phones, tablets and laptops with\na touch-screen."}),"\n",(0,s.jsxs)(n.p,{children:["This behavior can be changed with the ",(0,s.jsx)(n.code,{children:"mf.mathVirtualKeyboardPolicy"})," property\nor the equivalent ",(0,s.jsx)(n.code,{children:"math-virtual-keyboard-policy"})," attribute (set one or the\nother, not both)."]}),"\n",(0,s.jsx)("div",{className:"symbols-table first-column-header",children:(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"mathVirtualKeyboardPolicy"})}),(0,s.jsx)(n.th,{style:{textAlign:"left"}})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:'"auto"'})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"On touch-enabled devices, show the virtual keyboard panel when the mathfield is focused. This is the default behavior."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:'"manual"'})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Do not show the virtual keyboard panel automatically. The visibility of the virtual keyboard panel can be controlled programatically with ",(0,s.jsx)(n.code,{children:"mathVirtualKeyboard.show()"})," and ",(0,s.jsx)(n.code,{children:"mathVirtualKeyboard.hide()"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:'"sandboxed"'})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"The virtual keyboard is displayed in the current browsing context (iframe) if it has a defined container or is the top-level browsing context."})]})]})]})}),"\n",(0,s.jsx)(n.p,{children:"To show the math virtual keyboard anytime the mathfield is focused, on\ntouch or non-touch devices, use:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'mf.mathVirtualKeyboardPolicy = "manual";\nmf.addEventListener("focusin", () =>  mathVirtualKeyboard.show());\nmf.addEventListener("focusout", () =>  mathVirtualKeyboard.hide());\n'})}),"\n",(0,s.jsx)(n.h2,{id:"controlling-the-virtual-toggle-visibility",children:"Controlling the Virtual Toggle Visibility"}),"\n",(0,s.jsx)(n.p,{children:"The virtual keyboard toggle is displayed by default when the mathfield\ncan be modified, that is when it's not read-only or disabled."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To control the visibility of the virtual keyboard toggle"}),", use CSS."]}),"\n",(0,s.jsx)(n.p,{children:"For example to hide the toggle unless on a touch-enabled device, use:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:"@media not (pointer: coarse) {\n  math-field::part(virtual-keyboard-toggle) {\n    display: none;\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"customizing-the-layouts",children:"Customizing the Layouts"}),"\n",(0,s.jsxs)(n.p,{children:["The virtual keyboard panel displays multiple layouts which can be\ntoggled using the layout switcher: ",(0,s.jsx)(n.code,{children:"numeric"}),", ",(0,s.jsx)(n.code,{children:"symbols"}),", ",(0,s.jsx)(n.code,{children:"alphabetic"}),"\nand ",(0,s.jsx)(n.code,{children:"greek"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To choose which layouts are listed in the layout switcher"}),", use the\n",(0,s.jsx)(n.code,{children:"mathVirtualKeyboard.layouts"})," property."]}),"\n",(0,s.jsxs)(n.p,{children:["For example, to only show the ",(0,s.jsx)(n.strong,{children:"numeric"})," and ",(0,s.jsx)(n.strong,{children:"symbols"})," layouts, use:"]}),"\n",(0,s.jsxs)(i,{"show-line-numbers":"",children:[(0,s.jsxs)(n.div,{slot:"html",children:["<math-field>x=\\frac{-b\\pm \\sqrt{b^2-4ac}}{2a}</math-field>\n","\n"]}),(0,s.jsxs)(n.div,{slot:"javascript",children:["document.querySelector('math-field').\n","  ","addEventListener('focus', () => {\n","    ",'mathVirtualKeyboard.layouts = ["numeric", "symbols"];\n',"    ","mathVirtualKeyboard.visible = true;\n","  ","});\n"]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To revert to the default layouts"}),", use:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'mathVirtualKeyboard.layouts = "default";\n'})}),"\n",(0,s.jsx)(n.h3,{id:"different-layouts-for-multiple-mathfields",children:"Different Layouts for Multiple Mathfields"}),"\n",(0,s.jsx)(n.p,{children:"There is a single instance of the virtual keyboard panel, shared by all\nmathfields. The layouts are shared by all mathfields as well."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To display a different set of layouts for a specific mathfield"}),", change the\n",(0,s.jsx)(n.code,{children:"mathVirtualKeyboardLayouts"})," property of the mathfield when it is focused."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"example",children:'// Layout for mathfield mf1\nmf1.addEventListener("focusin", () => {\n  mathVirtualKeyboard.layouts = ["numeric", "symbols"];\n});\n\n// Layout for mathfield mf2\nmf2.addEventListener("focusin", () => {\n  mathVirtualKeyboard.layouts = ["minimalist"];\n});\n'})}),"\n",(0,s.jsx)(n.h2,{id:"additional-layouts",children:"Additional Layouts"}),"\n",(0,s.jsxs)(n.p,{children:["In addition to ",(0,s.jsx)(n.code,{children:"numeric"}),", ",(0,s.jsx)(n.code,{children:"symbols"}),", ",(0,s.jsx)(n.code,{children:"alphabetic"})," and ",(0,s.jsx)(n.code,{children:"greek"}),", the\nfollowing layouts are available:"]}),"\n",(0,s.jsx)(n.h3,{id:"minimalist-layout",children:"Minimalist Layout"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:'"minimalist"'})," layout is focused on entry of simple expressions."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'mathVirtualKeyboard.layouts = ["minimalist"];\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(6251).A+"",width:"2501",height:"1208"})}),"\n",(0,s.jsx)(n.h3,{id:"compact-layout",children:"Compact Layout"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:'"compact"'})," layout is similar to ",(0,s.jsx)(n.code,{children:'"minimalist"'})," but the keycaps include variants."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'mathVirtualKeyboard.layouts = ["compact"];\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(6183).A+"",width:"2501",height:"1208"})}),"\n",(0,s.jsx)(n.h3,{id:"numeric-only-layout",children:"Numeric Only Layout"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:'"numeric-only"'})," layout is suitable for input that is purely numeric."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'mathVirtualKeyboard.layouts = ["numeric-only"];\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(5598).A+"",width:"2501",height:"1208"})}),"\n",(0,s.jsx)(n.h2,{id:"defining-custom-layouts",children:"Defining Custom Layouts"}),"\n",(0,s.jsx)(n.p,{children:"In addition to the built-in layouts, you can define your own layouts."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"The simplest way to define a custom layout"})," is to set ",(0,s.jsx)(n.code,{children:"mathVirtualKeyboard.layouts"})," to an object\nliteral with a ",(0,s.jsx)(n.code,{children:"rows"})," property, an array of keycaps."]}),"\n",(0,s.jsx)(n.p,{children:"For best result, you should make sure the rows have no more than 10 keycaps."}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsxs)(n.div,{slot:"html",children:["<math-field>x=\\frac{-b\\pm \\sqrt{b^2-4ac}}{2a}</math-field>\n","\n"]}),(0,s.jsxs)(n.div,{slot:"javascript",children:["document.querySelector('math-field').\n","  ","addEventListener('focus', () => {\n","    ","mathVirtualKeyboard.layouts = {\n","      ","rows: [\n","        ","[\n","          ",'"+", "-", "\\\\times", "\\\\frac{#@}{#?}", "=", ".",\n',"          ",'"(", ")", "\\\\sqrt{#0}", "#@^{#?}",\n',"        ","],\n","        ",'["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"],\n',"      ","]\n","  ","};\n","  ","mathVirtualKeyboard.visible = true;\n","});\n"]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(967).A+"",width:"1401",height:"382"})}),"\n",(0,s.jsx)(n.p,{children:"Each keycap is a LaTeX string which is used both as the label of the keycap,\nand as the content inserted when the keycap is pressed."}),"\n",(0,s.jsx)(n.h3,{id:"placeholder-tokens",children:"Placeholder Tokens"}),"\n",(0,s.jsx)(n.p,{children:"You'll notice from the example above that the LaTeX fragments defining the\nkeycap can contain some special placeholder tokens:"}),"\n",(0,s.jsx)("div",{className:"symbols-table first-column-header",style:{"--first-col-width":"5ch"},children:(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"right"},children:"Token"}),(0,s.jsx)(n.th,{style:{textAlign:"left"}})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"right"},children:(0,s.jsx)(n.code,{children:"#@"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Replaced with the selection, if there is one. If there is no selection, replaced with an implicit argument to the left of the caret. For example, for ",(0,s.jsx)(n.code,{children:"12+34"}),", if the caret is at the end, ",(0,s.jsx)(n.code,{children:"#@"})," would be replaced with ",(0,s.jsx)(n.code,{children:"34"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"right"},children:(0,s.jsx)(n.code,{children:"#0"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Replaced with the selection if there is one, a ",(0,s.jsx)(n.code,{children:"\\placeholder{}"})," command otherwise"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"right"},children:(0,s.jsx)(n.code,{children:"#?"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Replaced with a ",(0,s.jsx)(n.code,{children:"\\placeholder{}"})," command"]})]})]})]})}),"\n",(0,s.jsx)(n.h3,{id:"keycap-shortcuts",children:"Keycap Shortcuts"}),"\n",(0,s.jsx)(n.p,{children:"The value of  the keycap can be a LaTeX string, or one of the special values\nbelow, corresponding to a standard keycap. These shortcuts define\nthe label, appearance, command when pressed, shifted command and variants\nfor those keys."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:'"[left]"'})," ",(0,s.jsx)(n.code,{children:'"[right]"'}),"  ",(0,s.jsx)(n.code,{children:'"[return]"'}),"  ",(0,s.jsx)(n.code,{children:'"[hide-keyboard]"'})," ",(0,s.jsx)(n.code,{children:'"[shift]"'})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:'"[backspace]"'}),"  ",(0,s.jsx)(n.code,{children:'"[undo]"'})," ",(0,s.jsx)(n.code,{children:'"[redo]"'})," ",(0,s.jsx)(n.code,{children:'"[cut]"'})," ",(0,s.jsx)(n.code,{children:'"[copy]"'})," ",(0,s.jsx)(n.code,{children:'"[paste]"'})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:'"[.]"'}),"  ",(0,s.jsx)(n.code,{children:'"[+]"'}),"  ",(0,s.jsx)(n.code,{children:'"[-]"'}),"  ",(0,s.jsx)(n.code,{children:'"[/]"'}),"  ",(0,s.jsx)(n.code,{children:'"[*]"'}),"  ",(0,s.jsx)(n.code,{children:'"[=]"'})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:'"[(]"'})," ",(0,s.jsx)(n.code,{children:'"[)]"'})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:'"[0]"'})," ",(0,s.jsx)(n.code,{children:'"[1]"'})," ",(0,s.jsx)(n.code,{children:'"[2]"'})," ",(0,s.jsx)(n.code,{children:'"[3]"'})," ",(0,s.jsx)(n.code,{children:'"[4]"'})," ",(0,s.jsx)(n.code,{children:'"[5]"'})," ",(0,s.jsx)(n.code,{children:'"[6]"'})," ",(0,s.jsx)(n.code,{children:'"[7]"'})," ",(0,s.jsx)(n.code,{children:'"[8]"'})," ",(0,s.jsx)(n.code,{children:'"[9]"'})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:'"[separator]"'})," ",(0,s.jsx)(n.code,{children:'["hr"]'})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:'"[foreground-color]"'})," ",(0,s.jsx)(n.code,{children:'"[background-color]"'})]}),"\n",(0,s.jsx)(n.h3,{id:"advanced-keycaps",children:"Advanced Keycaps"}),"\n",(0,s.jsx)(n.p,{children:"For more control over the appearance and behavior of a keycap use an object\nliteral with the following properties:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"label"}),": the label of the keycap, displayed using the system font. This\ncan include some HTML markup, for example ",(0,s.jsx)(n.code,{children:'"<span><i>x</i>&thinsp;\xb2</span>"'}),".\nIf property is absent, the ",(0,s.jsx)(n.code,{children:"latex"})," property is used for the label of\nthe keycap. The label can also be one of the keycap shortcuts mentioned\nabove, e.g. ",(0,s.jsx)(n.code,{children:"[left]"}),". If a keycap shortcut is used, the other properties\noverride the values defined by the shortcut."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"latex"}),": if no ",(0,s.jsx)(n.code,{children:"label"})," is provided, the value of the ",(0,s.jsx)(n.code,{children:"latex"})," property is used as\nthe label of the keycap. This property is also used to insert content in\nthe mathfield when the keycap is pressed."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"key"}),": if present, when the keycap is pressed the corresponding physical\nkeyboard key is simulated, potentially triggering keyboard shortcuts."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"insert"}),": if present, a LaTeX string to be inserted when the keycap is pressed."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"command"}),": the command to perform when the keycap is pressed. For example:\n",(0,s.jsx)(n.code,{children:'["performWithFeedback", "commit"]'}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"class"}),": a set of CSS classes to style this keycap. The classes can be custom\ndefined (see below about the ",(0,s.jsx)(n.code,{children:"style"})," layer property), or be one or more of the\nstandard ones:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"tex"}),": use the TeX font for its label.\nUsing the ",(0,s.jsx)(n.code,{children:"tex"})," class is not necessary if using the ",(0,s.jsx)(n.code,{children:"latex"})," property to\ndefine the label."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ghost"}),": the keycap with no border or background"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"small"}),": display the label in a smaller size"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"action"}),': an "action" keycap (for arrows, return, etc...)']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"bottom"}),", ",(0,s.jsx)(n.code,{children:"left"}),", ",(0,s.jsx)(n.code,{children:"right"}),": alignment of the label"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"hide-shift"}),": do not display the shift top-right label on the keycap if\na ",(0,s.jsx)(n.code,{children:"shift"})," property is provided."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"width"}),": the width of the keycap, as a multiple of a standard keycap. That\nis, 0.5 for half-wide keys, 1.5 for one and half wide keys, etc..."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"aside"}),": an optional small label displayed below the keycap. This label\nmay not be displayed if the space available is too small."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"shift"}),": a LaTeX string or a keycap record indicating what happens when\nthis keycap is pressed with the ",(0,s.jsx)("kbd",{children:"SHIFT"})," key down."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"variants"}),": an array of keycaps (either as string or keycap records) defining\nthe variants for this keycap (see below)."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["If neither ",(0,s.jsx)(n.code,{children:"insert"})," nor ",(0,s.jsx)(n.code,{children:"command"})," are provided, the ",(0,s.jsx)(n.code,{children:"latex"})," or ",(0,s.jsx)(n.code,{children:"key"})," properties\nare used to define the content inserted when the keycap is pressed."]}),"\n",(0,s.jsx)(d,{path:"/mathfield/guides/commands/",children:(0,s.jsxs)(n.p,{children:["Learn more about the ",(0,s.jsx)(n.strong,{children:"available commands"}),(0,s.jsx)(l,{name:"chevron-right-bold"})]})}),"\n",(0,s.jsx)(n.p,{children:"Here's an example of a basic keyboard layout:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"mathVirtualKeyboard.layouts = {\n  label: 'Basic',\n  rows: [\n    [\n      '[7]', '[8]', '[9]', '[+]', \n      { label: '[separator]', width: 0.5 },\n      { class: 'small', latex: '\\\\frac{#@}{#0}' },\n      '\\\\varnothing', '\\\\infty', '\\\\in', '\\\\notin',\n      '[separator]',\n    ],\n    [\n      '[4]', '[5]', '[6]', '[-]', \n      { label: '[separator]', width: 0.5 },\n      '[(]', '[)]', '\\\\lt', '\\\\le', '\\\\hat{=}', '[separator]',\n    ],\n    [\n      '[1]', '[2]', '[3]', '\\\\cdot', \n      { label: '[separator]', width: 0.5 },\n      '[', ']', '\\\\gt', '\\\\ge',\n\n      { label: '[backspace]', width: 2 },\n    ],\n    [\n      { label: '[0]', width: 2 }, '[.]', '\\\\colon', \n      { label: '[separator]', width: 0.5 },\n      '\\\\lbrace', '\\\\rbrace', '=', '\\\\ne', '[left]', '[right]',\n    ],\n  ],\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"keycap-variants",children:"Keycap Variants"}),"\n",(0,s.jsxs)(n.p,{children:["The default layouts include ",(0,s.jsx)(n.strong,{children:"variants"})," for many of their keycaps. These\nvariants are accessed with a long press on the keycap. The variants are\ntypically related, but less frequently used version of the main keycap."]}),"\n",(0,s.jsxs)(n.p,{children:["You can define variants for a custom layout by specifying a ",(0,s.jsx)(n.code,{children:"variants"}),"\nproperty with the definition of a keycap. The value of the ",(0,s.jsx)(n.code,{children:"variants"})," property\nis an array of ",(0,s.jsx)(n.code,{children:"VirtualKeyboardKeycap"}),". As a shortcut, a string can also be\nused, which is equivalent to a ",(0,s.jsx)(n.code,{children:"VirtualKeyboardKeycap"})," with a ",(0,s.jsx)(n.code,{children:"latex"})," property\nequal to the string, that is, it will display the latex string as the keycap\nlabel and insert it when the key is pressed."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",metastring:"example",children:'rows: [\n  [\n    { latex: "a", variants: ["A", "\\\\alpha", "\\\\Alpha"] }\n    ...\n  ]\n]\n'})}),"\n",(0,s.jsx)(n.h3,{id:"layer-styling",children:"Layer Styling"}),"\n",(0,s.jsxs)(n.p,{children:["If you want to apply custom CSS classes to some keycaps, you can provide\na definition for them using the ",(0,s.jsx)(n.code,{children:"style"})," property. Note that in that case\nyou can't use the ",(0,s.jsx)(n.code,{children:"rows"})," shortcut, you must provide the full definition\nof the layers."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"mathVirtualKeyboard.layouts = [\n  {\n    label: \"minimal\",\n    tooltip: \"Only the essential\",\n    layers: [\n      {\n        style: \".digit { background: blue; color: white }\",\n        rows: [\n          [\n            '+',\n            '-',\n            '\\\\times',\n            '\\\\frac{#@}{#?}',\n            '=',\n            '.',\n            '(',\n            ')',\n            '\\\\sqrt{#0}',\n            '#@^{#?}',\n          ],\n          [\n            { class: 'digit', latex: '1' },\n            { class: 'digit', latex: '2' },\n            { class: 'digit', latex: '3' },\n            { class: 'digit', latex: '4' },\n            { class: 'digit', latex: '5' },\n            { class: 'digit', latex: '6' },\n            { class: 'digit', latex: '7' },\n            { class: 'digit', latex: '8' },\n            { class: 'digit', latex: '9' },\n            { class: 'digit', latex: '0' },\n          ],\n        ],\n      },\n    ],\n  },\n  \"alphabetic\",\n];\n"})}),"\n",(0,s.jsx)(n.h3,{id:"multiple-layers",children:"Multiple Layers"}),"\n",(0,s.jsxs)(n.p,{children:["Most keyboard layouts are made of a single layer. However, if your layout\nincludes multiple layers, use the ",(0,s.jsx)(n.code,{children:"layers"})," property to provide an array of\nlayers."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'mathVirtualKeyboard.layouts = {\n  layers: [\n    {\n      rows: [\n        [\n          "+", "-", "\\\\times", "\\\\frac{#@}{#?}", "=", ".",\n          "(", ")", "\\\\sqrt{#0}", "#@^{#?}",\n        ],\n      ]\n    },\n    {\n      rows: [\n        ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"],\n      ]\n    }\n\n  ],\n};\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"multiple-layouts",children:"Multiple Layouts"}),"\n",(0,s.jsx)(n.p,{children:"You can also mix default layouts with your own. For example, to add the\nalphabetic layout after your own:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'mathVirtualKeyboard.layouts = [\n  {\n    label: "minimal",\n    tooltip: "Only the essential",\n    rows: [\n      [\n        "+", "-", "\\\\times", "\\\\frac{#@}{#?}", "=", ".",\n        "(", ")", "\\\\sqrt{#0}", "#@^{#?}",\n      ],\n      ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"],\n    ]\n  }, \n  "alphabetic"\n];\n'})}),"\n",(0,s.jsx)(n.p,{children:"If you include more than one layout, it's a good idea to provide a label\nand tooltip so they get propertly displayed in the layout switcher."}),"\n",(0,s.jsx)(n.h2,{id:"customizing-the-appearance-of-the-virtual-keyboard",children:"Customizing the Appearance of the Virtual Keyboard"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To customize the appearance of the virtual keyboard panel"})," set the following\nCSS variables on a selector that applies to the container of the virtual\nkeyboard panel, which is the ",(0,s.jsx)(n.code,{children:"<body>"})," element by default:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:"body {\n  --keyboard-zindex: 3000;\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can also set these CSS variables programmatically:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'document.body.style.setProperty("--keyboard-zindex", "3000");\n'})}),"\n",(0,s.jsx)(n.h3,{id:"customizing-the-virtual-keyboard-stack-order",children:"Customizing the Virtual Keyboard Stack Order"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To specify the stack order of the virtual keyboard relative to\nother DOM elements"})," set the ",(0,s.jsx)(n.code,{children:"--keyboard-zindex"})," CSS variable."]}),"\n",(0,s.jsxs)(n.p,{children:["The default ",(0,s.jsx)(n.code,{children:"zindex"})," of the virtual keyboard is ",(0,s.jsx)(n.code,{children:"105"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"customizing-the-virtual-keyboard-colors",children:"Customizing the Virtual Keyboard Colors"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To control the appearance of the virtual keyboard text and background colors"}),", set the\nvalue of the following CSS variables to a CSS color:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keyboard-accent-color"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keyboard-toolbar-text"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keyboard-toolbar-text-active"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keyboard-toolbar-background"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keyboard-toolbar-background-hover"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keyboard-toolbar-background-selected"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-background"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-background-hover"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-background-active"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-background-pressed"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-border"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-border-bottom"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-text"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-text-active"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-text-hover"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-text-pressed"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-shift-text"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-shift-color"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-primary-background"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-primary-text"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-primary-background-hover"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-secondary-background"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-secondary-background-hover"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-secondary-text"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-secondary-border"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-secondary-border-bottom"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--box-placeholder-color"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--variant-panel-background"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--variant-keycap-text"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--variant-keycap-text-active"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--variant-keycap-background-active"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The following CSS variables are a border shorthand value:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"--keyboard-border"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"--keyboard-horizontal-rule"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"customizing-the-size-of-the-keyboard",children:"Customizing the Size of the Keyboard"}),"\n",(0,s.jsx)(n.p,{children:"By default the virtual keyboard is sized so that it can be used comfortably\non touch-devices. Its size will adjust based on the available space in its\ncontainer, which is the viewport by default."}),"\n",(0,s.jsxs)(n.p,{children:["However, you may want to have a more compact virtual keyboard to leave more\nroom for the content. You can control the appearance of the virtual keyboard\nusing some CSS variables. Set those variables in a rule that applies to\nthe entire document, for example the ",(0,s.jsx)(n.code,{children:"body"})," element selector."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:"body {\n  --keycap-height: 24px;\n  --keycap-font-size: 16px;\n  --keycap-shift-font-size: 9px;\n  --keycap-small-font-size: 9px;\n  --keycap-extra-small-font-size: 9px;\n  --keyboard-toolbar-font-size: 16px;\n  --keycap-gap: 1px;\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"The following CSS variables can be used to adjust the layout:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-height"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-max-width"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-gap"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-font-size"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-shift-font-size"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-small-font-size"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-extra-small-font-size"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-secondary-border-bottom"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keycap-secondary-border-bottom"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keyboard-toolbar-font-size"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keyboard-padding-horizontal"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keyboard-padding-top"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keyboard-padding-bottom"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keyboard-row-padding-left"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--keyboard-row-padding-right"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--variant-keycap-length"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--variant-keycap-font-size"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"--variant-keycap-aside-font-size"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"preventing-input-from-the-physical-keyboard",children:"Preventing Input from the Physical Keyboard"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To require the virtual keyboard to be used for input and ignore\nkeys pressed on the physical keyboard"})," listen and ",(0,s.jsx)(n.code,{children:"preventDefault()"})," on ",(0,s.jsx)(n.code,{children:'"keydown"'}),"\nevents during the capture phase, and show the virtual keyboard when the mathfield\nis focused."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"example",children:'mf.addEventListener("keydown", (evt) =>  \n  evt.preventDefault(), { capture: true });\n\nmf.addEventListener("focus", () => \n  mathVirtualKeyboard.show());\n'})}),"\n",(0,s.jsx)(n.h2,{id:"displaying-the-virtual-keyboard-in-a-custom-container",children:"Displaying the Virtual Keyboard in a Custom Container"}),"\n",(0,s.jsxs)(n.p,{children:["By default the virtual keyboard is inserted at the end of the document's ",(0,s.jsx)(n.code,{children:"body"}),"\nelement."]}),"\n",(0,s.jsx)(n.p,{children:"In some cases you may want to display the virtual keyboard in some other\ncontainer."}),"\n",(0,s.jsxs)(n.p,{children:["For example when using ",(0,s.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API",children:"full screen elements"})," that contain a mathfield, you want to make sure the virtual\nkeyboard panel is visible by attaching it to the full screen element."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To select which DOM element the virtual keyboard is attached to"}),", set the\n",(0,s.jsx)(n.code,{children:"mathVirtualKeyboard.container"})," property to the desired DOM element."]}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"The container element should be at least 320px wide to ensure that the\ndefault layouts can fit. The height of the container element will be\nadjusted so that the virtual keyboard can fit."})}),"\n",(0,s.jsx)(n.h2,{id:"reacting-to-the-virtual-keyboard-geometry-changes",children:"Reacting to the Virtual Keyboard Geometry Changes"}),"\n",(0,s.jsxs)(n.p,{children:["The virtual keyboard panel is positioned relative to the container element\nusing the ",(0,s.jsx)(n.code,{children:"position: absolute"})," CSS property. This means that the virtual\nkeyboard panel will not affect the layout of the container element."]}),"\n",(0,s.jsx)(n.p,{children:"However, the container element may need to adjust its layout to make room\nfor the virtual keyboard panel. For example, if the container element is\na full screen element, it may need to adjust its height to make room for\nthe virtual keyboard panel."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To react to the geometry changes of the virtual keyboard panel"}),", listen\nto the ",(0,s.jsx)(n.code,{children:'"geometrychange"'})," event on the ",(0,s.jsx)(n.code,{children:"mathVirtualKeyboard"})," object."]}),"\n",(0,s.jsxs)(n.p,{children:["The bounding rectangle of the virtual keyboard is available in the\n",(0,s.jsx)(n.code,{children:"mathVirtualKeyboard.boundingRect"})," property."]}),"\n",(0,s.jsx)(n.p,{children:"For example, to adjust the height of the container element to make room\nfor the virtual keyboard panel:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'mathVirtualKeyboard.addEventListener("geometrychange", () => {\n  container.style.height = \n    mathVirtualKeyboard.boundingRect.height + "px";\n});\n'})}),"\n",(0,s.jsx)(n.h2,{id:"customizing-the-alphabetical-layout",children:"Customizing the Alphabetical Layout"}),"\n",(0,s.jsxs)(n.p,{children:["By default the ",(0,s.jsx)(n.code,{children:'"alphabetic"'})," layout is determined based on the locale (QWERTY\nfor english speaking countries, AZERTY for french speaking\ncountries, etc..)."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To select a different alphabetic layout"}),", such as DVORAK or COLEMAK,\nuse the ",(0,s.jsx)(n.code,{children:"mathVirtualKeyboard.alphabeticLayout"})," property."]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsxs)(n.div,{slot:"html",children:["<math-field>\n","  ","x=\\frac{-b\\pm \\sqrt{b^2-4ac}}{2a}\n","</math-field>\n"]}),(0,s.jsxs)(n.div,{slot:"javascript",children:["const mf = document.querySelector('math-field');\n","document.querySelector('math-field').addEventListener('focus', () => {\n","  ",'mathVirtualKeyboard.layouts = ["alphabetic"];\n',"  ",'mathVirtualKeyboard.alphabeticLayout = "dvorak";\n',"  ","mathVirtualKeyboard.visible = true;\n","});\n","\n"]})]}),"\n",(0,s.jsxs)(T,{children:[(0,s.jsx)(A,{value:"qwertz",label:"QWERTZ Layout",default:!0,children:(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)("div",{style:{width:"50%",display:"auto"},children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"QWERTZ layout",src:t(2851).A+"",width:"2501",height:"1208"})})}),(0,s.jsx)("div",{style:{width:"50%",display:"auto"},children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"QWERTZ layout, shifted",src:t(1758).A+"",width:"2501",height:"1208"})})})]})}),(0,s.jsx)(A,{value:"azerty",label:"AZERTY Layout",children:(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)("div",{style:{width:"50%",display:"auto"},children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"AZERTY layout",src:t(4845).A+"",width:"2501",height:"1208"})})}),(0,s.jsx)("div",{style:{width:"50%",display:"auto"},children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"AZERTY layout, shifted",src:t(3808).A+"",width:"2501",height:"1208"})})})]})}),(0,s.jsx)(A,{value:"dvorak",label:"DVORAK Layout",children:(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)("div",{style:{width:"50%",display:"auto"},children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"DVORAK Layout",src:t(6741).A+"",width:"2501",height:"1208"})})}),(0,s.jsx)("div",{style:{width:"50%",display:"auto"},children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"DVORAK Layout, shifted",src:t(2616).A+"",width:"2501",height:"1208"})})})]})})]})]})}function I(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(S,{...e})}):S(e)}function E(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},967:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/custom-layout-366953254e2cf3de838e3f49cae53d67.png"},3808:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ipad-azerty-shift-4d2f4cc3f583c9a8e93144c3843a3dfc.webp"},4845:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ipad-azerty-37e85eef5f6d2f4d8df1047dc668afcd.webp"},6183:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ipad-compact-49d4b61d3705b07c2a0d563a27d98b61.webp"},2616:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ipad-dvorak-shift-58c0aad8bed2746a207e009397cccbdc.webp"},6741:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ipad-dvorak-88914ef3588d4a5061ca84830147f6c5.webp"},6251:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ipad-minimalist-9587ff48c808942b6faee9bf8a4090d5.webp"},5598:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ipad-numeric-only-e9bbafee24e2ee6c9121d50364c7f05a.webp"},1758:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ipad-qwertz-shift-350eab39cf192644da12c1577b5c8c54.webp"},2851:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ipad-qwertz-cfa6b4e4b01d0b5a7c838ca006655a32.webp"},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>r});var i=t(6540);const s={},a=i.createContext(s);function l(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);