"use strict";(self.webpackChunkcortexjs_io=self.webpackChunkcortexjs_io||[]).push([[8747],{6977:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"mathfield/svelte","title":"Using A Mathfield with Svelte","description":"Theory of Operations","source":"@site/docs/mathfield/10-svelte.md","sourceDirName":"mathfield","slug":"/mathfield/guides/svelte/","permalink":"/mathfield/guides/svelte/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1742931232000,"sidebarPosition":10,"frontMatter":{"date":"Last Modified","title":"Using A Mathfield with Svelte","slug":"/mathfield/guides/svelte/"},"sidebar":"docSidebar","previous":{"title":"Using React","permalink":"/mathfield/guides/react/"},"next":{"title":"Interact","permalink":"/mathfield/guides/interacting/"}}');var a=n(4848),l=n(8453);const s={date:"Last Modified",title:"Using A Mathfield with Svelte",slug:"/mathfield/guides/svelte/"},r=void 0,o={},d=[{value:"Theory of Operations",id:"theory-of-operations",level:2},{value:"Install Mathlive",id:"install-mathlive",level:2},{value:"Create a Svelte Wrapper Component",id:"create-a-svelte-wrapper-component",level:2},{value:"Usage",id:"usage",level:2},{value:"Customization",id:"customization",level:2}];function c(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components},{Icon:n,ReadMore:i}=t;return n||h("Icon",!0),i||h("ReadMore",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"theory-of-operations",children:"Theory of Operations"}),"\n",(0,a.jsx)(t.p,{children:"A Svelte wrapper manages the scaffolding of the web component, allowing it to be used like a standard web component with all attributes forwarded."}),"\n",(0,a.jsx)(t.h2,{id:"install-mathlive",children:"Install Mathlive"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"$ npm install --save-dev mathlive\n"})}),"\n",(0,a.jsx)(t.h2,{id:"create-a-svelte-wrapper-component",children:"Create a Svelte Wrapper Component"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-svelte",metastring:'title="/src/lib/MathLive.svelte"',children:'<script lang="ts">\n  import "mathlive";\n  import type { MathfieldElement, MathfieldElementAttributes } from "mathlive";\n  import { on } from "svelte/events";\n\n  type Props = { value?: string } & Partial<MathfieldElementAttributes>;\n\n  let { value = $bindable(), ...rest }: Props = $props();\n\n  const init = (node: MathfieldElement) => {\n    $effect(() => {\n      if (value) node.value = value;\n    });\n    $effect(() => {\n      return on(node, "input", () => {\n        value = node.value;\n      });\n    });\n  };\n<\/script>\n\n<math-field use:init {...rest}></math-field>\n'})}),"\n",(0,a.jsxs)(t.p,{children:["Append the following to ",(0,a.jsx)(t.code,{children:"src/app.d.ts"}),". This provides autocomplete for the web component."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-ts",metastring:'title="src/app.d.ts"',children:"// ...previous code\n\nimport { type MathfieldElementAttributes } from \"mathlive\";\n\ndeclare namespace svelteHTML {\n\tinterface IntrinsicElements {\n    'math-field': MathfieldElementAttributes;\n\t}\n}\n"})}),"\n",(0,a.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-svelte",children:'<script>\n  import MathField from "$lib/MathField.svelte";\n<\/script>\n\n<MathField />\n'})}),"\n",(0,a.jsx)(t.h2,{id:"customization",children:"Customization"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-svelte",children:'<script>\n  import MathField from "$lib/MathField.svelte";\n  let value = $state("1");\n\n  const config = {\n    "smart-mode": true\n    // ...\n  }\n<\/script>\n\n\x3c!-- define settings via props --\x3e\n<MathField smart-mode="true"></MathField>\n\n\x3c!-- define settings via an object --\x3e\n<MathField {...config}></MathField>\n\n\x3c!-- 2-way binding --\x3e\n<MathField bind:value={value}></MathField>\n\n<p>Current LaTeX: {value}</p>\n\n<button\n  onclick={() => {\n    value = "1 + 1";\n  }}\n>reset to default</button>\n'})}),"\n",(0,a.jsx)(i,{path:"https://github.com/arnog/svelte-mathlive",children:(0,a.jsxs)(t.p,{children:["A ready-to-run example project is available on ",(0,a.jsx)(t.strong,{children:"GitHub"}),(0,a.jsx)(n,{name:"chevron-right-bold"})]})})]})}function p(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}function h(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(6540);const a={},l=i.createContext(a);function s(e){const t=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(l.Provider,{value:t},e.children)}}}]);