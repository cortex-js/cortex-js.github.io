"use strict";(self.webpackChunkcortexjs_io=self.webpackChunkcortexjs_io||[]).push([[1303],{8728:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>x,frontMatter:()=>d,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"mathfield/changelog","title":"Changelog - Mathfield","description":"Coming Soon","source":"@site/docs/mathfield/changelog.md","sourceDirName":"mathfield","slug":"/mathfield/changelog/","permalink":"/mathfield/changelog/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1744999580000,"frontMatter":{"title":"Changelog - Mathfield","sidebar_label":"Changelog","slug":"/mathfield/changelog/","toc_max_heading_level":2},"sidebar":"docSidebar","previous":{"title":"Demo","permalink":"/mathfield/demo/"},"next":{"title":"Using the Virtual Keyboard","permalink":"/mathfield/virtual-keyboard/"}}');var l=s(4848),r=s(8453),t=s(9548);const d={title:"Changelog - Mathfield",sidebar_label:"Changelog",slug:"/mathfield/changelog/",toc_max_heading_level:2},o="Mathfield Changelog",c={},h=[{value:"Coming Soon",id:"coming-soon",level:2},{value:"Resolved Issues",id:"resolved-issues",level:3},{value:"0.105.1 <em>2025-04-18</em>",id:"01051-2025-04-18",level:2},{value:"Resolved Issues",id:"resolved-issues-1",level:3},{value:"Improvements",id:"improvements",level:3},{value:"0.105.0 <em>2025-03-27</em>",id:"01050-2025-03-27",level:2},{value:"Breaking Changes",id:"breaking-changes",level:3},{value:"Issues Resolved",id:"issues-resolved",level:3},{value:"0.104.2 <em>2025-03-23</em>",id:"01042-2025-03-23",level:2},{value:"Issues Resolved",id:"issues-resolved-1",level:3},{value:"0.104.1 <em>2025-03-18</em>",id:"01041-2025-03-18",level:2},{value:"Improvements",id:"improvements-1",level:3},{value:"Issues Resolved",id:"issues-resolved-2",level:3},{value:"0.104.0 <em>2025-02-08</em>",id:"01040-2025-02-08",level:2},{value:"Security Advisories",id:"security-advisories",level:3},{value:"Issues Resolved",id:"issues-resolved-3",level:3},{value:"0.103.0 <em>2024-12-10</em>",id:"01030-2024-12-10",level:2},{value:"Issues Resolved",id:"issues-resolved-4",level:3},{value:"0.102.0 <em>2024-11-29</em>",id:"01020-2024-11-29",level:2},{value:"Issues Resolved",id:"issues-resolved-5",level:3},{value:"Improvements",id:"improvements-2",level:3},{value:"0.101.2 <em>2024-11-15</em>",id:"01012-2024-11-15",level:2},{value:"Issues Resolved",id:"issues-resolved-6",level:3},{value:"0.101.1 <em>2024-10-15</em>",id:"01011-2024-10-15",level:2},{value:"Issues Resolved",id:"issues-resolved-7",level:3},{value:"0.101.0 <em>2024-07-17</em>",id:"01010-2024-07-17",level:2},{value:"Breaking Changes",id:"breaking-changes-1",level:3},{value:"Improvements and New Features",id:"improvements-and-new-features",level:3},{value:"Issues Resolved",id:"issues-resolved-8",level:3},{value:"0.100.0 <em>2024-06-12</em>",id:"01000-2024-06-12",level:2},{value:"Issues Resolved",id:"issues-resolved-9",level:3},{value:"0.99.0 <em>2024-06-10</em>",id:"0990-2024-06-10",level:2},{value:"Breaking Changes",id:"breaking-changes-2",level:3},{value:"Bold",id:"bold",level:3},{value:"Mode Switching",id:"mode-switching",level:3},{value:"New Features",id:"new-features",level:3},{value:"Issues Resolved",id:"issues-resolved-10",level:3},{value:"0.98.6 <em>2024-01-27</em>",id:"0986-2024-01-27",level:2},{value:"New Features",id:"new-features-1",level:3},{value:"Issues Resolved",id:"issues-resolved-11",level:3}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"mathfield-changelog",children:"Mathfield Changelog"})}),"\n","\n",(0,l.jsxs)(t.A,{children:[(0,l.jsx)(n.h2,{id:"coming-soon",children:"Coming Soon"}),(0,l.jsx)(n.h3,{id:"resolved-issues",children:"Resolved Issues"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Using the kebab version of commands (for example ",(0,l.jsx)(n.code,{children:'"select-all"'})," instead of\n",(0,l.jsx)(n.code,{children:'"SelectAll"'}),") would incorrectly result in a runtime error."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01051-2025-04-18",children:["0.105.1 ",(0,l.jsx)(n.em,{children:"2025-04-18"})]}),(0,l.jsx)(n.h3,{id:"resolved-issues-1",children:"Resolved Issues"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2526"})," In the virtual keyboard, the keycap text over CSS variables was not\ndisplayed correctly."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2567"})," Avoid potential race condition when changing the focus of the\nmathfield."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2638"}),", ",(0,l.jsx)(n.strong,{children:"#2479"})," Fragments that were styled with some color were not\nrendered correctly when the mathfield was not focused."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2669"})," If a page had multiple mathfields, when using the suggestion\npopover, the suggestion popover would be inserted in the wrong mathfield."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2584"})," In some cases, a menu item could get inadvertently selected when\nwhen brining up the menu."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2673"})," When using the CJS version of the library, the height of the virtual\nkeyboard was not correctly calculated."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2666"})," In some cases, the state of the Undo/Redo buttons could get out of\nsync with the state of the mathfield."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2667"})," The edit toolbar was not displayed in the alphabetic keyboard\nlayout."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Accessibility: Improved support for the high-contrast mode."}),"\n",(0,l.jsxs)(n.li,{children:["There is a new CSS variable to control the z-index of the suggestion popover:\n",(0,l.jsx)(n.code,{children:"--suggestion-zindex"}),". This allows the suggestion popover to be displayed\nabove other elements on the page."]}),"\n",(0,l.jsxs)(n.li,{children:["Added support for the ",(0,l.jsx)(n.code,{children:"\\strut"})," and ",(0,l.jsx)(n.code,{children:"\\mathstrut"})," commands. These commands are\nused to insert a strut, which is an invisible element that takes up space in\nthe math expression. This is useful for aligning expressions or for creating\nspace between elements."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2662"})," When the command popover is displayed, pressing the ",(0,l.jsx)(n.strong,{children:"Return"})," key\nwill insert the command in the mathfield and close the popover."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2658"})," Improved localization for Italian."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2671"})," When inserting a command with an argument with the suggestion\npopover, position the cursor inside the argument."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01050-2025-03-27",children:["0.105.0 ",(0,l.jsx)(n.em,{children:"2025-03-27"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes",children:"Breaking Changes"}),(0,l.jsxs)(n.p,{children:["In order to support alternate CDNs, in particular ",(0,l.jsx)(n.code,{children:"jsdelivr"}),", the file layout of\nthe ",(0,l.jsx)(n.strong,{children:"npm"})," package has changed. The files that were previously in the ",(0,l.jsx)(n.code,{children:"./dist/"}),"\ndirectory are now in the root of the package. This should not affect most users,\nbut if you are importing the library or auxiliary files from the ",(0,l.jsx)(n.code,{children:"dist"}),"\ndirectory, you will need to update your paths."]}),(0,l.jsxs)(n.p,{children:["To use ",(0,l.jsx)(n.code,{children:"jsdelivr"}),", use:"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import { MathfieldElement } from "https://esm.run/mathlive";\n'})}),(0,l.jsx)(n.p,{children:"or:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<script defer src="https://cdn.jsdelivr.net/npm/mathlive"><\/script>\n'})}),(0,l.jsx)(n.h3,{id:"issues-resolved",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2647"}),", ",(0,l.jsx)(n.strong,{children:"#2634"}),", ",(0,l.jsx)(n.strong,{children:"#2562"})," Some accents (",(0,l.jsx)(n.code,{children:"\\hat{}"}),", ",(0,l.jsx)(n.code,{children:"\\vec{}"}),") where not\nrendered correctly in some cases."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2635"})," In Chrome (and Firefox), clicking on the padding area of the\nmathfield would not result in the focus getting into a zombie state and\nkeyboard event no longer being dispatched."]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01042-2025-03-23",children:["0.104.2 ",(0,l.jsx)(n.em,{children:"2025-03-23"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-1",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2588"})," With Chrome 133+ input with the physical keyboard was disabled after\nshowing the virtual keyboard."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01041-2025-03-18",children:["0.104.1 ",(0,l.jsx)(n.em,{children:"2025-03-18"})]}),(0,l.jsx)(n.h3,{id:"improvements-1",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Improved support for the ",(0,l.jsx)(n.code,{children:"jsdelivr"})," CDN. To use it, use:"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import { MathfieldElement } from "https://esm.run/mathlive";\n'})}),(0,l.jsx)(n.h3,{id:"issues-resolved-2",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2628"})," Attempting to delete an empty line in a multiline environment would\nnot delete the line."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2585"})," In some cases, the arguments of a macro were not serialized\ncorrectly. This could happen when using a macro in conjunction with a inline\nshortcut."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2586"})," The ",(0,l.jsx)(n.code,{children:"\\pdiff{}{}"})," command was not properly serialized to LaTeX."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01040-2025-02-08",children:["0.104.0 ",(0,l.jsx)(n.em,{children:"2025-02-08"})]}),(0,l.jsx)(n.h3,{id:"security-advisories",children:"Security Advisories"}),(0,l.jsxs)(n.p,{children:["As a reminder, if you are handling untrusted input, you should consider using\nthe ",(0,l.jsx)(n.code,{children:"MathfieldElement.createHTML()"})," method to sanitize content. The\n",(0,l.jsx)(n.code,{children:"createHTML()"})," method follows the recommendations from the\n",(0,l.jsx)(n.a,{href:"https://www.w3.org/TR/trusted-types/",children:"Trusted Type"})," specification."]}),(0,l.jsx)(n.p,{children:"For example, using the DOMPurify library (there are other HTML sanitizers\navailable):"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.2.3/purify.min.js"><\/script>\n'})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"MathfieldElement.createHTML = (html) => DOMPurify.sanitize(html);\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://github.com/advisories/GHSA-qwj6-q94f-8425",children:(0,l.jsx)(n.strong,{children:"security advisory"})}),"\nUntrusted input could be used to inject arbitrary HTML or JavaScript code in a\npage using a mathfield or math content rendered by the library, if the content\nincluded an ",(0,l.jsx)(n.code,{children:"\\htmlData{}"})," command with maliciously crafted input and no DOM\nsanitizer was used."]}),"\n",(0,l.jsxs)(n.p,{children:["The content of the ",(0,l.jsx)(n.code,{children:"\\htmlData{}"})," command is now sanitized and the \ud83d\udeab emoji is\ndisplayed instead in the mathfield if the content is unsafe. When using\n",(0,l.jsx)(n.code,{children:"convertLatexToMarkup()"}),", an exception is thrown."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"\\href{}{}"})," command now only allows URLs with the ",(0,l.jsx)(n.code,{children:"http"})," or ",(0,l.jsx)(n.code,{children:"https"}),"\nprotocol."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-3",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Generate only standard trigonometric functions, i.e. those available in the\n",(0,l.jsx)(n.code,{children:"amsmath"})," package. Use ",(0,l.jsx)(n.code,{children:"\\operatorname{}"})," for the others. The standard commands\nare:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\arccos"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\arcsin"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\arctan"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\arg"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\cos"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\cosh"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\cot"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\coth"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\csc"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\sec"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\sin"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\sinh"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\tan"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"\\tanh"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added support for ",(0,l.jsx)(n.code,{children:"\\dddot"})," and ",(0,l.jsx)(n.code,{children:"\\ddddot"})," commands."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2573"})," The ",(0,l.jsx)(n.code,{children:"\\operatorname{}"})," command when round-tripped would incldue an\nextraneous ",(0,l.jsx)(n.code,{children:"\\mathrm{}"})," command."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2132"}),", ",(0,l.jsx)(n.strong,{children:"#2548"})," Improved handling of multi-line mathfields. To use a\nmulti-line mathfield, include a multi-line environment:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"\\displaylines{}"}),": single column of left-aligned equations"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"gather"}),": single column of centered equations"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"multline"}),": centered equations with the first line aligned left and the last\nline aligned to the right"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"align"}),": two columns, the first column right-aligned, the second column\nleft-aligned; used for one equation per line"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"split"}),": two columns of equations, the first column right-aligned, the\nsecond column left-aligned; used for a single equation split over multiple\nlines"]}),"\n"]}),"\n"]}),"\n"]}),(0,l.jsx)(n.p,{children:"For example:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"<math-field>\\displaylines{x=1 \\\\y = 2}</math-field>\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"<math-field>\\begin{align}\n  f(0) &= 1 \\\\\n  f(x + 1) &= f(x-1) + f(x)\n\\end{align}\n</math-field>\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["When in a multi-line environment, the ",(0,l.jsx)(n.strong,{children:"Return"})," key will move to the next\nline. The ",(0,l.jsx)(n.strong,{children:"Backspace"})," key will delete the current line if the cursor is at\nthe beginning of the line. Note that no placeholder is inserted on a new line:\nthe line is simply blank."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.strong,{children:"Add Row Before"}),", ",(0,l.jsx)(n.strong,{children:"Add Row After"}),", ",(0,l.jsx)(n.strong,{children:"Add Column Before"}),", ",(0,l.jsx)(n.strong,{children:"Add Column\nAfter"}),", ",(0,l.jsx)(n.strong,{children:"Delete Row"})," and ",(0,l.jsx)(n.strong,{children:"Delete Columns"})," commands are available in the\ncontext menu when the cursor is inside a matrix. They are not available in\nmulti-line environments."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2574"})," The commands ",(0,l.jsx)(n.code,{children:"\\coloneq"}),", ",(0,l.jsx)(n.code,{children:"\\Coloneq"}),", ",(0,l.jsx)(n.code,{children:"\\Coloneqq"}),", ",(0,l.jsx)(n.code,{children:"\\eqcolon"})," and\n",(0,l.jsx)(n.code,{children:"\\Eqcolon"})," were mapped to incorrect symbols (some of them used obsolete\ndefinitions of those commands from the mathtools package that changed in the\nSummer of 2022). They are now correctly mapped to the corresponding symbols."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2576"})," The command ",(0,l.jsx)(n.code,{children:"\\perp"})," was mapped to the wrong symbol (U+22A5). It is\nnow mapped to the correct symbol (U+27C2)"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Improved ASCIIMath serialization."}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01030-2024-12-10",children:["0.103.0 ",(0,l.jsx)(n.em,{children:"2024-12-10"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-4",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2530"})," The AsciiMath ",(0,l.jsx)(n.code,{children:"1/2"})," is now parsed as ",(0,l.jsx)(n.code,{children:"\\frac{1}{2}"})]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"\\displaylines"})," command is now correctly parsed as a command with an\nargument, not as a group command."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01020-2024-11-29",children:["0.102.0 ",(0,l.jsx)(n.em,{children:"2024-11-29"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-5",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2550"})," The subpath exports in the main package.json have been updated to\ncomply with Node.js's subpath patterns, which utilize \"direct static matching\nand replacement."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-2",children:"Improvements"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2554"})," ",(0,l.jsx)(n.strong,{children:"Option for sticky virtual keyboard variant panel"})]}),"\n",(0,l.jsx)(n.p,{children:"When long pressing a key on the virtual keyboard, a variant panel is displayed\nthat offers alternatives (variants) for that key. The panel is only displayed\nwhile your finger is pressing the key (like a smartphone keyboard). This new\noptions allows the variant panel to remain displayed even if you lift your\nfinger from the screen."}),"\n",(0,l.jsxs)(n.p,{children:["Add the ",(0,l.jsx)(n.code,{children:"stickyVariantPanel"})," property to a virtual keyboard keycap definition\nto make the variant panel sticky."]}),"\n",(0,l.jsxs)(n.p,{children:["See ",(0,l.jsx)(n.code,{children:"./examples/sticky-variant-panel/"})," for an example."]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01012-2024-11-15",children:["0.101.2 ",(0,l.jsx)(n.em,{children:"2024-11-15"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-6",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Correctly display the caret following a ",(0,l.jsx)(n.code,{children:"\\mathop{}"})," command."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2540"})," When using ",(0,l.jsx)(n.code,{children:"renderMathInElement()"})," some white space was occasionally\nincorrectly removed."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2545"})," (?) Use ",(0,l.jsx)(n.code,{children:"\\rightarrow"})," instead of ",(0,l.jsx)(n.code,{children:"\\rarr"})," in the virtual keyboard."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2543"})," The ",(0,l.jsx)(n.code,{children:"MathfieldElement.fractionNavigationOrder"})," was not respected\nwhen navigating in a fraction with the arrow keys."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2251"})," Fixed the serialization of ",(0,l.jsx)(n.code,{children:"\\displaylines{}"})]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01011-2024-10-15",children:["0.101.1 ",(0,l.jsx)(n.em,{children:"2024-10-15"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-7",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2533"})," When using the virtual keyboard to insert a character with a\nblackboard style followed by a non-alphabetic symbol without a blackboard\nstyle, the second symbol would incorrectly be serialized with a blackboard\nstyle."]}),"\n",(0,l.jsxs)(n.li,{children:["In some cases, the ",(0,l.jsx)(n.code,{children:"placeholder"})," attribute would not be displayed when the\nmathfield was empty."]}),"\n",(0,l.jsx)(n.li,{children:"When using static math, the font-familly for text content was not correctly\ninherited from the parent element."}),"\n",(0,l.jsx)(n.li,{children:'In some cases, the inherent style of a macro could get overriden. For example\ntyping the "RR" inline shortcut resulted in an unstyled R instead of the\nexpected blackboard R.'}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01010-2024-07-17",children:["0.101.0 ",(0,l.jsx)(n.em,{children:"2024-07-17"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-1",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The properties ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.actionKeycap"}),",\n",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.shiftKeycap"}),", ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.backspaceKeycap"}),", and\n",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.tabKeycap"})," have been removed. Use the more general\n",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.setKeycap()"})," method to customize these keycaps, that is\n",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.setKeycap('[action]', {...})"})," etc..."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"improvements-and-new-features",children:"Improvements and New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Macros can now be specified with ",(0,l.jsx)(n.code,{children:"renderMathInElement()"})," and\n",(0,l.jsx)(n.code,{children:"renderMathInDocument()"})," using the ",(0,l.jsx)(n.code,{children:"macros"})," option. For example:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"renderMathInElement(element, {macros: {RR: '\\\\mathbb{R}'}})\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Performance improvements for pages with many mathfields. The initial rendering\ncan be up to 2x as fast."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Some keycaps in the virtual keyboard can be customized without having to\ndefine an entire virtual keyboard layout."}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.getKeycap()"})," give access to the definition of special\nkeycaps and ",(0,l.jsx)(n.code,{children:"mathVirtualKeyboard.setKeycap()"})," can be used to change that\ndefinition."]}),"\n",(0,l.jsx)(n.p,{children:"The keycaps are one of these special shortcuts:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[left]"}),", ",(0,l.jsx)(n.code,{children:"[right]"}),", ",(0,l.jsx)(n.code,{children:"[up]"}),", ",(0,l.jsx)(n.code,{children:"[down]"}),", ",(0,l.jsx)(n.code,{children:"[return]"}),", ",(0,l.jsx)(n.code,{children:"[action]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[space]"}),", ",(0,l.jsx)(n.code,{children:"[tab]"}),", ",(0,l.jsx)(n.code,{children:"[backspace]"}),", ",(0,l.jsx)(n.code,{children:"[shift]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[undo]"}),", ",(0,l.jsx)(n.code,{children:"[redo]"}),", ",(0,l.jsx)(n.code,{children:"[foreground-color]"}),", ",(0,l.jsx)(n.code,{children:"[background-color]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[hide-keyboard]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[.]"}),", ",(0,l.jsx)(n.code,{children:"[,]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[0]"}),", ",(0,l.jsx)(n.code,{children:"[1]"}),", ",(0,l.jsx)(n.code,{children:"[2]"}),", ",(0,l.jsx)(n.code,{children:"[3]"}),", ",(0,l.jsx)(n.code,{children:"[4]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[5]"}),", ",(0,l.jsx)(n.code,{children:"[6]"}),", ",(0,l.jsx)(n.code,{children:"[7]"}),", ",(0,l.jsx)(n.code,{children:"[8]"}),", ",(0,l.jsx)(n.code,{children:"[9]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[+]"}),", ",(0,l.jsx)(n.code,{children:"[-]"}),", ",(0,l.jsx)(n.code,{children:"[*]"}),", ",(0,l.jsx)(n.code,{children:"[/]"}),", ",(0,l.jsx)(n.code,{children:"[^]"}),", ",(0,l.jsx)(n.code,{children:"[_]"}),", ",(0,l.jsx)(n.code,{children:"[=]"}),", ",(0,l.jsx)(n.code,{children:"[.]"}),","]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[(]"}),", ",(0,l.jsx)(n.code,{children:"[)]"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"For example, to change the LaTeX inserted when the multiplication key is\npressed use:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"mathVirtualKeyboard.setKeycap('[*]', {latex: '\\\\times'});\n"})}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-8",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2455"})," Serialization to ASCII Math of brackets and braces is now correct."]}),"\n",(0,l.jsxs)(n.li,{children:["When using Chrome in some locale (such as ",(0,l.jsx)(n.code,{children:"es-419"}),"), the context menu would\nnot be displayed."]}),"\n",(0,l.jsxs)(n.li,{children:["When the ",(0,l.jsx)(n.code,{children:"MathfieldElement.isFunction"})," handler is updated, re-render all the\nmathfields on the page to take it into account."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2415"})," A content change event is now dispatched when the value of the\nmathfield is changed as a result of switch from LaTeX mode to math mode by\nchanging the selection."]}),"\n",(0,l.jsxs)(n.li,{children:["Dispatch a ",(0,l.jsx)(n.code,{children:"contextmenu"})," event any time the context menu is about to be\ndisplayed. This allows the event to be canceled."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2413"})," When setting the ",(0,l.jsx)(n.code,{children:"alphabeticLayout"}),", the current keyboard would not\nbe updated in some cases."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2412"})," The serialization of some expressions to LaTeX could result in some\nspaces being omitted. For example, ",(0,l.jsx)(n.code,{children:"\\lnot p"})," would serialize as ",(0,l.jsx)(n.code,{children:"\\lnotp"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2403"})," The virtual keyboard Keycap Variants panel was positioned\nincorrectly when the page used a RTL layout direction."]}),"\n",(0,l.jsx)(n.li,{children:"In the virtual keyboard, the background of the variant panel was sometimes\ndisplayed transparently."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2402"})," Characters inserted after a ",(0,l.jsx)(n.code,{children:"\\mathbb{}"})," command were not styled\ncorrectly."]}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"math-virtual-keyboard-command"})," event was not dispatched when a mathfield\nwas focused and a keycap was pressed."]}),"\n",(0,l.jsxs)(n.li,{children:["There are now CSS selectors to customize the size of glyphs in the virtual\nkeyboard (shift, enter, etc...):","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--keycap-glyph-size"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--keycap-glyph-size-lg"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--keycap-glyph-size-xl"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2397"})," When a ",(0,l.jsx)(n.code,{children:"beforeinput"})," event was canceled, the text would still be\ninserted when using the physical keyboard."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2398"})," When a placeholder was the only element in a group, i.e.\n",(0,l.jsx)(n.code,{children:"{\\placeholder{}}"}),", the placeholder was not automatically selected."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"01000-2024-06-12",children:["0.100.0 ",(0,l.jsx)(n.em,{children:"2024-06-12"})]}),(0,l.jsx)(n.h3,{id:"issues-resolved-9",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2396"})," Pressing the arrow keys in the virtual keyboard would not move the\nselection in the mathfield and display a runtime error in the console."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2392"})," Pressing the backspace key after typing several digits would delete\nall the digits."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2395"})," Added a ",(0,l.jsx)(n.code,{children:"dispatchEvent"})," command which can be attached to a custom\nkeycap."]}),"\n",(0,l.jsxs)(n.p,{children:["Its first argument is the name of the dispatched event, and the second\nargument is an object with the ",(0,l.jsx)(n.code,{children:"detail"})," property, which is the data associated\nwith the event."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"  {\n    label: \"\u2728\",\n    command: \"dispatchEvent('customEvent', {detail: 'some data'})\"\n  }\n"})}),"\n",(0,l.jsx)(n.p,{children:"To handle the event, add an event listener to the mathfield element:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"mf.addEventListener('customEvent', (ev) => {\n  console.log(ev.detail);\n});\n"})}),"\n"]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0990-2024-06-10",children:["0.99.0 ",(0,l.jsx)(n.em,{children:"2024-06-10"})]}),(0,l.jsx)(n.h3,{id:"breaking-changes-2",children:"Breaking Changes"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mf.offsetFromPoint()"})," method has been renamed ",(0,l.jsx)(n.code,{children:"mf.getOffsetFromPoint()"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mf.setCaretPoint()"})," method has been replaced with\n",(0,l.jsx)(n.code,{children:"mf.position = mf.getOffsetFromPoint()"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"mf.scriptDepth()"})," and ",(0,l.jsx)(n.code,{children:"mf.hitboxFromOffset()"})," methodds have been replaced\nwith ",(0,l.jsx)(n.code,{children:"mf.getElementInfo()"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"getElementInfo()"})," method provides more information including any id that\nmay have been applied with ",(0,l.jsx)(n.code,{children:"\\htmlId{}"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["It is useful from within a ",(0,l.jsx)(n.code,{children:"click"})," handler to get more information about the\nelement that was clicked, e.g."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"  mf.getElementInfo(mf.getOffsetFromPoint(ev.clientX, ev.clientY))\n"})}),"\n",(0,l.jsx)(n.p,{children:"The info returned is an object with the following properties:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"export type ElementInfo = {\n  /** The depth in the expression tree. 0 for top-level elements */\n  depth?: number;\n\n  /** The bounding box of the element */\n  bounds?: DOMRect;\n\n  /** id associated with this element or its ancestor, set with `\\htmlId` or\n     `\\cssId`\n  */\n  id?: string;\n\n  /** HTML attributes associated with element or its ancestores, set with\n   * `\\htmlData`\n   */\n  data?: Record<string, string | undefined>;\n\n  /** The mode (math, text or LaTeX) */\n  mode?: ParseMode;\n\n  /** A LaTeX representation of the element */\n  latex?: string;\n\n  /** The style (color, weight, variant, etc...) of this element. */\n  style?: Style;\n};\n"})}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"bold",children:"Bold"}),(0,l.jsx)(n.p,{children:"The way bold is handled in LaTeX is particularly confusing, reflecting\nlimitations of the text rendering technology of the time."}),(0,l.jsx)(n.p,{children:"Various attempts have been made over the years to improve the rendering of bold,\nbut this has resulted in inconsistent behavior. Furthermore, various\nimplementations of LaTeX and LaTeX-like systems have implemented bold in\ndifferent ways."}),(0,l.jsx)(n.p,{children:"This release introduces a more consistent and intuitive handling of bold,\nalthough it may result in different rendering of some formulas compared to some\nimplementations of LaTeX."}),(0,l.jsxs)(n.p,{children:["The original bold command in LaTeX is ",(0,l.jsx)(n.code,{children:"\\mathbf"}),". This command renders its\nargument using a bold variant of the current font. However, only letters and\nnumbers can be rendered by this command. It does not affect symbols, operators,\nor greek characters."]}),(0,l.jsxs)(n.p,{children:["For example, ",(0,l.jsx)(n.code,{children:"\\mathbf{a+b}"})," will render as ",(0,l.jsx)(n.code,{children:"\ud835\udc1a+\ud835\udc1b"}),", with the ",(0,l.jsx)(n.code,{children:"a"})," and ",(0,l.jsx)(n.code,{children:"b"})," in bold,\nbut the ",(0,l.jsx)(n.code,{children:"+"})," in normal weight. Characters rendered by ",(0,l.jsx)(n.code,{children:"\\mathbf"})," are rendered\nupright, even if they would have been rendered as italic otherwise."]}),(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"\\boldsymbol"})," command is an alternative to ",(0,l.jsx)(n.code,{children:"\\mathbf"})," that affects more\ncharacters, including Greek letters and symbols. It does not affect the style of\nthe characters, so they remain italic if they were italic before. However, the\ninter-character spacing and italic correction may not be rendered correctly."]}),(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"\\bm"})," command from the ",(0,l.jsx)(n.code,{children:"bm"})," package is a more modern alternative that\naffects even more characters. It also preserves the style of the characters, so\nthey remain italic if they were italic before. The inter-character spacing and\nitalic correction are handled correctly."]}),(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"\\bm"})," command is recommended over ",(0,l.jsx)(n.code,{children:"\\boldsymbol"})," and ",(0,l.jsx)(n.code,{children:"\\mathbf"}),". However, it\nis not part of the standard LaTeX distribution, so it may not always be\navailable."]}),(0,l.jsxs)(n.p,{children:["When serializing to LaTeX, MathLive will now use ",(0,l.jsx)(n.code,{children:"\\mathbf"})," when possible, and\nfall back to ",(0,l.jsx)(n.code,{children:"\\bm"})," when not. This should result in more consistent rendering of\nbold text."]}),(0,l.jsxs)(n.p,{children:["When parsing, MathLive will interpret both ",(0,l.jsx)(n.code,{children:"\\mathbf"}),", ",(0,l.jsx)(n.code,{children:"\\boldsymbol"})," and ",(0,l.jsx)(n.code,{children:"\\bm"})," as\nbold."]}),(0,l.jsx)(n.p,{children:"The bold style is now consistently inherited by sub-expressions."}),(0,l.jsxs)(n.p,{children:["Similarly, when applying a bold style using ",(0,l.jsx)(n.code,{children:'mf.applyStyle({weight: "bold"})'}),",\nthe bold attribute is applied to the entire selection, not just the letters and\nnumbers."]}),(0,l.jsx)(n.h3,{id:"mode-switching",children:"Mode Switching"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2375"})," The ",(0,l.jsx)(n.code,{children:"switch-mode"})," command has two optionals arguments, a prefix and\nsuffix. The prefix is inserted before the mode switch, and the suffix after.\nThe command was behaving incorrectly. It now behaves as expected."]}),"\n",(0,l.jsxs)(n.li,{children:["It is now possible to roundtrip between math and text mode. For example,\nselecting a fraction ",(0,l.jsx)(n.code,{children:"\\frac{a}{b}"})," and pressing ",(0,l.jsx)(n.code,{children:"alt+shift+T"})," will convert the\nselection to ",(0,l.jsx)(n.code,{children:"(a)/(b)"}),". Pressing ",(0,l.jsx)(n.code,{children:"alt+shift+T"})," again will convert it back to\n",(0,l.jsx)(n.code,{children:"\\frac{a}{b}"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"When in LaTeX mode, changing the selection would sometimes unexpectedly exit\nLaTeX mode, for example after the Select All command. This has been fixed."}),"\n"]}),(0,l.jsx)(n.h3,{id:"new-features",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"\\href"})})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"\\href{url}{content}"})," command, a MathJax extension that allows a link to\nbe associated with some content, is now supported."]}),"\n",(0,l.jsxs)(n.p,{children:["Clicking on the content will open the link. By default, the link is opened in\na new window, and only links with a HTTP, HTTPS or FILE protocol are allowed.\nThis can be controlled by the new ",(0,l.jsx)(n.code,{children:"MathfieldElement.openUrl"})," property. This\nproperty is a function with a single argument, the URL to be opened, that is\ncalled when the content of the ",(0,l.jsx)(n.code,{children:"\\href"})," command is clicked on."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Tooltip appearance"})}),"\n",(0,l.jsxs)(n.p,{children:["Added CSS variables to control the appearance of the toolip displayed with\n",(0,l.jsx)(n.code,{children:"\\mathtip"})," and ",(0,l.jsx)(n.code,{children:"\\texttip"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--tooltip-border"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--tooltip-color"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--tooltip-background-color"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--tooltip-box-shadow"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--tooltip-border-radius"}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"maxMatrixCols"})," property has been added that specifies the maximum number\nof columns that a matrix may have. The default value is 10, which follows the\ndefault value from the amsmath package. The property applies to all of the\nmatrix environments (",(0,l.jsx)(n.code,{children:"matrix"}),", ",(0,l.jsx)(n.code,{children:"pmatrix"}),", ",(0,l.jsx)(n.code,{children:"bmatrix"}),", etc.). This property is\nalso accessible via the ",(0,l.jsx)(n.code,{children:"max-matrix-cols"})," attribute."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The virtual keyboard now supports variants for shifted-keys. This includes\nsupport for Swedish specific characters such as ",(0,l.jsx)(n.code,{children:"\xe5"}),", ",(0,l.jsx)(n.code,{children:"\xe4"}),", and ",(0,l.jsx)(n.code,{children:"\xf6"})," and their\nuppercase variants."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Accept ",(0,l.jsx)(n.code,{children:'"true"'})," and ",(0,l.jsx)(n.code,{children:'"false"'})," as values for on/off attributes in the\n",(0,l.jsx)(n.code,{children:"<math-field>"})," element, for example ",(0,l.jsx)(n.code,{children:'<math-field smart-fence="true">'}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Added a ",(0,l.jsx)(n.code,{children:"target"})," property (a ",(0,l.jsx)(n.code,{children:"MathfieldElement"}),") to the ",(0,l.jsx)(n.code,{children:"onMenuSelect"}),"\narguments."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"#2337"})," Added an option ",(0,l.jsx)(n.code,{children:"MathfieldElement.restoreFocusWhenDocumentFocused"}),"\nto control whether a mathfield that was previously focused regains focus when\nthe tab or window regains focus. This is true by default and matches the\nprevious behavior, and the behavior of the ",(0,l.jsx)(n.code,{children:"<textarea>"})," element."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["An alternate syntax for selectors with arguments. Selectors are used for\nexample to associate actions with a keycap, such as ",(0,l.jsx)(n.code,{children:"switchKeyboardLayer"}),". The\nprevious syntax was ",(0,l.jsx)(n.code,{children:'command: ["switchKeyboardLayer", "alt-layer"]'}),", the new\nsyntax is ",(0,l.jsx)(n.code,{children:"command: 'switchKeyboardLayer(\"alt-layer\")'"}),". This is more concise\nand easier to read."]}),"\n"]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-10",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2387"})," When using a macro, the spacing around the macro was incorrect in\nsome cases."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2370"})," The order of the ",(0,l.jsx)(n.code,{children:"keydown"})," and ",(0,l.jsx)(n.code,{children:"input"})," event is now consistent with\nthe ",(0,l.jsx)(n.code,{children:"<textarea>"})," element."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2369"})," After typing a shortcut, using the backspace key could result in\nunexpected behavior. Now, pressing the backspace key after a shortcut has been\ntyped will undo the conversion of the shortcut."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2380"})," In some cases, when using the menu, some spurious focus/blur events\nwould be dispatched."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2384"})," When using repeating decimals after a comma (i.e. ",(0,l.jsx)(n.code,{children:"123{,}4(1)"}),"), do\nnot use a ",(0,l.jsx)(n.code,{children:"\\left...\\right"})," command in order to get the proper spacing."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2349"})," The positioning of subscripts for extensible symbols, such as ",(0,l.jsx)(n.code,{children:"\\int"}),"\nwas incorrect."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2326"})," The Cut and Copy commands in the context menu are now working\ncorrectly in Safari."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2309"})," When using styled text (e.g. ",(0,l.jsx)(n.code,{children:"\\textit{}"}),"), the content could\nsometimes be serialized with an unnecessary ",(0,l.jsx)(n.code,{children:"\\text{}"})," command, i.e.\n",(0,l.jsx)(n.code,{children:"\\text{\\textit{...}}"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2376"})," When ",(0,l.jsx)(n.code,{children:"smart-fence"})," was off, the ",(0,l.jsx)(n.code,{children:"{"})," and ",(0,l.jsx)(n.code,{children:"}"})," keys would not insert\nbraces."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2273"})," Using one of the Chinese locales would result in a runtime error."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2355"})," When pressing the down arrow key in ",(0,l.jsx)(n.code,{children:"\\sqrt[#?]{1}"})," from the ",(0,l.jsx)(n.code,{children:"#?"}),"\nposition, a runtime exception would occur."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2298"})," When using screen readers, pressing the spacebar would not always\ncorrectly focus the mathfield."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2297"})," In some cases, when using touch input, the previously selected item\nin a context menu would appear to be selected."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2289"})," When changing the value of the mathfield, the selection is now\npreserved. In addition, when using a controlled component with React an\nunnecessary update is avoided."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2282"})," Don't display selection when the mathfield is not focused"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2280"})," Handle better very deeply nested expressions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2261"})," When a style was applied to an empty range, the style was ignored."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2208"})," When setting a variant style (i.e. blackboard, fraktur, etc...) the\nstyle is no longer adopted by subsequent characters."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2104"}),", ",(0,l.jsx)(n.strong,{children:"#2260"})," When replacing the selection by typing, the new content\nwould not always be correctly styled. The content now inherits the style of\nthe selection, or the style of the insertion point if the selection is\ncollapsed."]}),"\n",(0,l.jsx)(n.li,{children:"Better handle the case where the mathlive library gets loaded before the DOM\nis constructed."}),"\n",(0,l.jsx)(n.li,{children:"On Safari, the Insert Matrix submenu was displayed incorrectly."}),"\n",(0,l.jsxs)(n.li,{children:["When the mathfield is an iframe, the ",(0,l.jsx)(n.code,{children:"before-virtual-keyboard-toggle"})," and\n",(0,l.jsx)(n.code,{children:"virtual-keyboard-toggle"})," events are now dispatched on the\n",(0,l.jsx)(n.code,{children:"window.mathVirtualKeyboard"})," object of the iframe. This can be used to detect\na request (and prevent) for the virtual keyboard to be displayed."]}),"\n",(0,l.jsxs)(n.li,{children:["If the unknown in an expression was a complex identifier, such as\n",(0,l.jsx)(n.code,{children:"\\mathcal{C}"}),' it would not be displayed correctly in the "Solve for" menu.']}),"\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"\\mathrlap"})," command was incorrectly rendering like ",(0,l.jsx)(n.code,{children:"\\mathllap"}),"."]}),"\n"]}),(0,l.jsxs)(n.h2,{id:"0986-2024-01-27",children:["0.98.6 ",(0,l.jsx)(n.em,{children:"2024-01-27"})]}),(0,l.jsx)(n.h3,{id:"new-features-1",children:"New Features"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Added ",(0,l.jsx)(n.code,{children:"StaticRenderOptions.TeX.className"})," to specify that an element with the\nspecified class name should be rendered as a LaTeX formula."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2273"})," Added a ",(0,l.jsx)(n.code,{children:"--keycap-width"})," CSS variable to specify the width of a\nkeycap in a virtual-keyboard. By default, if the CSS variable is not\nspecified, the width of the keycap is calculated based on the width of the\nparent container. However, this requires browser that support the ",(0,l.jsx)(n.code,{children:"cq"})," CSS\nunit. If the browser does not support the ",(0,l.jsx)(n.code,{children:"cq"})," CSS unit, this CSS variable can\nbe used to specify the width of the keycap. (See ",(0,l.jsx)(n.strong,{children:"#2028"}),", ",(0,l.jsx)(n.strong,{children:"#2133"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2255"})," Support for ",(0,l.jsx)(n.code,{children:"gather*"})," environment"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2242"})," A virtual keyboard keycap can now include a tooltip for its shifted\nvariant."]}),"\n"]}),(0,l.jsx)(n.h3,{id:"issues-resolved-11",children:"Issues Resolved"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["When using some APIs such as ",(0,l.jsx)(n.code,{children:"renderToMarkup()"})," or ",(0,l.jsx)(n.code,{children:"renderToMathML()"})," in a\nserver-side environment, a runtime error would occur."]}),"\n",(0,l.jsx)(n.li,{children:"When tabbing in a mathfield with multiple prompts, tab out of the mathfield\nwhen the last or first prompt is reached."}),"\n",(0,l.jsxs)(n.li,{children:["**#2243##, **#2245** Unicode characters such as ",(0,l.jsx)(n.code,{children:"\xb2"})," or ",(0,l.jsx)(n.code,{children:"\u2102"})," are now\ninterpreted as their LaTeX equivalent only when in math mode."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2237"})," The command ",(0,l.jsx)(n.code,{children:"\\iff"})," now renders correctly"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2246"})," Changing the ",(0,l.jsx)(n.code,{children:"mf.value"})," property would not always update the value\nof the mathfield."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2244"})," Worked around an issue in Safari on iOS where doing a double-tap on\nthe virtual keyboard would result in the mathfield losing focus and the\nvirtualy keyboard closing."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2252"})," At some viewport sizes, the integral sign in the symbols virtual\nkeyboard would be clipped."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2235"})," Improved serialization to ASCIIMath."]}),"\n",(0,l.jsx)(n.li,{children:"Avoid conflicts with some class names when rendering static math."}),"\n",(0,l.jsxs)(n.li,{children:["When using ",(0,l.jsx)(n.code,{children:"renderMathToElement()"})," or ",(0,l.jsx)(n.code,{children:"renderMathInDocument()"}),", coalesce\nadjacent text nodes."]}),"\n",(0,l.jsxs)(n.li,{children:["Correctly parse the ",(0,l.jsx)(n.code,{children:"\\cfrac"})," optional alignment argument"]}),"\n",(0,l.jsxs)(n.li,{children:["The commands ",(0,l.jsx)(n.code,{children:"\\bf"}),", ",(0,l.jsx)(n.code,{children:"\\bfseries"}),", ",(0,l.jsx)(n.code,{children:"\\mdseries"}),", ",(0,l.jsx)(n.code,{children:"\\upshape"}),", ",(0,l.jsx)(n.code,{children:"\\itshape"}),",\n",(0,l.jsx)(n.code,{children:"\\slshape"}),", ",(0,l.jsx)(n.code,{children:"\\scshape"}),", ",(0,l.jsx)(n.code,{children:"\\rmfamily"}),", ",(0,l.jsx)(n.code,{children:"\\sffamily"}),", ",(0,l.jsx)(n.code,{children:"\\ttfamily"})," are now\ninterpreted correctly."]}),"\n",(0,l.jsxs)(n.li,{children:["The command ",(0,l.jsx)(n.code,{children:"\\operatorname"})," is now spoken correctly"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"#2152"})," On Safari, fill-in-the-blank prompts containing a fraction were\nrendered incorrectly."]}),"\n"]})]})]})}function x(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},9548:(e,n,s)=>{s.d(n,{A:()=>l});var i=s(4848);function l(e){let{children:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{children:"\n    .markdown h2 {\n      align-items: center;\n      border-bottom: 2px solid var(--blue-600);\n      color: var(--blue-600);\n      display: flex;\n    }      \n\n\n    .markdown h2 em {\n      margin-left: auto;\n      color: var(--blue-600);\n      display: block;\n      float: right;\n      font-size: .6em;\n      font-style: normal;\n      font-weight: 400\n    }\n  \n    "}),n]})}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var i=s(6540);const l={},r=i.createContext(l);function t(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);