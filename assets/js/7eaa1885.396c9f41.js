"use strict";(self.webpackChunkcortexjs_io=self.webpackChunkcortexjs_io||[]).push([[2883],{7079:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"mathfield/macros","title":"Macros","description":"Over 800 LaTeX commands","source":"@site/docs/mathfield/18-macros.md","sourceDirName":"mathfield","slug":"/mathfield/guides/macros/","permalink":"/mathfield/guides/macros/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1731785970000,"sidebarPosition":18,"frontMatter":{"date":"Last Modified","title":"Macros","slug":"/mathfield/guides/macros/"},"sidebar":"docSidebar","previous":{"title":"Commands","permalink":"/mathfield/guides/commands/"},"next":{"title":"Speech","permalink":"/mathfield/guides/speech/"}}');var t=s(4848),a=s(8453);const o={date:"Last Modified",title:"Macros",slug:"/mathfield/guides/macros/"},r="Macros",d={},c=[{value:"Adding/Removing Macros",id:"addingremoving-macros",level:2},{value:"Adding a Matching Shortcut",id:"adding-a-matching-shortcut",level:2},{value:"Inspecting Available Macros",id:"inspecting-available-macros",level:2},{value:"Disabling Macros",id:"disabling-macros",level:2}];function l(e){const n={a:"a",code:"code","code-playground":"code-playground",div:"div",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components},s=n["code-playground"],{Intro:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Intro",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"macros",children:"Macros"})}),"\n",(0,t.jsx)(i,{children:(0,t.jsxs)(n.p,{children:["Over ",(0,t.jsx)(n.a,{href:"/mathfield/reference/commands/",children:"800 LaTeX commands"}),"\nare predefined. Some are primitives but others are macros, that is commands defined\nwith a LaTeX expression. You can define your own macros."]})}),"\n",(0,t.jsx)(n.h2,{id:"addingremoving-macros",children:"Adding/Removing Macros"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"To add a macro"})," use ",(0,t.jsx)(n.code,{children:"mf.macros = {...mf.macros, ...}"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["If you do not include the ",(0,t.jsx)(n.code,{children:"...mf.macros"})," expression, all the standard macros will be\nturned off."]}),"\n",(0,t.jsxs)(n.p,{children:["The example below will define a new command, ",(0,t.jsx)(n.code,{children:"\\average"}),", which will be\nreplaced by ",(0,t.jsx)(n.code,{children:"\\operatorname{average}"}),", that is displayed as a single unit\nusing an upright font."]}),"\n",(0,t.jsxs)(n.p,{children:["Try changing ",(0,t.jsx)(n.code,{children:"\\operatorname"})," to ",(0,t.jsx)(n.code,{children:"\\mathbf"})," to see the difference."]}),"\n",(0,t.jsxs)(s,{"show-line-numbers":"","mark-line":"3",children:[(0,t.jsxs)(n.div,{slot:"html",children:['<math-field id="mf">\\average([2, 4, 8])</math-field>\n',"\n"]}),(0,t.jsxs)(n.div,{slot:"javascript",children:['const mf = document.getElementById("mf");\n',"mf.macros = { ...mf.macros,\n","  ","average: '\\\\operatorname{average}',\n","};\n"]})]}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsxs)(n.p,{children:["You can use standard LaTeX commands in the definition of a macro. For example,\nthe following macro definition uses the ",(0,t.jsx)(n.code,{children:"\\,"})," and ",(0,t.jsx)(n.code,{children:"\\;"})," commands to insert\nhorizontal spacing and ",(0,t.jsx)(n.code,{children:"{}^"})," to place the ",(0,t.jsx)(n.code,{children:"\\prime"})," command on the subscript\nline."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'mf.macros = { ...mf.macros,\n  minutes: "\\\\,{}^\\\\prime\\\\;",\n  seconds: "\\\\,\\\\doubleprime\\\\;",\n};\n'})}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsxs)(n.p,{children:["The macro definition can contain up to eight arguments, represented by ",(0,t.jsx)(n.code,{children:"#1"})," to ",(0,t.jsx)(n.code,{children:"#9"}),"."]}),"\n",(0,t.jsxs)(s,{"show-line-numbers":"",children:[(0,t.jsx)(n.div,{slot:"html",children:'<math-field id="mf">\\smallfrac{5}{7}+\\frac{5}{7}</math-field>\n'}),(0,t.jsxs)(n.div,{slot:"javascript",children:['const mf = document.getElementById("mf");\n',"mf.macros = {...mf.macros,\n","  ",'smallfrac: "{}^{#1}\\\\!\\\\!/\\\\!{}_{#2}",\n',"};\n","\n","\n"]})]}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsxs)(n.p,{children:["By default, a macro command behaves as a group whose subcomponents cannot be\nmodified. This behavior can be controlled using the ",(0,t.jsx)(n.code,{children:"captureSelection"})," flag\nin the expanded definition of a macro."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"To define a macro whose content is selectable and editable"})," set\n",(0,t.jsx)(n.code,{children:"captureSelection"})," to ",(0,t.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,t.jsxs)(s,{"show-line-numbers":"","mark-line":"6",children:[(0,t.jsx)(n.div,{slot:"html",children:'<math-field id="mf">\\scriptCapitalE=\\smallfrac{5}{7}+\\frac{5}{7}</math-field>\n'}),(0,t.jsxs)(n.div,{slot:"javascript",children:['const mf = document.getElementById("mf");\n',"mf.macros = {...mf.macros,\n","  ","smallfrac: {\n","    ","args: 2,\n","    ","def: '{}^{#1}\\\\!\\\\!/\\\\!{}_{#2}',\n","    ","captureSelection: false,\n","  ","},\n","};\n","\n","\n"]})]}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"To remove a macro"})," set its definition to undefined:"]}),"\n",(0,t.jsxs)(s,{"show-line-numbers":"",children:[(0,t.jsx)(n.div,{slot:"html",children:'<math-field id="mf">\\diamonds</math-field>\n'}),(0,t.jsxs)(n.div,{slot:"javascript",children:["const mf = document.getElementById('mf');\n","mf.macros = {...mf.macros, diamonds: undefined };\n","\n"]})]}),"\n",(0,t.jsx)(n.h2,{id:"adding-a-matching-shortcut",children:"Adding a Matching Shortcut"}),"\n",(0,t.jsx)(n.p,{children:"By defining a new macro, a new LaTeX command is added to the dictionary\nof commands that can be used in a LaTeX expression."}),"\n",(0,t.jsxs)(n.p,{children:["To input a macro, type ",(0,t.jsx)("kbd",{children:"\\"})," followed by the macro name, then ",(0,t.jsx)("kbd",{children:"RETURN"})]}),"\n",(0,t.jsxs)(n.p,{children:["Custom macros are also included in the value of the mathfield\nexpressed as a LaTeX string (",(0,t.jsx)(n.code,{children:"mf.value"}),")."]}),"\n",(0,t.jsxs)(n.p,{children:["It may also be convenient to associate the macro with an inline\nshortcut. Inline shortcuts can be typed without having to enter the LaTeX\nediting mode (without having to type the ",(0,t.jsx)("kbd",{children:"\\"})," key)."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"To define an associated inline shortcut"}),", use the ",(0,t.jsx)(n.code,{children:"inlineShortcuts"})," option."]}),"\n",(0,t.jsxs)(s,{"show-line-numbers":"",children:[(0,t.jsxs)(n.div,{slot:"html",children:['<math-field id="mf">\n',"  ","3\\minutes 15\\seconds\n","</math-field>\n"]}),(0,t.jsxs)(n.div,{slot:"javascript",children:["const mf = document.getElementById('mf');\n","//\n","mf.macros = {...mf.macros,\n","  ","// This means that the command macro `\\minutes`\n","  ","// will be replaced with `\\,{}^\\\\prime\\\\;`\n","  ","minutes: '\\\\,{}^\\\\prime\\\\;',\n","  ","seconds: '\\\\,\\\\doubleprime\\\\;',\n","};\n","//\n","mf.inlineShortcuts = {...mf.inlineShortcuts,\n","  ","// This means that typing the inline shortcut\n","  ",'// "minutes" will insert the command "\\minutes"\n',"  ","minutes: '\\\\minutes',\n","  ","seconds: '\\\\seconds',\n","};\n","\n","\n"]})]}),"\n",(0,t.jsx)(n.h2,{id:"inspecting-available-macros",children:"Inspecting Available Macros"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"To view the available macros"}),", inspect the ",(0,t.jsx)(n.code,{children:"macros"})," property:"]}),"\n",(0,t.jsxs)(s,{"show-line-numbers":"",children:[(0,t.jsx)(n.div,{slot:"html",children:"<math-field id='mf'>x=\\frac{-b\\pm \\sqrt{b^2-4ac}}{2a}</math-field>\n"}),(0,t.jsxs)(n.div,{slot:"javascript",children:["const mf = document.getElementById('mf');\n","console.log(mf.macros);\n","\n","\n"]})]}),"\n",(0,t.jsx)(n.h2,{id:"disabling-macros",children:"Disabling Macros"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"To turn off all macros"}),", use  ",(0,t.jsx)(n.code,{children:"mf.macros = {}"}),"."]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>r});var i=s(6540);const t={},a=i.createContext(t);function o(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);