"use strict";(globalThis.webpackChunkcortexjs_io=globalThis.webpackChunkcortexjs_io||[]).push([[3536],{7906(e,n,d){d.r(n),d.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>a,frontMatter:()=>r,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"mathfield/commands","title":"Commands","description":"You can perform editing operations on the mathfield programmatically.","source":"@site/docs/mathfield/17-commands.md","sourceDirName":"mathfield","slug":"/mathfield/guides/commands/","permalink":"/mathfield/guides/commands/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1736976892000,"sidebarPosition":17,"frontMatter":{"date":"Last Modified","title":"Commands","slug":"/mathfield/guides/commands/"},"sidebar":"docSidebar","previous":{"title":"Fill-in-the-Blank","permalink":"/mathfield/guides/fill-in-the-blank/"},"next":{"title":"Macros","permalink":"/mathfield/guides/macros/"}}');var s=d(4848),l=d(8453);const r={date:"Last Modified",title:"Commands",slug:"/mathfield/guides/commands/"},c="Commands",o={},t=[{value:"Editing Commands",id:"editing-commands",level:2},{value:"Edit Menu",id:"edit-menu",level:2},{value:"User Interface",id:"user-interface",level:2},{value:"Scrolling",id:"scrolling",level:2},{value:"Navigating",id:"navigating",level:2},{value:"Extending the Selection",id:"extending-the-selection",level:2},{value:"Arrays",id:"arrays",level:2},{value:"Speech",id:"speech",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{Intro:d}=n;return d||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Intro",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"commands",children:"Commands"})}),"\n",(0,s.jsx)(d,{children:(0,s.jsx)(n.p,{children:"You can perform editing operations on the mathfield programmatically.\nFor example, to insert a fraction when the user clicks a button."})}),"\n",(0,s.jsxs)(n.p,{children:["You can do this by dispatching ",(0,s.jsx)(n.strong,{children:"commands"})," to the mathfield, such as\n",(0,s.jsx)(n.code,{children:'"select-all"'}),", ",(0,s.jsx)(n.code,{children:'"move-to-next-char"'}),", ",(0,s.jsx)(n.code,{children:'"delete-backward"'}),", etc..."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To dispatch commands"})," use the ",(0,s.jsx)(n.a,{href:"/docs/mathfield/#(%22mathfield-element%22%3Amodule).(MathfieldElement%3Aclass).(executeCommand%3Ainstance)",children:(0,s.jsx)(n.code,{children:"mf.executeCommand()"})})," method."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'mf.executeCommand("delete-backward");\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"To associate commands with virtual keyboard keycaps"})," use the ",(0,s.jsx)(n.code,{children:"command"}),"\nproperty of the keycap definition. For example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",metastring:"example",children:'{ \n  "class": "action", \n  "label": "Delete", \n  "command": \'perform-with-feedback("delete-backward")\'\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Commands are identified by a string called the ",(0,s.jsx)(n.strong,{children:"selector"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["The selector can use either CamelCase or kebab-case syntax. For example:\n",(0,s.jsx)(n.code,{children:'"moveToNextChar"'})," or ",(0,s.jsx)(n.code,{children:'"move-to-next-char"'})," are the same selector."]}),"\n",(0,s.jsxs)(n.p,{children:["Most commands take no parameters. When a command does have a parameter, a tuple\nwith the selector and the commands arguments can be passed to\n",(0,s.jsx)(n.code,{children:"executeCommand()"}),". For example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'mf.executeCommand(["insert", "(#0)"]);\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The command above will insert an open and close parenthesis around the selection (the ",(0,s.jsx)(n.code,{children:"#0"}),"\nsequence is replaced with the current selection)."]}),"\n",(0,s.jsx)(n.h2,{id:"editing-commands",children:"Editing Commands"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"insert"})," This selector takes two arguments. The first one is required and is\nthe content to be inserted, as a string. The second one is an optional set of\nkey value pairs:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"insertionMode"}),": one of ",(0,s.jsx)(n.code,{children:'"replaceSelection"'}),", ",(0,s.jsx)(n.code,{children:'"replaceAll"'}),",\n",(0,s.jsx)(n.code,{children:'"insertBefore"'})," or ",(0,s.jsx)(n.code,{children:'"insertAfter"'}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"selectionMode"}),": one of ",(0,s.jsx)(n.code,{children:'"placeholder"'})," (the selection will be the first\navailable placeholder in the item that has been inserted), ",(0,s.jsx)(n.code,{children:'"after"'})," (the\nselection will be an insertion point after the item that has been inserted),\n",(0,s.jsx)(n.code,{children:'"before"'})," (the selection will be an insertion point before the item that\nhas been inserted) or ",(0,s.jsx)(n.code,{children:'"item"'})," (the item that was inserted will be\nselected)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"delete"})," Synonym for ",(0,s.jsx)(n.code,{children:"deleteNextChar"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"deleteBackward"})," ",(0,s.jsx)(n.code,{children:"deleteForward"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"deleteNextWord"})," ",(0,s.jsx)(n.code,{children:"deletePreviousWord"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"deleteToGroupStart"})," ",(0,s.jsx)(n.code,{children:"deleteToGroupEnd"})]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"deleteToMathFieldEnd"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"deleteAll"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"transpose"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"edit-menu",children:"Edit Menu"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"undo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"redo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"cutToClipboard"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"copyToClipboard"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"pasteFromClipboard"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"user-interface",children:"User Interface"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"commit"})," The user has completed input. Triggered when pressing the ",(0,s.jsx)("kbd",{children:"RETURN"}),"\nor ",(0,s.jsx)("kbd",{children:"ENTER"})," key."]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"switchMode"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"complete"})," Exit command mode and insert result"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"nextSuggestion"})," and ",(0,s.jsx)(n.code,{children:"previousSuggestion"})," when the popover panel is selected,\ndisplay the next/previous suggestion"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"toggleKeystrokeCaption"})," Show/hide the keystroke caption panel. This panel\ndisplays the keys being typed, including the shortcuts. Great for demos!"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"toggleVirtualKeyboard"})," Show/hide the virtual keyboard"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"scrolling",children:"Scrolling"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"scrollToStart"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"scrollToEnd"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"scrollIntoView"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"navigating",children:"Navigating"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"moveToNextChar"})," ",(0,s.jsx)(n.code,{children:"moveToPreviousChar"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"moveToNextPlaceholder"})," ",(0,s.jsx)(n.code,{children:"moveToPreviousPlaceholder"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"moveToNextWord"})," ",(0,s.jsx)(n.code,{children:"moveToPreviousWord"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"moveToGroupStart"})," ",(0,s.jsx)(n.code,{children:"moveToGroupEnd"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"moveToMathfieldStart"})," ",(0,s.jsx)(n.code,{children:"moveToMathfieldEnd"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"moveUp"})," ",(0,s.jsx)(n.code,{children:"moveDown"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"moveToSuperscript"})," ",(0,s.jsx)(n.code,{children:"moveToSubscript"})]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"moveToOpposite"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"moveBeforeParent"})," ",(0,s.jsx)(n.code,{children:"moveAfterParent"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"extending-the-selection",children:"Extending the Selection"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"selectGroup"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"selectAll"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"extendToNextChar"})," ",(0,s.jsx)(n.code,{children:"extendToPreviousChar"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"extendToNextWord"})," ",(0,s.jsx)(n.code,{children:"extendToPreviousWord"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"extendUp"})," ",(0,s.jsx)(n.code,{children:"extendDown"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"extendToNextBoundary"})," ",(0,s.jsx)(n.code,{children:"extendToPreviousBoundary"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"extendToGroupStart"})," ",(0,s.jsx)(n.code,{children:"extendToGroupEnd"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"extendToMathFieldStart"})," ",(0,s.jsx)(n.code,{children:"extendToMathFieldEnd"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"arrays",children:"Arrays"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"addRowAfter"})," ",(0,s.jsx)(n.code,{children:"addRowBefore"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"addColumnAfter"})," ",(0,s.jsx)(n.code,{children:"addColumnBefore"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"removeRow"})," ",(0,s.jsx)(n.code,{children:"removeColumn"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"speech",children:"Speech"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"speak"})," This selector takes an optional argument, the string that\ndetermines what should be spoken. The valid values are:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"all"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"left"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"right"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"selection"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"parent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"group"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The second parameter determines whether what is being spoken should\nbe highlighted. It is an object: ",(0,s.jsx)(n.code,{children:"{withHighlighting: boolean}"})," (default is\nfalse). Note: highlighting currently only works when using Amazon's\nAWS speech synthesizer."]}),"\n"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453(e,n,d){d.d(n,{R:()=>r,x:()=>c});var i=d(6540);const s={},l=i.createContext(s);function r(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);